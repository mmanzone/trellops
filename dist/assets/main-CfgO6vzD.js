var fy=Object.defineProperty;var hy=(e,t,r)=>t in e?fy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ne=(e,t,r)=>hy(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function sc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sh={exports:{}},Pl={},uh={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=Symbol.for("react.element"),gy=Symbol.for("react.portal"),my=Symbol.for("react.fragment"),vy=Symbol.for("react.strict_mode"),yy=Symbol.for("react.profiler"),xy=Symbol.for("react.provider"),by=Symbol.for("react.context"),wy=Symbol.for("react.forward_ref"),Sy=Symbol.for("react.suspense"),ky=Symbol.for("react.memo"),Cy=Symbol.for("react.lazy"),qd=Symbol.iterator;function Iy(e){return e===null||typeof e!="object"?null:(e=qd&&e[qd]||e["@@iterator"],typeof e=="function"?e:null)}var ch={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dh=Object.assign,ph={};function Mo(e,t,r){this.props=e,this.context=t,this.refs=ph,this.updater=r||ch}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fh(){}fh.prototype=Mo.prototype;function uc(e,t,r){this.props=e,this.context=t,this.refs=ph,this.updater=r||ch}var cc=uc.prototype=new fh;cc.constructor=uc;dh(cc,Mo.prototype);cc.isPureReactComponent=!0;var Qd=Array.isArray,hh=Object.prototype.hasOwnProperty,dc={current:null},gh={key:!0,ref:!0,__self:!0,__source:!0};function mh(e,t,r){var n,o={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)hh.call(t,n)&&!gh.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:Gi,type:e,key:i,ref:a,props:o,_owner:dc.current}}function Ey(e,t){return{$$typeof:Gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gi}function Dy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Yd=/\/+/g;function ys(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dy(""+e.key):t.toString(36)}function Oa(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Gi:case gy:a=!0}}if(a)return a=e,o=o(a),e=n===""?"."+ys(a,0):n,Qd(o)?(r="",e!=null&&(r=e.replace(Yd,"$&/")+"/"),Oa(o,t,r,"",function(c){return c})):o!=null&&(pc(o)&&(o=Ey(o,r+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Yd,"$&/")+"/")+e)),t.push(o)),1;if(a=0,n=n===""?".":n+":",Qd(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+ys(i,l);a+=Oa(i,t,r,u,o)}else if(u=Iy(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+ys(i,l++),a+=Oa(i,t,r,u,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function pa(e,t,r){if(e==null)return e;var n=[],o=0;return Oa(e,n,"","",function(i){return t.call(r,i,o++)}),n}function Ty(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nt={current:null},Ba={transition:null},jy={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Ba,ReactCurrentOwner:dc};function vh(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:pa,forEach:function(e,t,r){pa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pa(e,function(){t++}),t},toArray:function(e){return pa(e,function(t){return t})||[]},only:function(e){if(!pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Mo;me.Fragment=my;me.Profiler=yy;me.PureComponent=uc;me.StrictMode=vy;me.Suspense=Sy;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jy;me.act=vh;me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dh({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=dc.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)hh.call(t,u)&&!gh.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Gi,type:e.type,key:o,ref:i,props:n,_owner:a}};me.createContext=function(e){return e={$$typeof:by,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xy,_context:e},e.Consumer=e};me.createElement=mh;me.createFactory=function(e){var t=mh.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:wy,render:e}};me.isValidElement=pc;me.lazy=function(e){return{$$typeof:Cy,_payload:{_status:-1,_result:e},_init:Ty}};me.memo=function(e,t){return{$$typeof:ky,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Ba.transition;Ba.transition={};try{e()}finally{Ba.transition=t}};me.unstable_act=vh;me.useCallback=function(e,t){return Nt.current.useCallback(e,t)};me.useContext=function(e){return Nt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return Nt.current.useDeferredValue(e)};me.useEffect=function(e,t){return Nt.current.useEffect(e,t)};me.useId=function(){return Nt.current.useId()};me.useImperativeHandle=function(e,t,r){return Nt.current.useImperativeHandle(e,t,r)};me.useInsertionEffect=function(e,t){return Nt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return Nt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return Nt.current.useMemo(e,t)};me.useReducer=function(e,t,r){return Nt.current.useReducer(e,t,r)};me.useRef=function(e){return Nt.current.useRef(e)};me.useState=function(e){return Nt.current.useState(e)};me.useSyncExternalStore=function(e,t,r){return Nt.current.useSyncExternalStore(e,t,r)};me.useTransition=function(){return Nt.current.useTransition()};me.version="18.3.1";uh.exports=me;var w=uh.exports;const De=sc(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry=w,Ny=Symbol.for("react.element"),Py=Symbol.for("react.fragment"),Ly=Object.prototype.hasOwnProperty,My=Ry.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ay={key:!0,ref:!0,__self:!0,__source:!0};function yh(e,t,r){var n,o={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Ly.call(t,n)&&!Ay.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Ny,type:e,key:i,ref:a,props:o,_owner:My.current}}Pl.Fragment=Py;Pl.jsx=yh;Pl.jsxs=yh;sh.exports=Pl;var s=sh.exports,nu={},xh={exports:{}},Xt={},bh={exports:{}},wh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,W){var U=P.length;P.push(W);e:for(;0<U;){var J=U-1>>>1,X=P[J];if(0<o(X,W))P[J]=W,P[U]=X,U=J;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var W=P[0],U=P.pop();if(U!==W){P[0]=U;e:for(var J=0,X=P.length,Ce=X>>>1;J<Ce;){var ue=2*(J+1)-1,he=P[ue],j=ue+1,A=P[j];if(0>o(he,U))j<X&&0>o(A,he)?(P[J]=A,P[j]=U,J=j):(P[J]=he,P[ue]=U,J=ue);else if(j<X&&0>o(A,U))P[J]=A,P[j]=U,J=j;else break e}}return W}function o(P,W){var U=P.sortIndex-W.sortIndex;return U!==0?U:P.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,p=null,d=3,h=!1,m=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=P)n(c),W.sortIndex=W.expirationTime,t(u,W);else break;W=r(c)}}function b(P){if(x=!1,y(P),!m)if(r(u)!==null)m=!0,ie(C);else{var W=r(c);W!==null&&ke(b,W.startTime-P)}}function C(P,W){m=!1,x&&(x=!1,v(I),I=-1),h=!0;var U=d;try{for(y(W),p=r(u);p!==null&&(!(p.expirationTime>W)||P&&!V());){var J=p.callback;if(typeof J=="function"){p.callback=null,d=p.priorityLevel;var X=J(p.expirationTime<=W);W=e.unstable_now(),typeof X=="function"?p.callback=X:p===r(u)&&n(u),y(W)}else n(u);p=r(u)}if(p!==null)var Ce=!0;else{var ue=r(c);ue!==null&&ke(b,ue.startTime-W),Ce=!1}return Ce}finally{p=null,d=U,h=!1}}var E=!1,D=null,I=-1,N=5,L=-1;function V(){return!(e.unstable_now()-L<N)}function K(){if(D!==null){var P=e.unstable_now();L=P;var W=!0;try{W=D(!0,P)}finally{W?le():(E=!1,D=null)}}else E=!1}var le;if(typeof g=="function")le=function(){g(K)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Ie=se.port2;se.port1.onmessage=K,le=function(){Ie.postMessage(null)}}else le=function(){k(K,0)};function ie(P){D=P,E||(E=!0,le())}function ke(P,W){I=k(function(){P(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,ie(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(P){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var U=d;d=W;try{return P()}finally{d=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=d;d=P;try{return W()}finally{d=U}},e.unstable_scheduleCallback=function(P,W,U){var J=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=U+X,P={id:f++,callback:W,priorityLevel:P,startTime:U,expirationTime:X,sortIndex:-1},U>J?(P.sortIndex=U,t(c,P),r(u)===null&&P===r(c)&&(x?(v(I),I=-1):x=!0,ke(b,U-J))):(P.sortIndex=X,t(u,P),m||h||(m=!0,ie(C))),P},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(P){var W=d;return function(){var U=d;d=W;try{return P.apply(this,arguments)}finally{d=U}}}})(wh);bh.exports=wh;var Oy=bh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=w,Zt=Oy;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sh=new Set,ki={};function Kn(e,t){Co(e,t),Co(e+"Capture",t)}function Co(e,t){for(ki[e]=t,e=0;e<t.length;e++)Sh.add(t[e])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=Object.prototype.hasOwnProperty,zy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kd={},Jd={};function $y(e){return ou.call(Jd,e)?!0:ou.call(Kd,e)?!1:zy.test(e)?Jd[e]=!0:(Kd[e]=!0,!1)}function Fy(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _y(e,t,r,n){if(t===null||typeof t>"u"||Fy(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,r,n,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var fc=/[\-:]([a-z])/g;function hc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fc,hc);bt[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fc,hc);bt[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fc,hc);bt[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function gc(e,t,r,n){var o=bt.hasOwnProperty(t)?bt[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_y(t,r,o,n)&&(r=null),n||o===null?$y(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kr=By.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fa=Symbol.for("react.element"),io=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),iu=Symbol.for("react.profiler"),kh=Symbol.for("react.provider"),Ch=Symbol.for("react.context"),vc=Symbol.for("react.forward_ref"),au=Symbol.for("react.suspense"),lu=Symbol.for("react.suspense_list"),yc=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),Ih=Symbol.for("react.offscreen"),Zd=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=Zd&&e[Zd]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,xs;function ni(e){if(xs===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xs=t&&t[1]||""}return`
`+xs+e}var bs=!1;function ws(e,t){if(!e||bs)return"";bs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=n.stack.split(`
`),a=o.length-1,l=i.length-1;1<=a&&0<=l&&o[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==i[l]){var u=`
`+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{bs=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ni(e):""}function Vy(e){switch(e.tag){case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 2:case 15:return e=ws(e.type,!1),e;case 11:return e=ws(e.type.render,!1),e;case 1:return e=ws(e.type,!0),e;default:return""}}function su(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ao:return"Fragment";case io:return"Portal";case iu:return"Profiler";case mc:return"StrictMode";case au:return"Suspense";case lu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ch:return(e.displayName||"Context")+".Consumer";case kh:return(e._context.displayName||"Context")+".Provider";case vc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yc:return t=e.displayName||null,t!==null?t:su(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return su(e(t))}catch{}}return null}function Uy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return su(t);case 8:return t===mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wy(e){var t=Eh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ha(e){e._valueTracker||(e._valueTracker=Wy(e))}function Dh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Eh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uu(e,t){var r=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Th(e,t){t=t.checked,t!=null&&gc(e,"checked",t,!1)}function cu(e,t){Th(e,t);var r=vn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?du(e,t.type,r):t.hasOwnProperty("defaultValue")&&du(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ep(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function du(e,t,r){(t!=="number"||Ya(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oi=Array.isArray;function yo(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vn(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function pu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(B(92));if(oi(r)){if(1<r.length)throw Error(B(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vn(r)}}function jh(e,t){var r=vn(t.value),n=vn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function rp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ga,Nh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ga.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ci(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hy=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(e){Hy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ui[t]=ui[e]})});function Ph(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ui.hasOwnProperty(e)&&ui[e]?(""+t).trim():t+"px"}function Lh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=Ph(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var Gy=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hu(e,t){if(t){if(Gy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function gu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=null;function xc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vu=null,xo=null,bo=null;function np(e){if(e=Yi(e)){if(typeof vu!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Bl(t),vu(e.stateNode,e.type,t))}}function Mh(e){xo?bo?bo.push(e):bo=[e]:xo=e}function Ah(){if(xo){var e=xo,t=bo;if(bo=xo=null,np(e),t)for(e=0;e<t.length;e++)np(t[e])}}function Oh(e,t){return e(t)}function Bh(){}var Ss=!1;function zh(e,t,r){if(Ss)return e(t,r);Ss=!0;try{return Oh(e,t,r)}finally{Ss=!1,(xo!==null||bo!==null)&&(Bh(),Ah())}}function Ii(e,t){var r=e.stateNode;if(r===null)return null;var n=Bl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var yu=!1;if(Gr)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){yu=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{yu=!1}function qy(e,t,r,n,o,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var ci=!1,Ka=null,Ja=!1,xu=null,Qy={onError:function(e){ci=!0,Ka=e}};function Yy(e,t,r,n,o,i,a,l,u){ci=!1,Ka=null,qy.apply(Qy,arguments)}function Ky(e,t,r,n,o,i,a,l,u){if(Yy.apply(this,arguments),ci){if(ci){var c=Ka;ci=!1,Ka=null}else throw Error(B(198));Ja||(Ja=!0,xu=c)}}function Jn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function op(e){if(Jn(e)!==e)throw Error(B(188))}function Jy(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return op(o),e;if(i===n)return op(o),t;i=i.sibling}throw Error(B(188))}if(r.return!==n.return)r=o,n=i;else{for(var a=!1,l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function Fh(e){return e=Jy(e),e!==null?_h(e):null}function _h(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_h(e);if(t!==null)return t;e=e.sibling}return null}var Vh=Zt.unstable_scheduleCallback,ip=Zt.unstable_cancelCallback,Zy=Zt.unstable_shouldYield,Xy=Zt.unstable_requestPaint,Je=Zt.unstable_now,ex=Zt.unstable_getCurrentPriorityLevel,bc=Zt.unstable_ImmediatePriority,Uh=Zt.unstable_UserBlockingPriority,Za=Zt.unstable_NormalPriority,tx=Zt.unstable_LowPriority,Wh=Zt.unstable_IdlePriority,Ll=null,Pr=null;function rx(e){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Ll,e,void 0,(e.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:ix,nx=Math.log,ox=Math.LN2;function ix(e){return e>>>=0,e===0?32:31-(nx(e)/ox|0)|0}var ma=64,va=4194304;function ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~o;l!==0?n=ii(l):(i&=a,i!==0&&(n=ii(i)))}else a=r&~o,a!==0?n=ii(a):i!==0&&(n=ii(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Sr(t),o=1<<r,n|=e[r],t&=~o;return n}function ax(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Sr(i),l=1<<a,u=o[a];u===-1?(!(l&r)||l&n)&&(o[a]=ax(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function bu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hh(){var e=ma;return ma<<=1,!(ma&4194240)&&(ma=64),e}function ks(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function qi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sr(t),e[t]=r}function sx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Sr(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}function wc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Sr(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var je=0;function Gh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qh,Sc,Qh,Yh,Kh,wu=!1,ya=[],an=null,ln=null,sn=null,Ei=new Map,Di=new Map,tn=[],ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ap(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(t.pointerId)}}function Go(e,t,r,n,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Yi(t),t!==null&&Sc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function cx(e,t,r,n,o){switch(t){case"focusin":return an=Go(an,e,t,r,n,o),!0;case"dragenter":return ln=Go(ln,e,t,r,n,o),!0;case"mouseover":return sn=Go(sn,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return Ei.set(i,Go(Ei.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Di.set(i,Go(Di.get(i)||null,e,t,r,n,o)),!0}return!1}function Jh(e){var t=On(e.target);if(t!==null){var r=Jn(t);if(r!==null){if(t=r.tag,t===13){if(t=$h(r),t!==null){e.blockedOn=t,Kh(e.priority,function(){Qh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function za(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Su(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mu=n,r.target.dispatchEvent(n),mu=null}else return t=Yi(r),t!==null&&Sc(t),e.blockedOn=r,!1;t.shift()}return!0}function lp(e,t,r){za(e)&&r.delete(t)}function dx(){wu=!1,an!==null&&za(an)&&(an=null),ln!==null&&za(ln)&&(ln=null),sn!==null&&za(sn)&&(sn=null),Ei.forEach(lp),Di.forEach(lp)}function qo(e,t){e.blockedOn===t&&(e.blockedOn=null,wu||(wu=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,dx)))}function Ti(e){function t(o){return qo(o,e)}if(0<ya.length){qo(ya[0],e);for(var r=1;r<ya.length;r++){var n=ya[r];n.blockedOn===e&&(n.blockedOn=null)}}for(an!==null&&qo(an,e),ln!==null&&qo(ln,e),sn!==null&&qo(sn,e),Ei.forEach(t),Di.forEach(t),r=0;r<tn.length;r++)n=tn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<tn.length&&(r=tn[0],r.blockedOn===null);)Jh(r),r.blockedOn===null&&tn.shift()}var wo=Kr.ReactCurrentBatchConfig,el=!0;function px(e,t,r,n){var o=je,i=wo.transition;wo.transition=null;try{je=1,kc(e,t,r,n)}finally{je=o,wo.transition=i}}function fx(e,t,r,n){var o=je,i=wo.transition;wo.transition=null;try{je=4,kc(e,t,r,n)}finally{je=o,wo.transition=i}}function kc(e,t,r,n){if(el){var o=Su(e,t,r,n);if(o===null)Ls(e,t,n,tl,r),ap(e,n);else if(cx(o,e,t,r,n))n.stopPropagation();else if(ap(e,n),t&4&&-1<ux.indexOf(e)){for(;o!==null;){var i=Yi(o);if(i!==null&&qh(i),i=Su(e,t,r,n),i===null&&Ls(e,t,n,tl,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else Ls(e,t,n,null,r)}}var tl=null;function Su(e,t,r,n){if(tl=null,e=xc(n),e=On(e),e!==null)if(t=Jn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$h(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tl=e,null}function Zh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ex()){case bc:return 1;case Uh:return 4;case Za:case tx:return 16;case Wh:return 536870912;default:return 16}default:return 16}}var nn=null,Cc=null,$a=null;function Xh(){if($a)return $a;var e,t=Cc,r=t.length,n,o="value"in nn?nn.value:nn.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===o[i-n];n++);return $a=o.slice(e,1<n?1-n:void 0)}function Fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xa(){return!0}function sp(){return!1}function er(e){function t(r,n,o,i,a){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xa:sp,this.isPropagationStopped=sp,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),t}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ic=er(Ao),Qi=He({},Ao,{view:0,detail:0}),hx=er(Qi),Cs,Is,Qo,Ml=He({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qo&&(Qo&&e.type==="mousemove"?(Cs=e.screenX-Qo.screenX,Is=e.screenY-Qo.screenY):Is=Cs=0,Qo=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:Is}}),up=er(Ml),gx=He({},Ml,{dataTransfer:0}),mx=er(gx),vx=He({},Qi,{relatedTarget:0}),Es=er(vx),yx=He({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),xx=er(yx),bx=He({},Ao,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wx=er(bx),Sx=He({},Ao,{data:0}),cp=er(Sx),kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ex(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ix[e])?!!t[e]:!1}function Ec(){return Ex}var Dx=He({},Qi,{key:function(e){if(e.key){var t=kx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(e){return e.type==="keypress"?Fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tx=er(Dx),jx=He({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dp=er(jx),Rx=He({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),Nx=er(Rx),Px=He({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lx=er(Px),Mx=He({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ax=er(Mx),Ox=[9,13,27,32],Dc=Gr&&"CompositionEvent"in window,di=null;Gr&&"documentMode"in document&&(di=document.documentMode);var Bx=Gr&&"TextEvent"in window&&!di,eg=Gr&&(!Dc||di&&8<di&&11>=di),pp=" ",fp=!1;function tg(e,t){switch(e){case"keyup":return Ox.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lo=!1;function zx(e,t){switch(e){case"compositionend":return rg(t);case"keypress":return t.which!==32?null:(fp=!0,pp);case"textInput":return e=t.data,e===pp&&fp?null:e;default:return null}}function $x(e,t){if(lo)return e==="compositionend"||!Dc&&tg(e,t)?(e=Xh(),$a=Cc=nn=null,lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eg&&t.locale!=="ko"?null:t.data;default:return null}}var Fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fx[e.type]:t==="textarea"}function ng(e,t,r,n){Mh(n),t=rl(t,"onChange"),0<t.length&&(r=new Ic("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pi=null,ji=null;function _x(e){hg(e,0)}function Al(e){var t=co(e);if(Dh(t))return e}function Vx(e,t){if(e==="change")return t}var og=!1;if(Gr){var Ds;if(Gr){var Ts="oninput"in document;if(!Ts){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),Ts=typeof gp.oninput=="function"}Ds=Ts}else Ds=!1;og=Ds&&(!document.documentMode||9<document.documentMode)}function mp(){pi&&(pi.detachEvent("onpropertychange",ig),ji=pi=null)}function ig(e){if(e.propertyName==="value"&&Al(ji)){var t=[];ng(t,ji,e,xc(e)),zh(_x,t)}}function Ux(e,t,r){e==="focusin"?(mp(),pi=t,ji=r,pi.attachEvent("onpropertychange",ig)):e==="focusout"&&mp()}function Wx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(ji)}function Hx(e,t){if(e==="click")return Al(t)}function Gx(e,t){if(e==="input"||e==="change")return Al(t)}function qx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cr=typeof Object.is=="function"?Object.is:qx;function Ri(e,t){if(Cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!ou.call(t,o)||!Cr(e[o],t[o]))return!1}return!0}function vp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,t){var r=vp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vp(r)}}function ag(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ag(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lg(){for(var e=window,t=Ya();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ya(e.document)}return t}function Tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qx(e){var t=lg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ag(r.ownerDocument.documentElement,r)){if(n!==null&&Tc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=yp(r,i);var a=yp(r,n);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yx=Gr&&"documentMode"in document&&11>=document.documentMode,so=null,ku=null,fi=null,Cu=!1;function xp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cu||so==null||so!==Ya(n)||(n=so,"selectionStart"in n&&Tc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fi&&Ri(fi,n)||(fi=n,n=rl(ku,"onSelect"),0<n.length&&(t=new Ic("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=so)))}function ba(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var uo={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},js={},sg={};Gr&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Ol(e){if(js[e])return js[e];if(!uo[e])return e;var t=uo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sg)return js[e]=t[r];return e}var ug=Ol("animationend"),cg=Ol("animationiteration"),dg=Ol("animationstart"),pg=Ol("transitionend"),fg=new Map,bp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(e,t){fg.set(e,t),Kn(t,[e])}for(var Rs=0;Rs<bp.length;Rs++){var Ns=bp[Rs],Kx=Ns.toLowerCase(),Jx=Ns[0].toUpperCase()+Ns.slice(1);bn(Kx,"on"+Jx)}bn(ug,"onAnimationEnd");bn(cg,"onAnimationIteration");bn(dg,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(pg,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function wp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ky(n,t,void 0,e),e.currentTarget=null}function hg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&o.isPropagationStopped())break e;wp(o,l,c),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&o.isPropagationStopped())break e;wp(o,l,c),i=u}}}if(Ja)throw e=xu,Ja=!1,xu=null,e}function Oe(e,t){var r=t[ju];r===void 0&&(r=t[ju]=new Set);var n=e+"__bubble";r.has(n)||(gg(t,e,2,!1),r.add(n))}function Ps(e,t,r){var n=0;t&&(n|=4),gg(r,e,n,t)}var wa="_reactListening"+Math.random().toString(36).slice(2);function Ni(e){if(!e[wa]){e[wa]=!0,Sh.forEach(function(r){r!=="selectionchange"&&(Zx.has(r)||Ps(r,!1,e),Ps(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wa]||(t[wa]=!0,Ps("selectionchange",!1,t))}}function gg(e,t,r,n){switch(Zh(t)){case 1:var o=px;break;case 4:o=fx;break;default:o=kc}r=o.bind(null,t,r,e),o=void 0,!yu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Ls(e,t,r,n,o){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;a=a.return}for(;l!==null;){if(a=On(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}zh(function(){var c=i,f=xc(r),p=[];e:{var d=fg.get(e);if(d!==void 0){var h=Ic,m=e;switch(e){case"keypress":if(Fa(r)===0)break e;case"keydown":case"keyup":h=Tx;break;case"focusin":m="focus",h=Es;break;case"focusout":m="blur",h=Es;break;case"beforeblur":case"afterblur":h=Es;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Nx;break;case ug:case cg:case dg:h=xx;break;case pg:h=Lx;break;case"scroll":h=hx;break;case"wheel":h=Ax;break;case"copy":case"cut":case"paste":h=wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=dp}var x=(t&4)!==0,k=!x&&e==="scroll",v=x?d!==null?d+"Capture":null:d;x=[];for(var g=c,y;g!==null;){y=g;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,v!==null&&(b=Ii(g,v),b!=null&&x.push(Pi(g,b,y)))),k)break;g=g.return}0<x.length&&(d=new h(d,m,null,r,f),p.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&r!==mu&&(m=r.relatedTarget||r.fromElement)&&(On(m)||m[qr]))break e;if((h||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=r.relatedTarget||r.toElement,h=c,m=m?On(m):null,m!==null&&(k=Jn(m),m!==k||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(x=up,b="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=dp,b="onPointerLeave",v="onPointerEnter",g="pointer"),k=h==null?d:co(h),y=m==null?d:co(m),d=new x(b,g+"leave",h,r,f),d.target=k,d.relatedTarget=y,b=null,On(f)===c&&(x=new x(v,g+"enter",m,r,f),x.target=y,x.relatedTarget=k,b=x),k=b,h&&m)t:{for(x=h,v=m,g=0,y=x;y;y=no(y))g++;for(y=0,b=v;b;b=no(b))y++;for(;0<g-y;)x=no(x),g--;for(;0<y-g;)v=no(v),y--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break t;x=no(x),v=no(v)}x=null}else x=null;h!==null&&Sp(p,d,h,x,!1),m!==null&&k!==null&&Sp(p,k,m,x,!0)}}e:{if(d=c?co(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var C=Vx;else if(hp(d))if(og)C=Gx;else{C=Wx;var E=Ux}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=Hx);if(C&&(C=C(e,c))){ng(p,C,r,f);break e}E&&E(e,d,c),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&du(d,"number",d.value)}switch(E=c?co(c):window,e){case"focusin":(hp(E)||E.contentEditable==="true")&&(so=E,ku=c,fi=null);break;case"focusout":fi=ku=so=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,xp(p,r,f);break;case"selectionchange":if(Yx)break;case"keydown":case"keyup":xp(p,r,f)}var D;if(Dc)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else lo?tg(e,r)&&(I="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(eg&&r.locale!=="ko"&&(lo||I!=="onCompositionStart"?I==="onCompositionEnd"&&lo&&(D=Xh()):(nn=f,Cc="value"in nn?nn.value:nn.textContent,lo=!0)),E=rl(c,I),0<E.length&&(I=new cp(I,e,null,r,f),p.push({event:I,listeners:E}),D?I.data=D:(D=rg(r),D!==null&&(I.data=D)))),(D=Bx?zx(e,r):$x(e,r))&&(c=rl(c,"onBeforeInput"),0<c.length&&(f=new cp("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:c}),f.data=D))}hg(p,t)})}function Pi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rl(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ii(e,r),i!=null&&n.unshift(Pi(e,i,o)),i=Ii(e,t),i!=null&&n.push(Pi(e,i,o))),e=e.return}return n}function no(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sp(e,t,r,n,o){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,o?(u=Ii(r,i),u!=null&&a.unshift(Pi(r,u,l))):o||(u=Ii(r,i),u!=null&&a.push(Pi(r,u,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Xx=/\r\n?/g,e1=/\u0000|\uFFFD/g;function kp(e){return(typeof e=="string"?e:""+e).replace(Xx,`
`).replace(e1,"")}function Sa(e,t,r){if(t=kp(t),kp(e)!==t&&r)throw Error(B(425))}function nl(){}var Iu=null,Eu=null;function Du(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(e){return Cp.resolve(null).then(e).catch(n1)}:Tu;function n1(e){setTimeout(function(){throw e})}function Ms(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Ti(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Ti(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ip(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Oo,Li="__reactProps$"+Oo,qr="__reactContainer$"+Oo,ju="__reactEvents$"+Oo,o1="__reactListeners$"+Oo,i1="__reactHandles$"+Oo;function On(e){var t=e[Nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qr]||r[Nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ip(e);e!==null;){if(r=e[Nr])return r;e=Ip(e)}return t}e=r,r=e.parentNode}return null}function Yi(e){return e=e[Nr]||e[qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Bl(e){return e[Li]||null}var Ru=[],po=-1;function wn(e){return{current:e}}function Be(e){0>po||(e.current=Ru[po],Ru[po]=null,po--)}function Me(e,t){po++,Ru[po]=e.current,e.current=t}var yn={},Ct=wn(yn),Ft=wn(!1),Vn=yn;function Io(e,t){var r=e.type.contextTypes;if(!r)return yn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _t(e){return e=e.childContextTypes,e!=null}function ol(){Be(Ft),Be(Ct)}function Ep(e,t,r){if(Ct.current!==yn)throw Error(B(168));Me(Ct,t),Me(Ft,r)}function mg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(B(108,Uy(e)||"Unknown",o));return He({},r,n)}function il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Vn=Ct.current,Me(Ct,e),Me(Ft,Ft.current),!0}function Dp(e,t,r){var n=e.stateNode;if(!n)throw Error(B(169));r?(e=mg(e,t,Vn),n.__reactInternalMemoizedMergedChildContext=e,Be(Ft),Be(Ct),Me(Ct,e)):Be(Ft),Me(Ft,r)}var _r=null,zl=!1,As=!1;function vg(e){_r===null?_r=[e]:_r.push(e)}function a1(e){zl=!0,vg(e)}function Sn(){if(!As&&_r!==null){As=!0;var e=0,t=je;try{var r=_r;for(je=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_r=null,zl=!1}catch(o){throw _r!==null&&(_r=_r.slice(e+1)),Vh(bc,Sn),o}finally{je=t,As=!1}}return null}var fo=[],ho=0,al=null,ll=0,lr=[],sr=0,Un=null,Ur=1,Wr="";function Ln(e,t){fo[ho++]=ll,fo[ho++]=al,al=e,ll=t}function yg(e,t,r){lr[sr++]=Ur,lr[sr++]=Wr,lr[sr++]=Un,Un=e;var n=Ur;e=Wr;var o=32-Sr(n)-1;n&=~(1<<o),r+=1;var i=32-Sr(t)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,Ur=1<<32-Sr(t)+o|r<<o|n,Wr=i+e}else Ur=1<<i|r<<o|n,Wr=e}function jc(e){e.return!==null&&(Ln(e,1),yg(e,1,0))}function Rc(e){for(;e===al;)al=fo[--ho],fo[ho]=null,ll=fo[--ho],fo[ho]=null;for(;e===Un;)Un=lr[--sr],lr[sr]=null,Wr=lr[--sr],lr[sr]=null,Ur=lr[--sr],lr[sr]=null}var Yt=null,qt=null,_e=!1,yr=null;function xg(e,t){var r=ur(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Tp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,qt=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Un!==null?{id:Ur,overflow:Wr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ur(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yt=e,qt=null,!0):!1;default:return!1}}function Nu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pu(e){if(_e){var t=qt;if(t){var r=t;if(!Tp(e,t)){if(Nu(e))throw Error(B(418));t=un(r.nextSibling);var n=Yt;t&&Tp(e,t)?xg(n,r):(e.flags=e.flags&-4097|2,_e=!1,Yt=e)}}else{if(Nu(e))throw Error(B(418));e.flags=e.flags&-4097|2,_e=!1,Yt=e}}}function jp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function ka(e){if(e!==Yt)return!1;if(!_e)return jp(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Du(e.type,e.memoizedProps)),t&&(t=qt)){if(Nu(e))throw bg(),Error(B(418));for(;t;)xg(e,t),t=un(t.nextSibling)}if(jp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qt=un(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qt=null}}else qt=Yt?un(e.stateNode.nextSibling):null;return!0}function bg(){for(var e=qt;e;)e=un(e.nextSibling)}function Eo(){qt=Yt=null,_e=!1}function Nc(e){yr===null?yr=[e]:yr.push(e)}var l1=Kr.ReactCurrentBatchConfig;function Yo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,e));var o=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=o.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,e))}return e}function Ca(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rp(e){var t=e._init;return t(e._payload)}function wg(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function o(v,g){return v=fn(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,y,b){return g===null||g.tag!==6?(g=Vs(y,v.mode,b),g.return=v,g):(g=o(g,y),g.return=v,g)}function u(v,g,y,b){var C=y.type;return C===ao?f(v,g,y.props.children,b,y.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xr&&Rp(C)===g.type)?(b=o(g,y.props),b.ref=Yo(v,g,y),b.return=v,b):(b=qa(y.type,y.key,y.props,null,v.mode,b),b.ref=Yo(v,g,y),b.return=v,b)}function c(v,g,y,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Us(y,v.mode,b),g.return=v,g):(g=o(g,y.children||[]),g.return=v,g)}function f(v,g,y,b,C){return g===null||g.tag!==7?(g=_n(y,v.mode,b,C),g.return=v,g):(g=o(g,y),g.return=v,g)}function p(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vs(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fa:return y=qa(g.type,g.key,g.props,null,v.mode,y),y.ref=Yo(v,null,g),y.return=v,y;case io:return g=Us(g,v.mode,y),g.return=v,g;case Xr:var b=g._init;return p(v,b(g._payload),y)}if(oi(g)||Wo(g))return g=_n(g,v.mode,y,null),g.return=v,g;Ca(v,g)}return null}function d(v,g,y,b){var C=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:l(v,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fa:return y.key===C?u(v,g,y,b):null;case io:return y.key===C?c(v,g,y,b):null;case Xr:return C=y._init,d(v,g,C(y._payload),b)}if(oi(y)||Wo(y))return C!==null?null:f(v,g,y,b,null);Ca(v,y)}return null}function h(v,g,y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(y)||null,l(g,v,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fa:return v=v.get(b.key===null?y:b.key)||null,u(g,v,b,C);case io:return v=v.get(b.key===null?y:b.key)||null,c(g,v,b,C);case Xr:var E=b._init;return h(v,g,y,E(b._payload),C)}if(oi(b)||Wo(b))return v=v.get(y)||null,f(g,v,b,C,null);Ca(g,b)}return null}function m(v,g,y,b){for(var C=null,E=null,D=g,I=g=0,N=null;D!==null&&I<y.length;I++){D.index>I?(N=D,D=null):N=D.sibling;var L=d(v,D,y[I],b);if(L===null){D===null&&(D=N);break}e&&D&&L.alternate===null&&t(v,D),g=i(L,g,I),E===null?C=L:E.sibling=L,E=L,D=N}if(I===y.length)return r(v,D),_e&&Ln(v,I),C;if(D===null){for(;I<y.length;I++)D=p(v,y[I],b),D!==null&&(g=i(D,g,I),E===null?C=D:E.sibling=D,E=D);return _e&&Ln(v,I),C}for(D=n(v,D);I<y.length;I++)N=h(D,v,I,y[I],b),N!==null&&(e&&N.alternate!==null&&D.delete(N.key===null?I:N.key),g=i(N,g,I),E===null?C=N:E.sibling=N,E=N);return e&&D.forEach(function(V){return t(v,V)}),_e&&Ln(v,I),C}function x(v,g,y,b){var C=Wo(y);if(typeof C!="function")throw Error(B(150));if(y=C.call(y),y==null)throw Error(B(151));for(var E=C=null,D=g,I=g=0,N=null,L=y.next();D!==null&&!L.done;I++,L=y.next()){D.index>I?(N=D,D=null):N=D.sibling;var V=d(v,D,L.value,b);if(V===null){D===null&&(D=N);break}e&&D&&V.alternate===null&&t(v,D),g=i(V,g,I),E===null?C=V:E.sibling=V,E=V,D=N}if(L.done)return r(v,D),_e&&Ln(v,I),C;if(D===null){for(;!L.done;I++,L=y.next())L=p(v,L.value,b),L!==null&&(g=i(L,g,I),E===null?C=L:E.sibling=L,E=L);return _e&&Ln(v,I),C}for(D=n(v,D);!L.done;I++,L=y.next())L=h(D,v,I,L.value,b),L!==null&&(e&&L.alternate!==null&&D.delete(L.key===null?I:L.key),g=i(L,g,I),E===null?C=L:E.sibling=L,E=L);return e&&D.forEach(function(K){return t(v,K)}),_e&&Ln(v,I),C}function k(v,g,y,b){if(typeof y=="object"&&y!==null&&y.type===ao&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fa:e:{for(var C=y.key,E=g;E!==null;){if(E.key===C){if(C=y.type,C===ao){if(E.tag===7){r(v,E.sibling),g=o(E,y.props.children),g.return=v,v=g;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xr&&Rp(C)===E.type){r(v,E.sibling),g=o(E,y.props),g.ref=Yo(v,E,y),g.return=v,v=g;break e}r(v,E);break}else t(v,E);E=E.sibling}y.type===ao?(g=_n(y.props.children,v.mode,b,y.key),g.return=v,v=g):(b=qa(y.type,y.key,y.props,null,v.mode,b),b.ref=Yo(v,g,y),b.return=v,v=b)}return a(v);case io:e:{for(E=y.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(v,g.sibling),g=o(g,y.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Us(y,v.mode,b),g.return=v,v=g}return a(v);case Xr:return E=y._init,k(v,g,E(y._payload),b)}if(oi(y))return m(v,g,y,b);if(Wo(y))return x(v,g,y,b);Ca(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(v,g.sibling),g=o(g,y),g.return=v,v=g):(r(v,g),g=Vs(y,v.mode,b),g.return=v,v=g),a(v)):r(v,g)}return k}var Do=wg(!0),Sg=wg(!1),sl=wn(null),ul=null,go=null,Pc=null;function Lc(){Pc=go=ul=null}function Mc(e){var t=sl.current;Be(sl),e._currentValue=t}function Lu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function So(e,t){ul=e,Pc=go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(Pc!==e)if(e={context:e,memoizedValue:t,next:null},go===null){if(ul===null)throw Error(B(308));go=e,ul.dependencies={lanes:0,firstContext:e}}else go=go.next=e;return t}var Bn=null;function Ac(e){Bn===null?Bn=[e]:Bn.push(e)}function kg(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Ac(t)):(r.next=o.next,o.next=r),t.interleaved=r,Qr(e,n)}function Qr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var en=!1;function Oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Qr(e,r)}return o=n.interleaved,o===null?(t.next=t,Ac(n)):(t.next=o.next,o.next=t),n.interleaved=t,Qr(e,r)}function _a(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wc(e,r)}}function Np(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cl(e,t,r,n){var o=e.updateQueue;en=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(i!==null){var p=o.baseState;a=0,f=c=u=null,l=i;do{var d=l.lane,h=l.eventTime;if((n&d)===d){f!==null&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,x=l;switch(d=t,h=r,x.tag){case 1:if(m=x.payload,typeof m=="function"){p=m.call(h,p,d);break e}p=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,d=typeof m=="function"?m.call(h,p,d):m,d==null)break e;p=He({},p,d);break e;case 2:en=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else h={eventTime:h,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=h,u=p):f=f.next=h,a|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(f===null&&(u=p),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=f,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Hn|=a,e.lanes=a,e.memoizedState=p}}function Pp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(B(191,o));o.call(n)}}}var Ki={},Lr=wn(Ki),Mi=wn(Ki),Ai=wn(Ki);function zn(e){if(e===Ki)throw Error(B(174));return e}function Bc(e,t){switch(Me(Ai,t),Me(Mi,e),Me(Lr,Ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fu(t,e)}Be(Lr),Me(Lr,t)}function To(){Be(Lr),Be(Mi),Be(Ai)}function Ig(e){zn(Ai.current);var t=zn(Lr.current),r=fu(t,e.type);t!==r&&(Me(Mi,e),Me(Lr,r))}function zc(e){Mi.current===e&&(Be(Lr),Be(Mi))}var Ue=wn(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Os=[];function $c(){for(var e=0;e<Os.length;e++)Os[e]._workInProgressVersionPrimary=null;Os.length=0}var Va=Kr.ReactCurrentDispatcher,Bs=Kr.ReactCurrentBatchConfig,Wn=0,We=null,nt=null,at=null,pl=!1,hi=!1,Oi=0,s1=0;function wt(){throw Error(B(321))}function Fc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cr(e[r],t[r]))return!1;return!0}function _c(e,t,r,n,o,i){if(Wn=i,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Va.current=e===null||e.memoizedState===null?p1:f1,e=r(n,o),hi){i=0;do{if(hi=!1,Oi=0,25<=i)throw Error(B(301));i+=1,at=nt=null,t.updateQueue=null,Va.current=h1,e=r(n,o)}while(hi)}if(Va.current=fl,t=nt!==null&&nt.next!==null,Wn=0,at=nt=We=null,pl=!1,t)throw Error(B(300));return e}function Vc(){var e=Oi!==0;return Oi=0,e}function Rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?We.memoizedState=at=e:at=at.next=e,at}function hr(){if(nt===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=at===null?We.memoizedState:at.next;if(t!==null)at=t,nt=e;else{if(e===null)throw Error(B(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},at===null?We.memoizedState=at=e:at=at.next=e}return at}function Bi(e,t){return typeof t=="function"?t(e):t}function zs(e){var t=hr(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=nt,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var l=a=null,u=null,c=i;do{var f=c.lane;if((Wn&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,a=n):u=u.next=p,We.lanes|=f,Hn|=f}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=l,Cr(n,t.memoizedState)||($t=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do i=o.lane,We.lanes|=i,Hn|=i,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $s(e){var t=hr(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Cr(i,t.memoizedState)||($t=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Eg(){}function Dg(e,t){var r=We,n=hr(),o=t(),i=!Cr(n.memoizedState,o);if(i&&(n.memoizedState=o,$t=!0),n=n.queue,Uc(Rg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,zi(9,jg.bind(null,r,n,o,t),void 0,null),lt===null)throw Error(B(349));Wn&30||Tg(r,t,o)}return o}function Tg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function jg(e,t,r,n){t.value=r,t.getSnapshot=n,Ng(t)&&Pg(e)}function Rg(e,t,r){return r(function(){Ng(t)&&Pg(e)})}function Ng(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cr(e,r)}catch{return!0}}function Pg(e){var t=Qr(e,1);t!==null&&kr(t,e,1,-1)}function Lp(e){var t=Rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t.queue=e,e=e.dispatch=d1.bind(null,We,e),[t.memoizedState,e]}function zi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Lg(){return hr().memoizedState}function Ua(e,t,r,n){var o=Rr();We.flags|=e,o.memoizedState=zi(1|t,r,void 0,n===void 0?null:n)}function $l(e,t,r,n){var o=hr();n=n===void 0?null:n;var i=void 0;if(nt!==null){var a=nt.memoizedState;if(i=a.destroy,n!==null&&Fc(n,a.deps)){o.memoizedState=zi(t,r,i,n);return}}We.flags|=e,o.memoizedState=zi(1|t,r,i,n)}function Mp(e,t){return Ua(8390656,8,e,t)}function Uc(e,t){return $l(2048,8,e,t)}function Mg(e,t){return $l(4,2,e,t)}function Ag(e,t){return $l(4,4,e,t)}function Og(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bg(e,t,r){return r=r!=null?r.concat([e]):null,$l(4,4,Og.bind(null,t,e),r)}function Wc(){}function zg(e,t){var r=hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $g(e,t){var r=hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Fg(e,t,r){return Wn&21?(Cr(r,t)||(r=Hh(),We.lanes|=r,Hn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=r)}function u1(e,t){var r=je;je=r!==0&&4>r?r:4,e(!0);var n=Bs.transition;Bs.transition={};try{e(!1),t()}finally{je=r,Bs.transition=n}}function _g(){return hr().memoizedState}function c1(e,t,r){var n=pn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Vg(e))Ug(t,r);else if(r=kg(e,t,r,n),r!==null){var o=Rt();kr(r,e,n,o),Wg(r,t,n)}}function d1(e,t,r){var n=pn(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vg(e))Ug(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(o.hasEagerState=!0,o.eagerState=l,Cr(l,a)){var u=t.interleaved;u===null?(o.next=o,Ac(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}r=kg(e,t,o,n),r!==null&&(o=Rt(),kr(r,e,n,o),Wg(r,t,n))}}function Vg(e){var t=e.alternate;return e===We||t!==null&&t===We}function Ug(e,t){hi=pl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wc(e,r)}}var fl={readContext:fr,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},p1={readContext:fr,useCallback:function(e,t){return Rr().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:Mp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ua(4194308,4,Og.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var r=Rr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=c1.bind(null,We,e),[n.memoizedState,e]},useRef:function(e){var t=Rr();return e={current:e},t.memoizedState=e},useState:Lp,useDebugValue:Wc,useDeferredValue:function(e){return Rr().memoizedState=e},useTransition:function(){var e=Lp(!1),t=e[0];return e=u1.bind(null,e[1]),Rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=We,o=Rr();if(_e){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),lt===null)throw Error(B(349));Wn&30||Tg(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,Mp(Rg.bind(null,n,i,e),[e]),n.flags|=2048,zi(9,jg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Rr(),t=lt.identifierPrefix;if(_e){var r=Wr,n=Ur;r=(n&~(1<<32-Sr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Oi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=s1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f1={readContext:fr,useCallback:zg,useContext:fr,useEffect:Uc,useImperativeHandle:Bg,useInsertionEffect:Mg,useLayoutEffect:Ag,useMemo:$g,useReducer:zs,useRef:Lg,useState:function(){return zs(Bi)},useDebugValue:Wc,useDeferredValue:function(e){var t=hr();return Fg(t,nt.memoizedState,e)},useTransition:function(){var e=zs(Bi)[0],t=hr().memoizedState;return[e,t]},useMutableSource:Eg,useSyncExternalStore:Dg,useId:_g,unstable_isNewReconciler:!1},h1={readContext:fr,useCallback:zg,useContext:fr,useEffect:Uc,useImperativeHandle:Bg,useInsertionEffect:Mg,useLayoutEffect:Ag,useMemo:$g,useReducer:$s,useRef:Lg,useState:function(){return $s(Bi)},useDebugValue:Wc,useDeferredValue:function(e){var t=hr();return nt===null?t.memoizedState=e:Fg(t,nt.memoizedState,e)},useTransition:function(){var e=$s(Bi)[0],t=hr().memoizedState;return[e,t]},useMutableSource:Eg,useSyncExternalStore:Dg,useId:_g,unstable_isNewReconciler:!1};function mr(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:He({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fl={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Rt(),o=pn(e),i=Hr(n,o);i.payload=t,r!=null&&(i.callback=r),t=cn(e,i,o),t!==null&&(kr(t,e,o,n),_a(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Rt(),o=pn(e),i=Hr(n,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=cn(e,i,o),t!==null&&(kr(t,e,o,n),_a(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rt(),n=pn(e),o=Hr(r,n);o.tag=2,t!=null&&(o.callback=t),t=cn(e,o,n),t!==null&&(kr(t,e,n,r),_a(t,e,n))}};function Ap(e,t,r,n,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ri(r,n)||!Ri(o,i):!0}function Hg(e,t,r){var n=!1,o=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=fr(i):(o=_t(t)?Vn:Ct.current,n=t.contextTypes,i=(n=n!=null)?Io(e,o):yn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Op(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fl.enqueueReplaceState(t,t.state,null)}function Au(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Oc(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=fr(i):(i=_t(t)?Vn:Ct.current,o.context=Io(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Mu(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Fl.enqueueReplaceState(o,o.state,null),cl(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function jo(e,t){try{var r="",n=t;do r+=Vy(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Fs(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ou(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var g1=typeof WeakMap=="function"?WeakMap:Map;function Gg(e,t,r){r=Hr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gl||(gl=!0,Gu=n),Ou(e,t)},r}function qg(e,t,r){r=Hr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Ou(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ou(e,t),typeof n!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Bp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new g1;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=j1.bind(null,e,t,r),t.then(e,e))}function zp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $p(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hr(-1,1),t.tag=2,cn(r,t,1))),r.lanes|=1),e)}var m1=Kr.ReactCurrentOwner,$t=!1;function Tt(e,t,r,n){t.child=e===null?Sg(t,null,r,n):Do(t,e.child,r,n)}function Fp(e,t,r,n,o){r=r.render;var i=t.ref;return So(t,o),n=_c(e,t,r,n,i,o),r=Vc(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yr(e,t,o)):(_e&&r&&jc(t),t.flags|=1,Tt(e,t,n,o),t.child)}function _p(e,t,r,n,o){if(e===null){var i=r.type;return typeof i=="function"&&!Zc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Qg(e,t,i,n,o)):(e=qa(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ri,r(a,n)&&e.ref===t.ref)return Yr(e,t,o)}return t.flags|=1,e=fn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Qg(e,t,r,n,o){if(e!==null){var i=e.memoizedProps;if(Ri(i,n)&&e.ref===t.ref)if($t=!1,t.pendingProps=n=i,(e.lanes&o)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,Yr(e,t,o)}return Bu(e,t,r,n,o)}function Yg(e,t,r){var n=t.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(vo,Gt),Gt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(vo,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Me(vo,Gt),Gt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Me(vo,Gt),Gt|=n;return Tt(e,t,o,r),t.child}function Kg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Bu(e,t,r,n,o){var i=_t(r)?Vn:Ct.current;return i=Io(t,i),So(t,o),r=_c(e,t,r,n,i,o),n=Vc(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Yr(e,t,o)):(_e&&n&&jc(t),t.flags|=1,Tt(e,t,r,o),t.child)}function Vp(e,t,r,n,o){if(_t(r)){var i=!0;il(t)}else i=!1;if(So(t,o),t.stateNode===null)Wa(e,t),Hg(t,r,n),Au(t,r,n,o),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=fr(c):(c=_t(r)?Vn:Ct.current,c=Io(t,c));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&Op(t,a,n,c),en=!1;var d=t.memoizedState;a.state=d,cl(t,n,a,o),u=t.memoizedState,l!==n||d!==u||Ft.current||en?(typeof f=="function"&&(Mu(t,r,f,n),u=t.memoizedState),(l=en||Ap(t,r,l,n,d,u,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Cg(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:mr(t.type,l),a.props=c,p=t.pendingProps,d=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=fr(u):(u=_t(r)?Vn:Ct.current,u=Io(t,u));var h=r.getDerivedStateFromProps;(f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||d!==u)&&Op(t,a,n,u),en=!1,d=t.memoizedState,a.state=d,cl(t,n,a,o);var m=t.memoizedState;l!==p||d!==m||Ft.current||en?(typeof h=="function"&&(Mu(t,r,h,n),m=t.memoizedState),(c=en||Ap(t,r,c,n,d,m,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return zu(e,t,r,n,i,o)}function zu(e,t,r,n,o,i){Kg(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return o&&Dp(t,r,!1),Yr(e,t,i);n=t.stateNode,m1.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Do(t,e.child,null,i),t.child=Do(t,null,l,i)):Tt(e,t,l,i),t.memoizedState=n.state,o&&Dp(t,r,!0),t.child}function Jg(e){var t=e.stateNode;t.pendingContext?Ep(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ep(e,t.context,!1),Bc(e,t.containerInfo)}function Up(e,t,r,n,o){return Eo(),Nc(o),t.flags|=256,Tt(e,t,r,n),t.child}var $u={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zg(e,t,r){var n=t.pendingProps,o=Ue.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Me(Ue,o&1),e===null)return Pu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ul(a,n,0,null),e=_n(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fu(r),t.memoizedState=$u,e):Hc(t,a));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return v1(e,t,a,n,l,o,r);if(i){i=n.fallback,a=t.mode,o=e.child,l=o.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=fn(o,u),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=fn(l,i):(i=_n(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Fu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=$u,n}return i=e.child,e=i.sibling,n=fn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Hc(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ia(e,t,r,n){return n!==null&&Nc(n),Do(t,e.child,null,r),e=Hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function v1(e,t,r,n,o,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Fs(Error(B(422))),Ia(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=Ul({mode:"visible",children:n.children},o,0,null),i=_n(i,o,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Do(t,e.child,null,a),t.child.memoizedState=Fu(a),t.memoizedState=$u,i);if(!(t.mode&1))return Ia(e,t,a,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(B(419)),n=Fs(i,n,void 0),Ia(e,t,a,n)}if(l=(a&e.childLanes)!==0,$t||l){if(n=lt,n!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Qr(e,o),kr(n,e,o,-1))}return Jc(),n=Fs(Error(B(421))),Ia(e,t,a,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=R1.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,qt=un(o.nextSibling),Yt=t,_e=!0,yr=null,e!==null&&(lr[sr++]=Ur,lr[sr++]=Wr,lr[sr++]=Un,Ur=e.id,Wr=e.overflow,Un=t),t=Hc(t,n.children),t.flags|=4096,t)}function Wp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lu(e.return,t,r)}function _s(e,t,r,n,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function Xg(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(Tt(e,t,n.children,r),n=Ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,r,t);else if(e.tag===19)Wp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Me(Ue,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&dl(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),_s(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&dl(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}_s(t,!0,r,null,i);break;case"together":_s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=fn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function y1(e,t,r){switch(t.tag){case 3:Jg(t),Eo();break;case 5:Ig(t);break;case 1:_t(t.type)&&il(t);break;case 4:Bc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Me(sl,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Me(Ue,Ue.current&1),t.flags|=128,null):r&t.child.childLanes?Zg(e,t,r):(Me(Ue,Ue.current&1),e=Yr(e,t,r),e!==null?e.sibling:null);Me(Ue,Ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Xg(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Me(Ue,Ue.current),n)break;return null;case 22:case 23:return t.lanes=0,Yg(e,t,r)}return Yr(e,t,r)}var em,_u,tm,rm;em=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_u=function(){};tm=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,zn(Lr.current);var i=null;switch(r){case"input":o=uu(e,o),n=uu(e,n),i=[];break;case"select":o=He({},o,{value:void 0}),n=He({},n,{value:void 0}),i=[];break;case"textarea":o=pu(e,o),n=pu(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nl)}hu(r,n);var a;r=null;for(c in o)if(!n.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var l=o[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ki.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=o!=null?o[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ki.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Oe("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};rm=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ko(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function x1(e,t,r){var n=t.pendingProps;switch(Rc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return _t(t.type)&&ol(),St(t),null;case 3:return n=t.stateNode,To(),Be(Ft),Be(Ct),$c(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ka(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yr!==null&&(Yu(yr),yr=null))),_u(e,t),St(t),null;case 5:zc(t);var o=zn(Ai.current);if(r=t.type,e!==null&&t.stateNode!=null)tm(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return St(t),null}if(e=zn(Lr.current),ka(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Nr]=t,n[Li]=i,e=(t.mode&1)!==0,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(o=0;o<ai.length;o++)Oe(ai[o],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Xd(n,i),Oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Oe("invalid",n);break;case"textarea":tp(n,i),Oe("invalid",n)}hu(r,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Sa(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Sa(n.textContent,l,e),o=["children",""+l]):ki.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Oe("scroll",n)}switch(r){case"input":ha(n),ep(n,i,!0);break;case"textarea":ha(n),rp(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=nl)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Nr]=t,e[Li]=n,em(e,t,!1,!1),t.stateNode=e;e:{switch(a=gu(r,n),r){case"dialog":Oe("cancel",e),Oe("close",e),o=n;break;case"iframe":case"object":case"embed":Oe("load",e),o=n;break;case"video":case"audio":for(o=0;o<ai.length;o++)Oe(ai[o],e);o=n;break;case"source":Oe("error",e),o=n;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),o=n;break;case"details":Oe("toggle",e),o=n;break;case"input":Xd(e,n),o=uu(e,n),Oe("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=He({},n,{value:void 0}),Oe("invalid",e);break;case"textarea":tp(e,n),o=pu(e,n),Oe("invalid",e);break;default:o=n}hu(r,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Lh(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Nh(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Ci(e,u):typeof u=="number"&&Ci(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ki.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Oe("scroll",e):u!=null&&gc(e,i,u,a))}switch(r){case"input":ha(e),ep(e,n,!1);break;case"textarea":ha(e),rp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?yo(e,!!n.multiple,i,!1):n.defaultValue!=null&&yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=nl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)rm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(r=zn(Ai.current),zn(Lr.current),ka(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nr]=t,(i=n.nodeValue!==r)&&(e=Yt,e!==null))switch(e.tag){case 3:Sa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sa(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nr]=t,t.stateNode=n}return St(t),null;case 13:if(Be(Ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&qt!==null&&t.mode&1&&!(t.flags&128))bg(),Eo(),t.flags|=98560,i=!1;else if(i=ka(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Nr]=t}else Eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),i=!1}else yr!==null&&(Yu(yr),yr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?ot===0&&(ot=3):Jc())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return To(),_u(e,t),e===null&&Ni(t.stateNode.containerInfo),St(t),null;case 10:return Mc(t.type._context),St(t),null;case 17:return _t(t.type)&&ol(),St(t),null;case 19:if(Be(Ue),i=t.memoizedState,i===null)return St(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Ko(i,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=dl(e),a!==null){for(t.flags|=128,Ko(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Me(Ue,Ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&Je()>Ro&&(t.flags|=128,n=!0,Ko(i,!1),t.lanes=4194304)}else{if(!n)if(e=dl(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ko(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!_e)return St(t),null}else 2*Je()-i.renderingStartTime>Ro&&r!==1073741824&&(t.flags|=128,n=!0,Ko(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,r=Ue.current,Me(Ue,n?r&1|2:r&1),t):(St(t),null);case 22:case 23:return Kc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function b1(e,t){switch(Rc(t),t.tag){case 1:return _t(t.type)&&ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return To(),Be(Ft),Be(Ct),$c(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zc(t),null;case 13:if(Be(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ue),null;case 4:return To(),null;case 10:return Mc(t.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var Ea=!1,kt=!1,w1=typeof WeakSet=="function"?WeakSet:Set,G=null;function mo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function Vu(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var Hp=!1;function S1(e,t){if(Iu=el,e=lg(),Tc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,f=0,p=e,d=null;t:for(;;){for(var h;p!==r||o!==0&&p.nodeType!==3||(l=a+o),p!==i||n!==0&&p.nodeType!==3||(u=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(h=p.firstChild)!==null;)d=p,p=h;for(;;){if(p===e)break t;if(d===r&&++c===o&&(l=a),d===i&&++f===n&&(u=a),(h=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=h}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Eu={focusedElem:e,selectionRange:r},el=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,k=m.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:mr(t.type,x),k);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(b){Qe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return m=Hp,Hp=!1,m}function gi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Vu(t,r,i)}o=o.next}while(o!==n)}}function _l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Uu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function nm(e){var t=e.alternate;t!==null&&(e.alternate=null,nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nr],delete t[Li],delete t[ju],delete t[o1],delete t[i1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function om(e){return e.tag===5||e.tag===3||e.tag===4}function Gp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nl));else if(n!==4&&(e=e.child,e!==null))for(Wu(e,t,r),e=e.sibling;e!==null;)Wu(e,t,r),e=e.sibling}function Hu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hu(e,t,r),e=e.sibling;e!==null;)Hu(e,t,r),e=e.sibling}var vt=null,vr=!1;function Zr(e,t,r){for(r=r.child;r!==null;)im(e,t,r),r=r.sibling}function im(e,t,r){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Ll,r)}catch{}switch(r.tag){case 5:kt||mo(r,t);case 6:var n=vt,o=vr;vt=null,Zr(e,t,r),vt=n,vr=o,vt!==null&&(vr?(e=vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):vt.removeChild(r.stateNode));break;case 18:vt!==null&&(vr?(e=vt,r=r.stateNode,e.nodeType===8?Ms(e.parentNode,r):e.nodeType===1&&Ms(e,r),Ti(e)):Ms(vt,r.stateNode));break;case 4:n=vt,o=vr,vt=r.stateNode.containerInfo,vr=!0,Zr(e,t,r),vt=n,vr=o;break;case 0:case 11:case 14:case 15:if(!kt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Vu(r,t,a),o=o.next}while(o!==n)}Zr(e,t,r);break;case 1:if(!kt&&(mo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}Zr(e,t,r);break;case 21:Zr(e,t,r);break;case 22:r.mode&1?(kt=(n=kt)||r.memoizedState!==null,Zr(e,t,r),kt=n):Zr(e,t,r);break;default:Zr(e,t,r)}}function qp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new w1),t.forEach(function(n){var o=N1.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function gr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,vr=!1;break e;case 3:vt=l.stateNode.containerInfo,vr=!0;break e;case 4:vt=l.stateNode.containerInfo,vr=!0;break e}l=l.return}if(vt===null)throw Error(B(160));im(i,a,o),vt=null,vr=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(c){Qe(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)am(t,e),t=t.sibling}function am(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gr(t,e),jr(e),n&4){try{gi(3,e,e.return),_l(3,e)}catch(x){Qe(e,e.return,x)}try{gi(5,e,e.return)}catch(x){Qe(e,e.return,x)}}break;case 1:gr(t,e),jr(e),n&512&&r!==null&&mo(r,r.return);break;case 5:if(gr(t,e),jr(e),n&512&&r!==null&&mo(r,r.return),e.flags&32){var o=e.stateNode;try{Ci(o,"")}catch(x){Qe(e,e.return,x)}}if(n&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Th(o,i),gu(l,a);var c=gu(l,i);for(a=0;a<u.length;a+=2){var f=u[a],p=u[a+1];f==="style"?Lh(o,p):f==="dangerouslySetInnerHTML"?Nh(o,p):f==="children"?Ci(o,p):gc(o,f,p,c)}switch(l){case"input":cu(o,i);break;case"textarea":jh(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?yo(o,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?yo(o,!!i.multiple,i.defaultValue,!0):yo(o,!!i.multiple,i.multiple?[]:"",!1))}o[Li]=i}catch(x){Qe(e,e.return,x)}}break;case 6:if(gr(t,e),jr(e),n&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(x){Qe(e,e.return,x)}}break;case 3:if(gr(t,e),jr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(x){Qe(e,e.return,x)}break;case 4:gr(t,e),jr(e);break;case 13:gr(t,e),jr(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Qc=Je())),n&4&&qp(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(kt=(c=kt)||f,gr(t,e),kt=c):gr(t,e),jr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(G=e,f=e.child;f!==null;){for(p=G=f;G!==null;){switch(d=G,h=d.child,d.tag){case 0:case 11:case 14:case 15:gi(4,d,d.return);break;case 1:mo(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){Qe(n,r,x)}}break;case 5:mo(d,d.return);break;case 22:if(d.memoizedState!==null){Yp(p);continue}}h!==null?(h.return=d,G=h):Yp(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{o=p.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Ph("display",a))}catch(x){Qe(e,e.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){Qe(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gr(t,e),jr(e),n&4&&qp(e);break;case 21:break;default:gr(t,e),jr(e)}}function jr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(om(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Ci(o,""),n.flags&=-33);var i=Gp(e);Hu(e,i,o);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Gp(e);Wu(e,l,a);break;default:throw Error(B(161))}}catch(u){Qe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function k1(e,t,r){G=e,lm(e)}function lm(e,t,r){for(var n=(e.mode&1)!==0;G!==null;){var o=G,i=o.child;if(o.tag===22&&n){var a=o.memoizedState!==null||Ea;if(!a){var l=o.alternate,u=l!==null&&l.memoizedState!==null||kt;l=Ea;var c=kt;if(Ea=a,(kt=u)&&!c)for(G=o;G!==null;)a=G,u=a.child,a.tag===22&&a.memoizedState!==null?Kp(o):u!==null?(u.return=a,G=u):Kp(o);for(;i!==null;)G=i,lm(i),i=i.sibling;G=o,Ea=l,kt=c}Qp(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,G=i):Qp(e)}}function Qp(e){for(;G!==null;){var t=G;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||_l(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!kt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:mr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pp(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pp(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ti(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}kt||t.flags&512&&Uu(t)}catch(d){Qe(t,t.return,d)}}if(t===e){G=null;break}if(r=t.sibling,r!==null){r.return=t.return,G=r;break}G=t.return}}function Yp(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var r=t.sibling;if(r!==null){r.return=t.return,G=r;break}G=t.return}}function Kp(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_l(4,t)}catch(u){Qe(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(u){Qe(t,o,u)}}var i=t.return;try{Uu(t)}catch(u){Qe(t,i,u)}break;case 5:var a=t.return;try{Uu(t)}catch(u){Qe(t,a,u)}}}catch(u){Qe(t,t.return,u)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var C1=Math.ceil,hl=Kr.ReactCurrentDispatcher,Gc=Kr.ReactCurrentOwner,dr=Kr.ReactCurrentBatchConfig,be=0,lt=null,et=null,xt=0,Gt=0,vo=wn(0),ot=0,$i=null,Hn=0,Vl=0,qc=0,mi=null,zt=null,Qc=0,Ro=1/0,Fr=null,gl=!1,Gu=null,dn=null,Da=!1,on=null,ml=0,vi=0,qu=null,Ha=-1,Ga=0;function Rt(){return be&6?Je():Ha!==-1?Ha:Ha=Je()}function pn(e){return e.mode&1?be&2&&xt!==0?xt&-xt:l1.transition!==null?(Ga===0&&(Ga=Hh()),Ga):(e=je,e!==0||(e=window.event,e=e===void 0?16:Zh(e.type)),e):1}function kr(e,t,r,n){if(50<vi)throw vi=0,qu=null,Error(B(185));qi(e,r,n),(!(be&2)||e!==lt)&&(e===lt&&(!(be&2)&&(Vl|=r),ot===4&&rn(e,xt)),Vt(e,n),r===1&&be===0&&!(t.mode&1)&&(Ro=Je()+500,zl&&Sn()))}function Vt(e,t){var r=e.callbackNode;lx(e,t);var n=Xa(e,e===lt?xt:0);if(n===0)r!==null&&ip(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ip(r),t===1)e.tag===0?a1(Jp.bind(null,e)):vg(Jp.bind(null,e)),r1(function(){!(be&6)&&Sn()}),r=null;else{switch(Gh(n)){case 1:r=bc;break;case 4:r=Uh;break;case 16:r=Za;break;case 536870912:r=Wh;break;default:r=Za}r=gm(r,sm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sm(e,t){if(Ha=-1,Ga=0,be&6)throw Error(B(327));var r=e.callbackNode;if(ko()&&e.callbackNode!==r)return null;var n=Xa(e,e===lt?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=vl(e,n);else{t=n;var o=be;be|=2;var i=cm();(lt!==e||xt!==t)&&(Fr=null,Ro=Je()+500,Fn(e,t));do try{D1();break}catch(l){um(e,l)}while(!0);Lc(),hl.current=i,be=o,et!==null?t=0:(lt=null,xt=0,t=ot)}if(t!==0){if(t===2&&(o=bu(e),o!==0&&(n=o,t=Qu(e,o))),t===1)throw r=$i,Fn(e,0),rn(e,n),Vt(e,Je()),r;if(t===6)rn(e,n);else{if(o=e.current.alternate,!(n&30)&&!I1(o)&&(t=vl(e,n),t===2&&(i=bu(e),i!==0&&(n=i,t=Qu(e,i))),t===1))throw r=$i,Fn(e,0),rn(e,n),Vt(e,Je()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:Mn(e,zt,Fr);break;case 3:if(rn(e,n),(n&130023424)===n&&(t=Qc+500-Je(),10<t)){if(Xa(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Rt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Tu(Mn.bind(null,e,zt,Fr),t);break}Mn(e,zt,Fr);break;case 4:if(rn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var a=31-Sr(n);i=1<<a,a=t[a],a>o&&(o=a),n&=~i}if(n=o,n=Je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*C1(n/1960))-n,10<n){e.timeoutHandle=Tu(Mn.bind(null,e,zt,Fr),n);break}Mn(e,zt,Fr);break;case 5:Mn(e,zt,Fr);break;default:throw Error(B(329))}}}return Vt(e,Je()),e.callbackNode===r?sm.bind(null,e):null}function Qu(e,t){var r=mi;return e.current.memoizedState.isDehydrated&&(Fn(e,t).flags|=256),e=vl(e,t),e!==2&&(t=zt,zt=r,t!==null&&Yu(t)),e}function Yu(e){zt===null?zt=e:zt.push.apply(zt,e)}function I1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!Cr(i(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~qc,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Sr(t),n=1<<r;e[r]=-1,t&=~n}}function Jp(e){if(be&6)throw Error(B(327));ko();var t=Xa(e,0);if(!(t&1))return Vt(e,Je()),null;var r=vl(e,t);if(e.tag!==0&&r===2){var n=bu(e);n!==0&&(t=n,r=Qu(e,n))}if(r===1)throw r=$i,Fn(e,0),rn(e,t),Vt(e,Je()),r;if(r===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mn(e,zt,Fr),Vt(e,Je()),null}function Yc(e,t){var r=be;be|=1;try{return e(t)}finally{be=r,be===0&&(Ro=Je()+500,zl&&Sn())}}function Gn(e){on!==null&&on.tag===0&&!(be&6)&&ko();var t=be;be|=1;var r=dr.transition,n=je;try{if(dr.transition=null,je=1,e)return e()}finally{je=n,dr.transition=r,be=t,!(be&6)&&Sn()}}function Kc(){Gt=vo.current,Be(vo)}function Fn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,t1(r)),et!==null)for(r=et.return;r!==null;){var n=r;switch(Rc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ol();break;case 3:To(),Be(Ft),Be(Ct),$c();break;case 5:zc(n);break;case 4:To();break;case 13:Be(Ue);break;case 19:Be(Ue);break;case 10:Mc(n.type._context);break;case 22:case 23:Kc()}r=r.return}if(lt=e,et=e=fn(e.current,null),xt=Gt=t,ot=0,$i=null,qc=Vl=Hn=0,zt=mi=null,Bn!==null){for(t=0;t<Bn.length;t++)if(r=Bn[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=o,n.next=a}r.pending=n}Bn=null}return e}function um(e,t){do{var r=et;try{if(Lc(),Va.current=fl,pl){for(var n=We.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}pl=!1}if(Wn=0,at=nt=We=null,hi=!1,Oi=0,Gc.current=null,r===null||r.return===null){ot=1,$i=t,et=null;break}e:{var i=e,a=r.return,l=r,u=t;if(t=xt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=zp(a);if(h!==null){h.flags&=-257,$p(h,a,l,i,t),h.mode&1&&Bp(i,c,t),t=h,u=c;var m=t.updateQueue;if(m===null){var x=new Set;x.add(u),t.updateQueue=x}else m.add(u);break e}else{if(!(t&1)){Bp(i,c,t),Jc();break e}u=Error(B(426))}}else if(_e&&l.mode&1){var k=zp(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),$p(k,a,l,i,t),Nc(jo(u,l));break e}}i=u=jo(u,l),ot!==4&&(ot=2),mi===null?mi=[i]:mi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Gg(i,u,t);Np(i,v);break e;case 1:l=u;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(dn===null||!dn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=qg(i,l,t);Np(i,b);break e}}i=i.return}while(i!==null)}pm(r)}catch(C){t=C,et===r&&r!==null&&(et=r=r.return);continue}break}while(!0)}function cm(){var e=hl.current;return hl.current=fl,e===null?fl:e}function Jc(){(ot===0||ot===3||ot===2)&&(ot=4),lt===null||!(Hn&268435455)&&!(Vl&268435455)||rn(lt,xt)}function vl(e,t){var r=be;be|=2;var n=cm();(lt!==e||xt!==t)&&(Fr=null,Fn(e,t));do try{E1();break}catch(o){um(e,o)}while(!0);if(Lc(),be=r,hl.current=n,et!==null)throw Error(B(261));return lt=null,xt=0,ot}function E1(){for(;et!==null;)dm(et)}function D1(){for(;et!==null&&!Zy();)dm(et)}function dm(e){var t=hm(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?pm(e):et=t,Gc.current=null}function pm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=b1(r,t),r!==null){r.flags&=32767,et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,et=null;return}}else if(r=x1(r,t,Gt),r!==null){et=r;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);ot===0&&(ot=5)}function Mn(e,t,r){var n=je,o=dr.transition;try{dr.transition=null,je=1,T1(e,t,r,n)}finally{dr.transition=o,je=n}return null}function T1(e,t,r,n){do ko();while(on!==null);if(be&6)throw Error(B(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(sx(e,i),e===lt&&(et=lt=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Da||(Da=!0,gm(Za,function(){return ko(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=dr.transition,dr.transition=null;var a=je;je=1;var l=be;be|=4,Gc.current=null,S1(e,r),am(r,e),Qx(Eu),el=!!Iu,Eu=Iu=null,e.current=r,k1(r),Xy(),be=l,je=a,dr.transition=i}else e.current=r;if(Da&&(Da=!1,on=e,ml=o),i=e.pendingLanes,i===0&&(dn=null),rx(r.stateNode),Vt(e,Je()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(gl)throw gl=!1,e=Gu,Gu=null,e;return ml&1&&e.tag!==0&&ko(),i=e.pendingLanes,i&1?e===qu?vi++:(vi=0,qu=e):vi=0,Sn(),null}function ko(){if(on!==null){var e=Gh(ml),t=dr.transition,r=je;try{if(dr.transition=null,je=16>e?16:e,on===null)var n=!1;else{if(e=on,on=null,ml=0,be&6)throw Error(B(331));var o=be;for(be|=4,G=e.current;G!==null;){var i=G,a=i.child;if(G.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(G=c;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:gi(8,f,i)}var p=f.child;if(p!==null)p.return=f,G=p;else for(;G!==null;){f=G;var d=f.sibling,h=f.return;if(nm(f),f===c){G=null;break}if(d!==null){d.return=h,G=d;break}G=h}}}var m=i.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}G=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,G=a;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gi(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,G=v;break e}G=i.return}}var g=e.current;for(G=g;G!==null;){a=G;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,G=y;else e:for(a=g;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_l(9,l)}}catch(C){Qe(l,l.return,C)}if(l===a){G=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,G=b;break e}G=l.return}}if(be=o,Sn(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Ll,e)}catch{}n=!0}return n}finally{je=r,dr.transition=t}}return!1}function Zp(e,t,r){t=jo(r,t),t=Gg(e,t,1),e=cn(e,t,1),t=Rt(),e!==null&&(qi(e,1,t),Vt(e,t))}function Qe(e,t,r){if(e.tag===3)Zp(e,e,r);else for(;t!==null;){if(t.tag===3){Zp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dn===null||!dn.has(n))){e=jo(r,e),e=qg(t,e,1),t=cn(t,e,1),e=Rt(),t!==null&&(qi(t,1,e),Vt(t,e));break}}t=t.return}}function j1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&r,lt===e&&(xt&r)===r&&(ot===4||ot===3&&(xt&130023424)===xt&&500>Je()-Qc?Fn(e,0):qc|=r),Vt(e,t)}function fm(e,t){t===0&&(e.mode&1?(t=va,va<<=1,!(va&130023424)&&(va=4194304)):t=1);var r=Rt();e=Qr(e,t),e!==null&&(qi(e,t,r),Vt(e,r))}function R1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fm(e,r)}function N1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),fm(e,r)}var hm;hm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)$t=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $t=!1,y1(e,t,r);$t=!!(e.flags&131072)}else $t=!1,_e&&t.flags&1048576&&yg(t,ll,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wa(e,t),e=t.pendingProps;var o=Io(t,Ct.current);So(t,r),o=_c(null,t,n,e,o,r);var i=Vc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(n)?(i=!0,il(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Oc(t),o.updater=Fl,t.stateNode=o,o._reactInternals=t,Au(t,n,e,r),t=zu(null,t,n,!0,i,r)):(t.tag=0,_e&&i&&jc(t),Tt(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=L1(n),e=mr(n,e),o){case 0:t=Bu(null,t,n,e,r);break e;case 1:t=Vp(null,t,n,e,r);break e;case 11:t=Fp(null,t,n,e,r);break e;case 14:t=_p(null,t,n,mr(n.type,e),r);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:mr(n,o),Bu(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:mr(n,o),Vp(e,t,n,o,r);case 3:e:{if(Jg(t),e===null)throw Error(B(387));n=t.pendingProps,i=t.memoizedState,o=i.element,Cg(e,t),cl(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=jo(Error(B(423)),t),t=Up(e,t,n,r,o);break e}else if(n!==o){o=jo(Error(B(424)),t),t=Up(e,t,n,r,o);break e}else for(qt=un(t.stateNode.containerInfo.firstChild),Yt=t,_e=!0,yr=null,r=Sg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Eo(),n===o){t=Yr(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return Ig(t),e===null&&Pu(t),n=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,Du(n,o)?a=null:i!==null&&Du(n,i)&&(t.flags|=32),Kg(e,t),Tt(e,t,a,r),t.child;case 6:return e===null&&Pu(t),null;case 13:return Zg(e,t,r);case 4:return Bc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Do(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:mr(n,o),Fp(e,t,n,o,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Me(sl,n._currentValue),n._currentValue=a,i!==null)if(Cr(i.value,a)){if(i.children===o.children&&!Ft.current){t=Yr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Hr(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Lu(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(B(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Lu(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Tt(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,So(t,r),o=fr(o),n=n(o),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,o=mr(n,t.pendingProps),o=mr(n.type,o),_p(e,t,n,o,r);case 15:return Qg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:mr(n,o),Wa(e,t),t.tag=1,_t(n)?(e=!0,il(t)):e=!1,So(t,r),Hg(t,n,o),Au(t,n,o,r),zu(null,t,n,!0,e,r);case 19:return Xg(e,t,r);case 22:return Yg(e,t,r)}throw Error(B(156,t.tag))};function gm(e,t){return Vh(e,t)}function P1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,r,n){return new P1(e,t,r,n)}function Zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L1(e){if(typeof e=="function")return Zc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vc)return 11;if(e===yc)return 14}return 2}function fn(e,t){var r=e.alternate;return r===null?(r=ur(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qa(e,t,r,n,o,i){var a=2;if(n=e,typeof e=="function")Zc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ao:return _n(r.children,o,i,t);case mc:a=8,o|=8;break;case iu:return e=ur(12,r,t,o|2),e.elementType=iu,e.lanes=i,e;case au:return e=ur(13,r,t,o),e.elementType=au,e.lanes=i,e;case lu:return e=ur(19,r,t,o),e.elementType=lu,e.lanes=i,e;case Ih:return Ul(r,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kh:a=10;break e;case Ch:a=9;break e;case vc:a=11;break e;case yc:a=14;break e;case Xr:a=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=ur(a,r,t,o),t.elementType=e,t.type=n,t.lanes=i,t}function _n(e,t,r,n){return e=ur(7,e,n,t),e.lanes=r,e}function Ul(e,t,r,n){return e=ur(22,e,n,t),e.elementType=Ih,e.lanes=r,e.stateNode={isHidden:!1},e}function Vs(e,t,r){return e=ur(6,e,null,t),e.lanes=r,e}function Us(e,t,r){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M1(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ks(0),this.expirationTimes=ks(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ks(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Xc(e,t,r,n,o,i,a,l,u){return e=new M1(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ur(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oc(i),e}function A1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:io,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function mm(e){if(!e)return yn;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var r=e.type;if(_t(r))return mg(e,r,t)}return t}function vm(e,t,r,n,o,i,a,l,u){return e=Xc(r,n,!0,e,o,i,a,l,u),e.context=mm(null),r=e.current,n=Rt(),o=pn(r),i=Hr(n,o),i.callback=t??null,cn(r,i,o),e.current.lanes=o,qi(e,o,n),Vt(e,n),e}function Wl(e,t,r,n){var o=t.current,i=Rt(),a=pn(o);return r=mm(r),t.context===null?t.context=r:t.pendingContext=r,t=Hr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=cn(o,t,a),e!==null&&(kr(e,o,a,i),_a(e,o,a)),a}function yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ed(e,t){Xp(e,t),(e=e.alternate)&&Xp(e,t)}function O1(){return null}var ym=typeof reportError=="function"?reportError:function(e){console.error(e)};function td(e){this._internalRoot=e}Hl.prototype.render=td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Wl(e,t,null,null)};Hl.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gn(function(){Wl(null,e,null,null)}),t[qr]=null}};function Hl(e){this._internalRoot=e}Hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<tn.length&&t!==0&&t<tn[r].priority;r++);tn.splice(r,0,e),r===0&&Jh(e)}};function rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ef(){}function B1(e,t,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var c=yl(a);i.call(c)}}var a=vm(t,n,e,0,null,!1,!1,"",ef);return e._reactRootContainer=a,e[qr]=a.current,Ni(e.nodeType===8?e.parentNode:e),Gn(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var c=yl(u);l.call(c)}}var u=Xc(e,0,!1,null,null,!1,!1,"",ef);return e._reactRootContainer=u,e[qr]=u.current,Ni(e.nodeType===8?e.parentNode:e),Gn(function(){Wl(t,u,r,n)}),u}function ql(e,t,r,n,o){var i=r._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var l=o;o=function(){var u=yl(a);l.call(u)}}Wl(t,a,e,o)}else a=B1(r,t,e,o,n);return yl(a)}qh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ii(t.pendingLanes);r!==0&&(wc(t,r|1),Vt(t,Je()),!(be&6)&&(Ro=Je()+500,Sn()))}break;case 13:Gn(function(){var n=Qr(e,1);if(n!==null){var o=Rt();kr(n,e,1,o)}}),ed(e,1)}};Sc=function(e){if(e.tag===13){var t=Qr(e,134217728);if(t!==null){var r=Rt();kr(t,e,134217728,r)}ed(e,134217728)}};Qh=function(e){if(e.tag===13){var t=pn(e),r=Qr(e,t);if(r!==null){var n=Rt();kr(r,e,t,n)}ed(e,t)}};Yh=function(){return je};Kh=function(e,t){var r=je;try{return je=e,t()}finally{je=r}};vu=function(e,t,r){switch(t){case"input":if(cu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=Bl(n);if(!o)throw Error(B(90));Dh(n),cu(n,o)}}}break;case"textarea":jh(e,r);break;case"select":t=r.value,t!=null&&yo(e,!!r.multiple,t,!1)}};Oh=Yc;Bh=Gn;var z1={usingClientEntryPoint:!1,Events:[Yi,co,Bl,Mh,Ah,Yc]},Jo={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$1={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fh(e),e===null?null:e.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||O1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{Ll=Ta.inject($1),Pr=Ta}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z1;Xt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rd(t))throw Error(B(200));return A1(e,t,null,r)};Xt.createRoot=function(e,t){if(!rd(e))throw Error(B(299));var r=!1,n="",o=ym;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Xc(e,1,!1,null,null,r,!1,n,o),e[qr]=t.current,Ni(e.nodeType===8?e.parentNode:e),new td(t)};Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=Fh(t),e=e===null?null:e.stateNode,e};Xt.flushSync=function(e){return Gn(e)};Xt.hydrate=function(e,t,r){if(!Gl(t))throw Error(B(200));return ql(null,e,t,!0,r)};Xt.hydrateRoot=function(e,t,r){if(!rd(e))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",a=ym;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=vm(t,null,e,1,r??null,o,!1,i,a),e[qr]=t.current,Ni(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Hl(t)};Xt.render=function(e,t,r){if(!Gl(t))throw Error(B(200));return ql(null,e,t,!1,r)};Xt.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(B(40));return e._reactRootContainer?(Gn(function(){ql(null,null,e,!1,function(){e._reactRootContainer=null,e[qr]=null})}),!0):!1};Xt.unstable_batchedUpdates=Yc;Xt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gl(r))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return ql(e,t,r,!1,n)};Xt.version="18.3.1-next-f1338f8080-20240426";function xm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xm)}catch(e){console.error(e)}}xm(),xh.exports=Xt;var nd=xh.exports;const F1=sc(nd);var Ku,tf=nd;Ku=nu.createRoot=tf.createRoot,nu.hydrateRoot=tf.hydrateRoot;const Ju="558e200650487a28cf1cc0b33561cd82",bm="https://api.trello.com/1",Ee={CURRENT_USER:"trelloCurrentUser",USER_DATA:"trelloUserData",THEME:"dashboardTheme",CLOCK_SETTING:"dashboardClockSetting_",REFRESH_INTERVAL:"dashboardRefreshInterval_",IGNORE_TEMPLATE_CARDS:"dashboardIgnoreTemplateCards_",IGNORE_COMPLETED_CARDS:"dashboardIgnoreCompletedCards_",RANDOM_COLORS_CACHE:"dashboardRandomColors"},xl=[{id:"all",name:"Default",listIds:[],ignoreFirstCard:!1,displayFirstCardDescription:!0,isCollapsed:!1}],rf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],$e=new Date,Nn=e=>{let t,r;if(e==="last_month"){t=new Date($e.getFullYear(),$e.getMonth()-1,1),r=new Date($e.getFullYear(),$e.getMonth(),0);const n=rf[t.getMonth()];return{start:t,end:r,label:`Last month (${n} ${t.getFullYear()})`,titleSuffix:`${n} ${t.getFullYear()}`}}else if(e==="this_month"){t=new Date($e.getFullYear(),$e.getMonth(),1),r=$e;const n=rf[$e.getMonth()];return{start:t,end:r,label:`This month (${n} ${$e.getFullYear()})`,titleSuffix:`${n} ${$e.getFullYear()}`}}else if(e==="this_week"){const n=$e.getDay(),o=n===0?6:n-1;return t=new Date($e),t.setDate($e.getDate()-o),t.setHours(0,0,0,0),r=$e,{start:t,end:r,label:"This week (Mon-Sun)",titleSuffix:"This Week"}}else if(e==="last_week"){const n=$e.getDay(),o=(n===0?6:n-1)+7;return t=new Date($e),t.setDate($e.getDate()-o),t.setHours(0,0,0,0),r=new Date(t),r.setDate(t.getDate()+6),r.setHours(23,59,59,999),{start:t,end:r,label:"Last week (Mon-Sun)",titleSuffix:"Last Week"}}else{if(e==="last_3m")return t=new Date($e),t.setMonth($e.getMonth()-3),t.setHours(0,0,0,0),r=$e,{start:t,end:r,label:"Last 3 Months",titleSuffix:"Last 3 Months"};if(e==="ytd")return t=new Date($e.getFullYear(),0,1),r=$e,{start:t,end:r,label:"Year to Date",titleSuffix:"YTD"};if(e==="last_year")return t=new Date($e.getFullYear()-1,0,1),r=new Date($e.getFullYear()-1,11,31,23,59,59,999),{start:t,end:r,label:"Last Year",titleSuffix:"Last Year"}}},Vr={all:{label:"All Time",minutes:0,titleSuffix:"All Time",type:"absolute"},"24h":{label:"Last 24h",minutes:60*24,titleSuffix:"Last 24h",type:"relative"},"48h":{label:"Last 48h",minutes:60*48,titleSuffix:"Last 48h",type:"relative"},"72h":{label:"Last 72h",minutes:60*72,titleSuffix:"Last 72h",type:"relative"},"7d":{label:"Last 7 days",minutes:60*24*7,titleSuffix:"Last 7 Days",type:"relative"},this_week:{...Nn("this_week"),type:"calendar"},last_week:{...Nn("last_week"),type:"calendar"},last_30d:{label:"Last 30 days",minutes:60*24*30,titleSuffix:"Last 30 Days",type:"relative"},this_month:{...Nn("this_month"),type:"calendar"},last_month:{...Nn("last_month"),type:"calendar"},last_3m:{...Nn("last_3m"),type:"calendar"},ytd:{...Nn("ytd"),type:"calendar"},last_year:{...Nn("last_year"),type:"calendar"}},$n={login:(e="read")=>{const t="Trello Stats Dashboard",r=window.location.href.split("#")[0],n=`https://trello.com/1/authorize?expiration=never&name=${encodeURIComponent(t)}&scope=${e}&response_type=token&key=${Ju}&return_url=${encodeURIComponent(r)}`;window.location.href=n},getTokenFromUrl:()=>{const e=window.location.hash.substring(1);if(e.startsWith("token=")){const t=e.substring(6);return history.pushState("",document.title,window.location.pathname+window.location.search),t}return null},logout:e=>{e&&e()},checkTokenScopes:async e=>{if(!e)return[];try{const t=await fetch(`${bm}/tokens/${e}?key=${Ju}&token=${e}`);if(t.ok){const r=await t.json();return r.permissions?r.permissions.map(n=>n.read===!0?"read":"").concat(r.permissions.map(n=>n.write===!0?"write":"")).filter(Boolean):[]}}catch(t){console.warn("Failed to check token scopes",t)}return[]}},Fe=async(e,t,r={})=>{if(!t)throw new Error("Trello authentication token not provided.");const n=r.apiKey||Ju,o=`${bm}${e}${e.includes("?")?"&":"?"}key=${n}&token=${t}`;console.log(`[TrelloAPI] ${r.method||"GET"} ${e}`,{options:r,url:o});const i=await fetch(o,r);if(i.ok)console.log(`[TrelloAPI] Response OK ${i.status} for ${e}`);else{const a=await i.text();console.error(`[TrelloAPI] Error ${i.status}:`,a);let l=a;try{const u=JSON.parse(a);u&&u.message&&(l=u.message)}catch{}throw i.status===429?new Error("Rate limit exceeded (429): Trello API requests too fast/frequent."):i.status===401?new Error(`Invalid or expired token. Please log in again. (Details: ${l})`):new Error(l||`Trello API error: ${i.status}`)}return i.json()},_1=async e=>{if(!e)throw new Error("No token provided");const t=Fe("/members/me/organizations?fields=id,displayName,name",e),r=Fe("/members/me/boards?filter=open&fields=id,name,idOrganization,shortUrl,prefs",e),n=Fe("/members/me/cards?filter=visible&fields=id,name,due,dueComplete,idBoard,idList,url,shortUrl,desc,idMembers,labels&checklists=all&checklist_fields=all",e),o=Fe("/search?query=checklist:me is:open&modelTypes=cards&cards_limit=1000&card_fields=id",e),[i,a,l,u]=await Promise.all([t,r,n,o]),c=new Set(l.map(b=>b.id)),p=(u.cards||[]).map(b=>b.id).filter(b=>!c.has(b));let d=[];if(p.length>0){const C=[];for(let L=0;L<p.length;L+=10)C.push(p.slice(L,L+10));const E="id,name,due,dueComplete,idBoard,idList,url,shortUrl,desc,idMembers,labels",D="checklists=all&checklist_fields=all",I=C.map(L=>{const V=L.map(K=>`/cards/${K}?fields=${E}&${D}`).join(",");return Fe(`/batch?urls=${V}`,e)});(await Promise.all(I)).forEach(L=>{Array.isArray(L)&&L.forEach(V=>{V[200]&&d.push(V[200])})})}const h=[...l,...d],m=new Set(a.map(b=>b.id)),k=[...new Set(h.map(b=>b.idBoard))].filter(b=>b&&!m.has(b));if(k.length>0){const C=[];for(let I=0;I<k.length;I+=10)C.push(k.slice(I,I+10));const E=C.map(I=>{const N=I.map(L=>`/boards/${L}?fields=id,name,idOrganization,shortUrl,prefs`).join(",");return Fe(`/batch?urls=${N}`,e)});(await Promise.all(E)).forEach(I=>{Array.isArray(I)&&I.forEach(N=>{N[200]&&a.push(N[200])})})}const v=new Set(i.map(b=>b.id)),g=new Set;a.forEach(b=>{b.idOrganization&&g.add(b.idOrganization)});const y=[...g].filter(b=>!v.has(b));if(y.length>0){const C=[];for(let I=0;I<y.length;I+=10)C.push(y.slice(I,I+10));const E=C.map(I=>{const N=I.map(L=>`/organizations/${L}?fields=id,displayName,name`).join(",");return Fe(`/batch?urls=${N}`,e)});(await Promise.all(E)).forEach(I=>{Array.isArray(I)&&I.forEach(N=>{N[200]&&i.push(N[200])})})}return{orgs:i,boards:a,cards:h}},V1=()=>localStorage.getItem(Ee.CURRENT_USER),Ws=e=>{e?localStorage.setItem(Ee.CURRENT_USER,e):localStorage.removeItem(Ee.CURRENT_USER)},Ql=(e,t)=>e?((JSON.parse(localStorage.getItem(Ee.USER_DATA))||{})[e]||{})[t]:null,yi=(e,t,r)=>{if(!e)return;const n=JSON.parse(localStorage.getItem(Ee.USER_DATA))||{};n[e]||(n[e]={}),n[e][t]=r,localStorage.setItem(Ee.USER_DATA,JSON.stringify(n))},xi=e=>{try{return Ql(e,"listColors")||{}}catch{return{}}},U1=(e,t,r)=>{const n=xi(e);n[t]=r,yi(e,"listColors",n)},od=(e,t)=>{try{return((Ql(e,"dashboardLayout")||{})[t]||xl).map(o=>({...o,isCollapsed:o.isCollapsed||!1,ignoreFirstCard:o.ignoreFirstCard||!1,displayFirstCardDescription:o.displayFirstCardDescription!==!1,includeOnMap:o.includeOnMap===!0}))}catch(r){return console.error("Error parsing dashboard layout:",r),xl}},wm=(e,t,r)=>{try{const n=Ql(e,"dashboardLayout")||{};n[t]=r,yi(e,"dashboardLayout",n)}catch(n){console.error("Error saving dashboard layout:",n)}},Sm=w.createContext(),Zn=()=>w.useContext(Sm),W1=({children:e})=>{const[t,r]=w.useState(()=>localStorage.getItem(Ee.THEME)||"system");w.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),i=l=>{const u=l==="system"?o.matches?"dark":"light":l;document.documentElement.setAttribute("data-theme",u)};i(t);const a=()=>i(t);return o.addEventListener("change",a),()=>o.removeEventListener("change",a)},[t]);const n=o=>{const i=o||(t==="light"?"dark":"light");r(i),localStorage.setItem(Ee.THEME,i)};return s.jsx(Sm.Provider,{value:{theme:t,toggleTheme:n},children:e})},nf=()=>{const e=t=>{t.preventDefault(),$n.login()};return s.jsxs("div",{className:"landing-page",children:[s.jsxs("header",{className:"landing-header",children:[s.jsx("div",{className:"logo",children:"Trellops"}),s.jsx("img",{src:"powerupicon2.png",alt:"Trellops Logo",style:{width:"120px",height:"120px",marginBottom:"20px"}}),s.jsx("h1",{children:"Transform Your Trello Boards into Real-Time Operational Dashboards."}),s.jsx("p",{className:"subtitle",children:"From Kanban to Command Centre. Visualize your workload on a Wallboard or a Map."}),s.jsx("a",{href:"#login",className:"cta-button",onClick:e,children:"Try Trellops Now!"})]}),s.jsxs("section",{className:"features",children:[s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"icon",children:""}),s.jsx("h3",{children:"Real-Time Wallboard"}),s.jsx("p",{children:"See instant, close-to-realtime workload metrics. Perfect for office wall screens and operations centres. Group lists into custom blocks to focus on what matters."})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"icon",children:""}),s.jsx("h3",{children:"Live Map View"}),s.jsxs("p",{children:[s.jsx("strong",{children:"New!"})," Visualize your cards geographically. Trellops automatically plots cards based on their address description or coordinates. Track field ops at a glance."]})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"icon",children:""}),s.jsx("h3",{children:"Drag-and-Drop Control"}),s.jsxs("p",{children:[s.jsx("strong",{children:"New!"})," Organise your dashboard in seconds. Simply drag lists between blocks and reorder your view with an intuitive new interface."]})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"icon",children:""}),s.jsx("h3",{children:"Privacy by Design"}),s.jsx("p",{children:'We believe in "Local First." Your dashboard configuration lives on your device. Server storage is only used if you explicitly choose to share a configuration link with a colleague.'})]})]}),s.jsxs("section",{className:"details",children:[s.jsx("h2",{children:"Why Trellops?"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Custom Icons:"})," Assign specific icons to blocks or override them based on Trello labels."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Smart Filters:"})," Filter card totals by creation date to spot trends."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Actionable Map:"})," Move cards to different lists directly from the map interface (requires write permission)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Effortless Sharing:"})," Share your exact setup with your team via a unique, secure link."]})]})]}),s.jsxs("footer",{children:[s.jsx("button",{id:"login-btn",onClick:e,children:"Login with Trello"}),s.jsxs("p",{children:[s.jsx("a",{href:"help.html",children:"User Guide"})," | ",s.jsx("a",{href:"privacy.html",children:"Privacy Disclaimer"})]})]})]})},km=(e,t)=>{const r=parseInt(e)||0;return t==="seconds"?r:t==="minutes"?r*60:t==="hours"?r*3600:30},of=(e,t)=>{let r=JSON.parse(localStorage.getItem(Ee.RANDOM_COLORS_CACHE))||{},n=r[e];const o="#dcdcdc";if(!n){let i,a,l;do i=Math.floor(Math.random()*101),a=Math.floor(Math.random()*101),l=Math.floor(Math.random()*101),n="#"+((1<<24)+(i<<16)+(a<<8)+l).toString(16).slice(1).padStart(6,"0");while(t instanceof Set&&t.has(n));r[e]=n,localStorage.setItem(Ee.RANDOM_COLORS_CACHE,JSON.stringify(r))}return n||o},Cm=e=>(e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e)==="dark"?"#ffffff":"#222222",id=e=>e==null?"":e<=60?`${e}s`:e<3600?`${Math.ceil(e/60)}m`:`${Math.round(e/3600)}h`,ad=({boardId:e,compact:t=!1})=>{const[r,n]=w.useState(""),[o,i]=w.useState(()=>localStorage.getItem(Ee.CLOCK_SETTING+e)!=="false");return w.useEffect(()=>{const a=setInterval(()=>{n(new Date().toLocaleTimeString(void 0,{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}))},1e3);return()=>clearInterval(a)},[]),w.useEffect(()=>{const a=localStorage.getItem(Ee.CLOCK_SETTING+e);i(a!=="false")},[e]),o?s.jsx("div",{className:t?"compact-clock":"large-clock",style:t?{fontSize:"1.2em",fontWeight:"bold",color:"var(--text-primary)"}:{},children:r||"--:--:--"}):null},H1=({listId:e,listName:t,color:r,token:n,onClose:o,sectionsLayout:i,ignoreTemplateCards:a,ignoreNoDescCards:l})=>{const[u,c]=w.useState([]),[f,p]=w.useState(!0),[d,h]=w.useState(""),{theme:m}=Zn(),x=i.find(v=>v.listIds.includes(e)),k=(x==null?void 0:x.ignoreFirstCard)||!1;return w.useEffect(()=>{p(!0),h(""),Fe(`/lists/${e}/cards?fields=id,name,shortUrl,labels,isTemplate,desc`,n).then(v=>{let g=v;a&&(g=g.filter(b=>!b.isTemplate));const y=k?g.slice(1):g;c(y)}).catch(v=>{console.error("Card fetch error:",v),h(`Failed to load cards for this list: ${v.message}`)}).finally(()=>p(!1))},[e,n,k,a]),s.jsx("div",{className:"modal-overlay",onClick:o,children:s.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[s.jsx("span",{className:"modal-close",onClick:o,style:{float:"right",fontSize:"1.5em",cursor:"pointer"},children:""}),s.jsxs("h3",{style:{color:r,borderColor:r},children:["Cards in: ",t," (",u.length,")"]}),f&&s.jsx("p",{children:"Loading cards..."}),d&&s.jsx("p",{className:"error",children:d}),!f&&u.length===0&&s.jsx("p",{children:"No cards found in this list."}),!f&&u.length>0&&s.jsx("div",{children:u.map(v=>{var b;const g=l&&(!v.desc||!v.desc.trim()),y=g?{color:"lightgrey",fontStyle:"italic"}:{};return s.jsxs("div",{className:"card-list-item",style:y,children:[(b=v.labels)==null?void 0:b.map(C=>s.jsx("span",{className:"card-label",style:{backgroundColor:C.color||"#999",color:Cm(m),opacity:g?.6:1},children:C.name||C.color},C.id)),s.jsxs("a",{href:v.shortUrl,target:"_blank",rel:"noopener noreferrer",title:v.name,style:y,children:[v.name," ",g&&s.jsx("span",{style:{fontSize:"0.8em"},children:" (no description)"})]})]},v.id)})})]})})},Im=({labels:e,selectedLabelIds:t,onChange:r,labelLogic:n,onLabelLogicChange:o})=>{const[i,a]=w.useState(!1),l=w.useRef(null),{theme:u}=Zn(),c=t==null;w.useEffect(()=>{const p=d=>{l.current&&!l.current.contains(d.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=p=>{if(c){const d=new Set(e.filter(h=>h.id!==p).map(h=>h.id));r(d)}else{const d=new Set(t);d.has(p)?d.delete(p):d.add(p),r(d)}};return s.jsxs("div",{style:{position:"relative",display:"inline-block",marginLeft:"10px"},ref:l,children:[s.jsxs("button",{className:"settings-button",onClick:()=>a(!i),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",fontSize:"0.9em",backgroundColor:u==="dark"?"var(--bg-secondary)":"#ffffff",color:"var(--text-primary)",border:"1px solid var(--border-color)"},children:["Labels",!c&&t.size>0&&s.jsx("span",{style:{background:"var(--accent-color)",color:"white",borderRadius:"10px",padding:"0 6px",fontSize:"0.8em"},children:t.size}),!c&&t.size===0&&s.jsx("span",{style:{fontSize:"0.8em",color:"var(--text-secondary)"},children:"(None)"}),s.jsx("span",{style:{fontSize:"0.8em"},children:""})]}),i&&s.jsxs("div",{style:{position:"absolute",top:"100%",left:0,marginTop:"5px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",boxShadow:"0 4px 12px var(--shadow-color)",zIndex:1e3,width:"320px",display:"flex",flexDirection:"column",maxHeight:"500px"},children:[s.jsxs("div",{style:{padding:"10px",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.9em",fontWeight:"bold",color:"var(--text-primary)"},children:[s.jsx("span",{children:"Filter by Labels"}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{onClick:()=>r(null),style:{background:"transparent",border:"none",color:"var(--accent-color)",cursor:"pointer",fontSize:"0.9em",textDecoration:"underline"},children:"All"}),s.jsx("button",{onClick:()=>r(new Set),style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9em",textDecoration:"underline"},children:"None"})]})]}),s.jsx("div",{style:{padding:"8px 10px",background:"var(--bg-tertiary)",borderBottom:"1px solid var(--border-color)",display:"flex",alignItems:"center",fontSize:"0.85em",color:"var(--text-secondary)"},children:s.jsxs("div",{style:{display:"flex",gap:"15px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"labelLogic",value:"OR",checked:n==="OR",onChange:()=>o("OR"),style:{marginRight:"5px"}}),"Match any"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"labelLogic",value:"AND",checked:n==="AND",onChange:()=>o("AND"),style:{marginRight:"5px"}}),"Match all"]})]})}),s.jsx("div",{style:{overflowY:"auto",padding:"10px",flex:1},children:e.map(p=>{const d=c||t.has(p.id);return s.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"6px 0",cursor:"pointer",color:"var(--text-primary)"},children:[s.jsx("input",{type:"checkbox",checked:d,onChange:()=>f(p.id),style:{marginRight:"10px"}}),s.jsx("span",{style:{display:"inline-block",width:"12px",height:"12px",borderRadius:"50%",backgroundColor:p.color||"#ccc",marginRight:"8px"}}),s.jsx("span",{style:{fontSize:"0.9em"},children:p.name||(p.color?p.color:"No Name")})]},p.id)})})]})]})},G1=({user:e,settings:t,onShowSettings:r,onLogout:n,onShowTasks:o,onShowMap:i,onGoToStats:a})=>{var Ae;const[l,u]=w.useState([]),[c,f]=w.useState(new Map),[p,d]=w.useState([]),[h,m]=w.useState(!0),[x,k]=w.useState(""),[v,g]=w.useState(30),[y,b]=w.useState("all"),[C,E]=w.useState(null),[D,I]=w.useState(()=>{if(t&&t.enableMapView!==void 0)return t.enableMapView;const re=t==null?void 0:t.boardId;return re?localStorage.getItem(`ENABLE_MAP_VIEW_${re}`)==="true":!1}),N=w.useRef(null),[L,V]=w.useState(!1),[K,le]=w.useState(!1),{theme:se,toggleTheme:Ie}=Zn();w.useEffect(()=>{if(t){if(t.enableMapView!==void 0)I(t.enableMapView);else if(t.boardId)try{const re=localStorage.getItem(`ENABLE_MAP_VIEW_${t.boardId}`);I(re==="true")}catch{}}},[t]);const[ie,ke]=w.useState(null),P=t==null?void 0:t.boardId,W=t==null?void 0:t.boardName,U=(t==null?void 0:t.selectedLists)||[],J=P?od(e.id,P):xl,X=xi(e.id),Ce=new Map(J.map(re=>[re.id,re])),ue=re=>{const z=J.map(Y=>Y.id===re?{...Y,isCollapsed:!Y.isCollapsed}:Y);wm(e.id,P,z)},he=w.useMemo(()=>{try{const re=localStorage.getItem(Ee.REFRESH_INTERVAL+P),Y=re?JSON.parse(re):{value:1,unit:"minutes"},fe=km(Y.value,Y.unit);return fe<15?15:fe}catch{return 60}},[P]),j=localStorage.getItem(Ee.IGNORE_TEMPLATE_CARDS+P)!=="false",A=localStorage.getItem(Ee.IGNORE_COMPLETED_CARDS+P)==="true",M=localStorage.getItem("IGNORE_NO_DESC_CARDS_"+P)==="true",q=w.useRef(!1),$=w.useCallback(async(re=!1)=>{if((re||h)&&m(!0),!q.current){q.current=!0,k("");try{if(!P)throw new Error("No Board ID configured");const[z,Y,fe]=await Promise.all([Fe(`/boards/${P}/lists?cards=none&fields=id,name,color`,e.token),Fe(`/boards/${P}/labels`,e.token),Fe(`/boards/${P}/cards?fields=id,idList,pos,name,desc,isTemplate,dateLastActivity,dueComplete,labels`,e.token)]),de=new Map;z.forEach(rr=>de.set(rr.id,rr)),f(de),d(Y),u(fe)}catch(z){console.error("Dashboard fetch error:",z),z.message&&z.message.includes("429")?k("Trello API Limit Exceeded. Refresh paused."):k(z.message)}finally{q.current=!1,m(!1)}}},[P,e.token,h]);w.useEffect(()=>{N.current&&clearInterval(N.current);const re=setInterval(()=>{g(z=>z<=1?($(),he):z-1)},1e3);return N.current=re,g(he),$(),()=>clearInterval(re)},[$,he]);const ne=w.useMemo(()=>{const re=new Map;if(l.length===0)return re;const z=new Map;l.forEach(ye=>{z.has(ye.idList)||z.set(ye.idList,[]),z.get(ye.idList).push(ye)});const Y=Vr[y];let fe=null,de=null;if(Y)if(Y.type==="relative"&&y!=="all"){const ye=new Date;ye.setMinutes(ye.getMinutes()-Y.minutes),fe=ye}else Y.type==="calendar"&&(Y.start&&(fe=Y.start),Y.end&&y!=="this_month"&&y!=="this_week"&&(de=Y.end));const rr=xi(e.id),It=new Set(Object.values(rr).flatMap(ye=>Object.values(ye)));return new Set(J.flatMap(ye=>ye.listIds)).forEach(ye=>{var Ar;const Lt=(z.get(ye)||[]).sort((Xe,Ut)=>Xe.pos-Ut.pos),Ze=J.find(Xe=>Xe.listIds.includes(ye)),Et=Ze==null?void 0:Ze.ignoreFirstCard,Cn=Ze==null?void 0:Ze.displayFirstCardDescription;let Er=null,In=Lt;Et&&Lt.length>0&&(Er=Lt[0],In=Lt.slice(1));const Jr=In.filter(Xe=>{if(j&&Xe.isTemplate||A&&Xe.dueComplete||M&&(!Xe.desc||!Xe.desc.trim()))return!1;if(fe||de){const Ut=new Date(Xe.dateLastActivity);if(fe&&Ut<fe||de&&Ut>=de)return!1}if(C!==null&&C.size>0){if(!Xe.labels||Xe.labels.length===0||!Xe.labels.some(nr=>C.has(nr.id)))return!1}else if(C!==null&&C.size===0)return!1;return!0}).length;let Mt="";Et&&Er&&Cn&&(Mt=Er.name);const dt=c.get(ye);let Mr=((Ar=X[P])==null?void 0:Ar[ye])||(dt==null?void 0:dt.color);(!Mr||Mr==="#cccccc")&&(Mr=of(ye,It)),re.set(ye,{listId:ye,count:Jr,name:(dt==null?void 0:dt.name)||"Unknown List",displayColor:Mr,firstCardName:Mt})}),re},[l,y,C,c,J,e.id,P,j,A,M]),ge=(re,z,Y)=>{ke({listId:re,listName:z,color:Y,sectionsLayout:J})},Ye=()=>{ke(null)},ze=Vr[y].titleSuffix,ce=localStorage.getItem(Ee.CLOCK_SETTING+P)!=="false";return h&&l.length===0?s.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"50px"},children:"Loading dashboard data..."}):!W||U.length===0?s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"header",children:[s.jsx("h1",{children:"Trellops Dashboard"}),s.jsx("button",{className:"logout-button",onClick:n,children:"Logout"})]}),s.jsx("p",{style:{textAlign:"center",marginTop:"50px"},children:"No Trello Board configured. Please go to settings to set up your first dashboard."}),s.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:s.jsx("button",{className:"settings-button",onClick:r,children:"Go to Settings"})})]}):s.jsxs("div",{className:"map-container",children:[s.jsxs("div",{className:"map-header",children:[s.jsxs("div",{className:"map-header-title-area",children:[ce&&s.jsx(ad,{boardId:P}),s.jsxs("h1",{style:{marginLeft:ce?"15px":"0"},children:[W," ",s.jsx("span",{style:{marginLeft:"15px"},children:ze})]})]}),s.jsxs("div",{className:"map-header-actions",style:{display:"flex",alignItems:"center"},children:[s.jsx(Im,{labels:p,selectedLabelIds:C,onChange:E}),s.jsx("select",{className:"time-filter-select",value:y,onChange:re=>b(re.target.value),style:{marginLeft:"10px"},children:Object.keys(Vr).map(re=>s.jsx("option",{value:re,children:Vr[re].label},re))}),((Ae=t==null?void 0:t.statistics)==null?void 0:Ae.enabled)&&s.jsx("button",{className:"button-secondary",onClick:a||(()=>window.open("/stats","_self")),style:{marginLeft:"10px",height:"34px",padding:"0 15px",display:"flex",alignItems:"center"},children:"Stats"}),s.jsx("button",{className:"theme-toggle-button",onClick:()=>Ie(),style:{marginLeft:"10px"},children:se==="dark"?"":""})]})]}),s.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px",paddingBottom:"80px",position:"relative",zIndex:1},children:J.map(re=>{var fe;const z=re.listIds.map(de=>{var It;const rr=ne.get(de);if(!rr){const Ge=c.get(de);if(Ge){const ye=xi(e.id),Lt=new Set(Object.values(ye).flatMap(Et=>Object.values(Et)));let Ze=((It=X[P])==null?void 0:It[de])||Ge.color;return(!Ze||Ze==="#cccccc")&&(Ze=of(de,Lt)),{listId:Ge.id,name:Ge.name,count:"...",displayColor:Ze,firstCardName:""}}return}return rr}).filter(de=>de!==void 0),Y=((fe=Ce.get(re.id))==null?void 0:fe.isCollapsed)||!1;return z.length===0&&!Y?null:s.jsxs("div",{className:"dashboard-block",children:[s.jsxs("div",{className:"block-header-row",children:[s.jsx("div",{className:"block-header",children:re.name}),s.jsx("button",{className:"collapse-toggle",onClick:()=>ue(re.id),title:Y?"Show Tiles":"Hide Tiles",children:Y?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.02 18.02 0 0 1 5.06-5.06"}),s.jsx("path",{d:"M4.22 4.22L12 12m5.07-5.07A10.07 10.07 0 0 1 23 12s-4 8-11 8c-1.85 0-3.61-.5-5.17-1.42"}),s.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):s.jsxs("svg",{className:"icon-eye",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),!Y&&s.jsx("div",{className:"dashboard-grid",children:z.map(de=>s.jsxs("div",{className:"dashboard-tile",style:{backgroundColor:de.displayColor,color:"white"},onClick:()=>ge(de.listId,de.name,de.displayColor),children:[s.jsx("div",{className:"card-count",children:de.count}),s.jsx("div",{className:"list-name",children:de.name}),de.firstCardName&&s.jsx("div",{className:"card-description",title:de.firstCardName,children:de.firstCardName})]},de.listId))})]},re.id)})}),ie&&s.jsx(H1,{listId:ie.listId,listName:ie.listName,color:ie.color,token:e.token,onClose:Ye,sectionsLayout:J,ignoreTemplateCards:j,ignoreNoDescCards:M}),s.jsxs("div",{className:"map-footer",children:[s.jsx("div",{className:"map-footer-left"}),s.jsxs("div",{className:"map-footer-right",style:{display:"flex",gap:"15px",alignItems:"center"},children:[s.jsxs("button",{className:"button-secondary",onClick:()=>{g(he),$(!0)},children:["Refresh ",id(v)]}),D&&s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex"},children:[s.jsx("button",{className:"button-secondary",onClick:i||(()=>window.open("/map","_blank")),children:"Map View"}),s.jsx("button",{className:"button-secondary dropdown-arrow",style:{marginLeft:"-1px",borderLeft:"none",padding:"0 5px"},onClick:()=>V(!L),children:""})]}),L&&s.jsx("div",{className:"context-menu",style:{position:"absolute",bottom:"100%",left:0,background:"var(--bg-primary)",border:"1px solid #ccc",borderRadius:"4px",padding:"5px",minWidth:"150px"},children:s.jsx("div",{className:"menu-item",onClick:()=>{window.open("/map","_blank"),V(!1)},children:"Open in New Tab"})})]}),(t==null?void 0:t.enableTaskView)&&s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex"},children:[s.jsx("button",{className:"button-secondary",onClick:o||(()=>window.open("/tasks","_blank")),children:"Tasks View"}),s.jsx("button",{className:"button-secondary dropdown-arrow",style:{marginLeft:"-1px",borderLeft:"none",padding:"0 5px"},onClick:()=>le(!K),children:""})]}),K&&s.jsx("div",{className:"context-menu",style:{position:"absolute",bottom:"100%",left:0,background:"var(--bg-primary)",border:"1px solid #ccc",borderRadius:"4px",padding:"5px",minWidth:"150px"},children:s.jsx("div",{className:"menu-item",onClick:()=>{window.open("/tasks","_blank"),le(!1)},children:"Open in New Tab"})})]}),s.jsx("button",{className:"button-secondary",onClick:r,children:"Settings"}),s.jsx("button",{className:"button-secondary",onClick:n,children:"Log Out"})]})]}),(K||L)&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>{le(!1),V(!1)}})]})},q1="modulepreload",Q1=function(e){return"/"+e},af={},Y1=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(r.map(u=>{if(u=Q1(u),u in af)return;af[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":q1,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((d,h)=>{p.addEventListener("load",d),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Zu(e,t){return Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zu(e,t)}function Em(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Zu(e,t)}function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},te.apply(null,arguments)}function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function K1(e,t){if(Fi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J1(e){var t=K1(e,"string");return Fi(t)=="symbol"?t:t+""}function Z1(e,t,r){return(t=J1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lf(Object(r),!0).forEach(function(n){Z1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var uf=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),cf=function(){return Math.random().toString(36).substring(7).split("").join(".")},df={INIT:"@@redux/INIT"+cf(),REPLACE:"@@redux/REPLACE"+cf()};function X1(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Dm(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Bt(1));return r(Dm)(e,t)}if(typeof e!="function")throw new Error(Bt(2));var o=e,i=t,a=[],l=a,u=!1;function c(){l===a&&(l=a.slice())}function f(){if(u)throw new Error(Bt(3));return i}function p(x){if(typeof x!="function")throw new Error(Bt(4));if(u)throw new Error(Bt(5));var k=!0;return c(),l.push(x),function(){if(k){if(u)throw new Error(Bt(6));k=!1,c();var g=l.indexOf(x);l.splice(g,1),a=null}}}function d(x){if(!X1(x))throw new Error(Bt(7));if(typeof x.type>"u")throw new Error(Bt(8));if(u)throw new Error(Bt(9));try{u=!0,i=o(i,x)}finally{u=!1}for(var k=a=l,v=0;v<k.length;v++){var g=k[v];g()}return x}function h(x){if(typeof x!="function")throw new Error(Bt(10));o=x,d({type:df.REPLACE})}function m(){var x,k=p;return x={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Bt(11));function y(){g.next&&g.next(f())}y();var b=k(y);return{unsubscribe:b}}},x[uf]=function(){return this},x}return d({type:df.INIT}),n={dispatch:d,subscribe:p,getState:f,replaceReducer:h},n[uf]=m,n}function pf(e,t){return function(){return t(e.apply(this,arguments))}}function ff(e,t){if(typeof e=="function")return pf(e,t);if(typeof e!="object"||e===null)throw new Error(Bt(16));var r={};for(var n in e){var o=e[n];typeof o=="function"&&(r[n]=pf(o,t))}return r}function Tm(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,o){return function(){return n(o.apply(void 0,arguments))}})}function e0(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var o=n.apply(void 0,arguments),i=function(){throw new Error(Bt(15))},a={getState:o.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(u){return u(a)});return i=Tm.apply(void 0,l)(o.dispatch),sf(sf({},o),{},{dispatch:i})}}}var jm=De.createContext(null);function t0(e){e()}var Rm=t0,r0=function(t){return Rm=t},n0=function(){return Rm};function o0(){var e=n0(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var o=t;o;)o.callback(),o=o.next})},get:function(){for(var o=[],i=t;i;)o.push(i),i=i.next;return o},subscribe:function(o){var i=!0,a=r={callback:o,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var hf={notify:function(){},get:function(){return[]}};function Nm(e,t){var r,n=hf;function o(p){return u(),n.subscribe(p)}function i(){n.notify()}function a(){f.onStateChange&&f.onStateChange()}function l(){return!!r}function u(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=o0())}function c(){r&&(r(),r=void 0,n.clear(),n=hf)}var f={addNestedSub:o,notifyNestedSubs:i,handleChangeWrapper:a,isSubscribed:l,trySubscribe:u,tryUnsubscribe:c,getListeners:function(){return n}};return f}var Pm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function i0(e){var t=e.store,r=e.context,n=e.children,o=w.useMemo(function(){var l=Nm(t);return{store:t,subscription:l}},[t]),i=w.useMemo(function(){return t.getState()},[t]);Pm(function(){var l=o.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[o,i]);var a=r||jm;return De.createElement(a.Provider,{value:o},n)}function bl(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lm={exports:{}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct=typeof Symbol=="function"&&Symbol.for,ld=ct?Symbol.for("react.element"):60103,sd=ct?Symbol.for("react.portal"):60106,Yl=ct?Symbol.for("react.fragment"):60107,Kl=ct?Symbol.for("react.strict_mode"):60108,Jl=ct?Symbol.for("react.profiler"):60114,Zl=ct?Symbol.for("react.provider"):60109,Xl=ct?Symbol.for("react.context"):60110,ud=ct?Symbol.for("react.async_mode"):60111,es=ct?Symbol.for("react.concurrent_mode"):60111,ts=ct?Symbol.for("react.forward_ref"):60112,rs=ct?Symbol.for("react.suspense"):60113,a0=ct?Symbol.for("react.suspense_list"):60120,ns=ct?Symbol.for("react.memo"):60115,os=ct?Symbol.for("react.lazy"):60116,l0=ct?Symbol.for("react.block"):60121,s0=ct?Symbol.for("react.fundamental"):60117,u0=ct?Symbol.for("react.responder"):60118,c0=ct?Symbol.for("react.scope"):60119;function tr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ld:switch(e=e.type,e){case ud:case es:case Yl:case Jl:case Kl:case rs:return e;default:switch(e=e&&e.$$typeof,e){case Xl:case ts:case os:case ns:case Zl:return e;default:return t}}case sd:return t}}}function Mm(e){return tr(e)===es}Re.AsyncMode=ud;Re.ConcurrentMode=es;Re.ContextConsumer=Xl;Re.ContextProvider=Zl;Re.Element=ld;Re.ForwardRef=ts;Re.Fragment=Yl;Re.Lazy=os;Re.Memo=ns;Re.Portal=sd;Re.Profiler=Jl;Re.StrictMode=Kl;Re.Suspense=rs;Re.isAsyncMode=function(e){return Mm(e)||tr(e)===ud};Re.isConcurrentMode=Mm;Re.isContextConsumer=function(e){return tr(e)===Xl};Re.isContextProvider=function(e){return tr(e)===Zl};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ld};Re.isForwardRef=function(e){return tr(e)===ts};Re.isFragment=function(e){return tr(e)===Yl};Re.isLazy=function(e){return tr(e)===os};Re.isMemo=function(e){return tr(e)===ns};Re.isPortal=function(e){return tr(e)===sd};Re.isProfiler=function(e){return tr(e)===Jl};Re.isStrictMode=function(e){return tr(e)===Kl};Re.isSuspense=function(e){return tr(e)===rs};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yl||e===es||e===Jl||e===Kl||e===rs||e===a0||typeof e=="object"&&e!==null&&(e.$$typeof===os||e.$$typeof===ns||e.$$typeof===Zl||e.$$typeof===Xl||e.$$typeof===ts||e.$$typeof===s0||e.$$typeof===u0||e.$$typeof===c0||e.$$typeof===l0)};Re.typeOf=tr;Lm.exports=Re;var d0=Lm.exports,cd=d0,p0={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},f0={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h0={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Am={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dd={};dd[cd.ForwardRef]=h0;dd[cd.Memo]=Am;function gf(e){return cd.isMemo(e)?Am:dd[e.$$typeof]||p0}var g0=Object.defineProperty,m0=Object.getOwnPropertyNames,mf=Object.getOwnPropertySymbols,v0=Object.getOwnPropertyDescriptor,y0=Object.getPrototypeOf,vf=Object.prototype;function Om(e,t,r){if(typeof t!="string"){if(vf){var n=y0(t);n&&n!==vf&&Om(e,n,r)}var o=m0(t);mf&&(o=o.concat(mf(t)));for(var i=gf(e),a=gf(t),l=0;l<o.length;++l){var u=o[l];if(!f0[u]&&!(r&&r[u])&&!(a&&a[u])&&!(i&&i[u])){var c=v0(t,u);try{g0(e,u,c)}catch{}}}}return e}var x0=Om;const yf=sc(x0);var Bm={exports:{}},Le={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=60103,as=60106,Ji=60107,Zi=60108,Xi=60114,ea=60109,ta=60110,ra=60112,na=60113,pd=60120,oa=60115,ia=60116,zm=60121,$m=60122,Fm=60117,_m=60129,Vm=60131;if(typeof Symbol=="function"&&Symbol.for){var mt=Symbol.for;is=mt("react.element"),as=mt("react.portal"),Ji=mt("react.fragment"),Zi=mt("react.strict_mode"),Xi=mt("react.profiler"),ea=mt("react.provider"),ta=mt("react.context"),ra=mt("react.forward_ref"),na=mt("react.suspense"),pd=mt("react.suspense_list"),oa=mt("react.memo"),ia=mt("react.lazy"),zm=mt("react.block"),$m=mt("react.server.block"),Fm=mt("react.fundamental"),_m=mt("react.debug_trace_mode"),Vm=mt("react.legacy_hidden")}function Ir(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case is:switch(e=e.type,e){case Ji:case Xi:case Zi:case na:case pd:return e;default:switch(e=e&&e.$$typeof,e){case ta:case ra:case ia:case oa:case ea:return e;default:return t}}case as:return t}}}var b0=ea,w0=is,S0=ra,k0=Ji,C0=ia,I0=oa,E0=as,D0=Xi,T0=Zi,j0=na;Le.ContextConsumer=ta;Le.ContextProvider=b0;Le.Element=w0;Le.ForwardRef=S0;Le.Fragment=k0;Le.Lazy=C0;Le.Memo=I0;Le.Portal=E0;Le.Profiler=D0;Le.StrictMode=T0;Le.Suspense=j0;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(e){return Ir(e)===ta};Le.isContextProvider=function(e){return Ir(e)===ea};Le.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===is};Le.isForwardRef=function(e){return Ir(e)===ra};Le.isFragment=function(e){return Ir(e)===Ji};Le.isLazy=function(e){return Ir(e)===ia};Le.isMemo=function(e){return Ir(e)===oa};Le.isPortal=function(e){return Ir(e)===as};Le.isProfiler=function(e){return Ir(e)===Xi};Le.isStrictMode=function(e){return Ir(e)===Zi};Le.isSuspense=function(e){return Ir(e)===na};Le.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ji||e===Xi||e===_m||e===Zi||e===na||e===pd||e===Vm||typeof e=="object"&&e!==null&&(e.$$typeof===ia||e.$$typeof===oa||e.$$typeof===ea||e.$$typeof===ta||e.$$typeof===ra||e.$$typeof===Fm||e.$$typeof===zm||e[0]===$m)};Le.typeOf=Ir;Bm.exports=Le;var R0=Bm.exports,N0=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],P0=["reactReduxForwardedRef"],L0=[],M0=[null,null];function A0(e,t){var r=e[1];return[t.payload,r+1]}function xf(e,t,r){Pm(function(){return e.apply(void 0,t)},r)}function O0(e,t,r,n,o,i,a){e.current=n,t.current=o,r.current=!1,i.current&&(i.current=null,a())}function B0(e,t,r,n,o,i,a,l,u,c){if(e){var f=!1,p=null,d=function(){if(!f){var x=t.getState(),k,v;try{k=n(x,o.current)}catch(g){v=g,p=g}v||(p=null),k===i.current?a.current||u():(i.current=k,l.current=k,a.current=!0,c({type:"STORE_UPDATED",payload:{error:v}}))}};r.onStateChange=d,r.trySubscribe(),d();var h=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p};return h}}var z0=function(){return[null,0]};function $0(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,o=n===void 0?function(y){return"ConnectAdvanced("+y+")"}:n,i=r.methodName,a=i===void 0?"connectAdvanced":i,l=r.renderCountProp,u=l===void 0?void 0:l,c=r.shouldHandleStateChanges,f=c===void 0?!0:c,p=r.storeKey,d=p===void 0?"store":p;r.withRef;var h=r.forwardRef,m=h===void 0?!1:h,x=r.context,k=x===void 0?jm:x,v=bl(r,N0),g=k;return function(b){var C=b.displayName||b.name||"Component",E=o(C),D=te({},v,{getDisplayName:o,methodName:a,renderCountProp:u,shouldHandleStateChanges:f,storeKey:d,displayName:E,wrappedComponentName:C,WrappedComponent:b}),I=v.pure;function N(se){return e(se.dispatch,D)}var L=I?w.useMemo:function(se){return se()};function V(se){var Ie=w.useMemo(function(){var z=se.reactReduxForwardedRef,Y=bl(se,P0);return[se.context,z,Y]},[se]),ie=Ie[0],ke=Ie[1],P=Ie[2],W=w.useMemo(function(){return ie&&ie.Consumer&&R0.isContextConsumer(De.createElement(ie.Consumer,null))?ie:g},[ie,g]),U=w.useContext(W),J=!!se.store&&!!se.store.getState&&!!se.store.dispatch;U&&U.store;var X=J?se.store:U.store,Ce=w.useMemo(function(){return N(X)},[X]),ue=w.useMemo(function(){if(!f)return M0;var z=Nm(X,J?null:U.subscription),Y=z.notifyNestedSubs.bind(z);return[z,Y]},[X,J,U]),he=ue[0],j=ue[1],A=w.useMemo(function(){return J?U:te({},U,{subscription:he})},[J,U,he]),M=w.useReducer(A0,L0,z0),q=M[0],$=q[0],ne=M[1];if($&&$.error)throw $.error;var ge=w.useRef(),Ye=w.useRef(P),ze=w.useRef(),tt=w.useRef(!1),ce=L(function(){return ze.current&&P===Ye.current?ze.current:Ce(X.getState(),P)},[X,$,P]);xf(O0,[Ye,ge,tt,P,ce,ze,j]),xf(B0,[f,X,he,Ce,Ye,ge,tt,ze,j,ne],[X,he,Ce]);var Ae=w.useMemo(function(){return De.createElement(b,te({},ce,{ref:ke}))},[ke,b,ce]),re=w.useMemo(function(){return f?De.createElement(W.Provider,{value:A},Ae):Ae},[W,Ae,A]);return re}var K=I?De.memo(V):V;if(K.WrappedComponent=b,K.displayName=V.displayName=E,m){var le=De.forwardRef(function(Ie,ie){return De.createElement(K,te({},Ie,{reactReduxForwardedRef:ie}))});return le.displayName=E,le.WrappedComponent=b,yf(le,b)}return yf(K,b)}}function bf(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Hs(e,t){if(bf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!bf(e[r[o]],t[r[o]]))return!1;return!0}function F0(e,t){var r={},n=function(a){var l=e[a];typeof l=="function"&&(r[a]=function(){return t(l.apply(void 0,arguments))})};for(var o in e)n(o);return r}function fd(e){return function(r,n){var o=e(r,n);function i(){return o}return i.dependsOnOwnProps=!1,i}}function wf(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Um(e,t){return function(n,o){o.displayName;var i=function(l,u){return i.dependsOnOwnProps?i.mapToProps(l,u):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,u){i.mapToProps=e,i.dependsOnOwnProps=wf(e);var c=i(l,u);return typeof c=="function"&&(i.mapToProps=c,i.dependsOnOwnProps=wf(c),c=i(l,u)),c},i}}function _0(e){return typeof e=="function"?Um(e):void 0}function V0(e){return e?void 0:fd(function(t){return{dispatch:t}})}function U0(e){return e&&typeof e=="object"?fd(function(t){return F0(e,t)}):void 0}const W0=[_0,V0,U0];function H0(e){return typeof e=="function"?Um(e):void 0}function G0(e){return e?void 0:fd(function(){return{}})}const q0=[H0,G0];function Q0(e,t,r){return te({},r,e,t)}function Y0(e){return function(r,n){n.displayName;var o=n.pure,i=n.areMergedPropsEqual,a=!1,l;return function(c,f,p){var d=e(c,f,p);return a?(!o||!i(d,l))&&(l=d):(a=!0,l=d),l}}}function K0(e){return typeof e=="function"?Y0(e):void 0}function J0(e){return e?void 0:function(){return Q0}}const Z0=[K0,J0];var X0=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function eb(e,t,r,n){return function(i,a){return r(e(i,a),t(n,a),a)}}function tb(e,t,r,n,o){var i=o.areStatesEqual,a=o.areOwnPropsEqual,l=o.areStatePropsEqual,u=!1,c,f,p,d,h;function m(y,b){return c=y,f=b,p=e(c,f),d=t(n,f),h=r(p,d,f),u=!0,h}function x(){return p=e(c,f),t.dependsOnOwnProps&&(d=t(n,f)),h=r(p,d,f),h}function k(){return e.dependsOnOwnProps&&(p=e(c,f)),t.dependsOnOwnProps&&(d=t(n,f)),h=r(p,d,f),h}function v(){var y=e(c,f),b=!l(y,p);return p=y,b&&(h=r(p,d,f)),h}function g(y,b){var C=!a(b,f),E=!i(y,c,b,f);return c=y,f=b,C&&E?x():C?k():E?v():h}return function(b,C){return u?g(b,C):m(b,C)}}function rb(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=bl(t,X0),a=r(e,i),l=n(e,i),u=o(e,i),c=i.pure?tb:eb;return c(a,l,u,e,i)}var nb=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Gs(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(i,a){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+a.wrappedComponentName+".")}}function ob(e,t){return e===t}function ib(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?$0:r,o=t.mapStateToPropsFactories,i=o===void 0?q0:o,a=t.mapDispatchToPropsFactories,l=a===void 0?W0:a,u=t.mergePropsFactories,c=u===void 0?Z0:u,f=t.selectorFactory,p=f===void 0?rb:f;return function(h,m,x,k){k===void 0&&(k={});var v=k,g=v.pure,y=g===void 0?!0:g,b=v.areStatesEqual,C=b===void 0?ob:b,E=v.areOwnPropsEqual,D=E===void 0?Hs:E,I=v.areStatePropsEqual,N=I===void 0?Hs:I,L=v.areMergedPropsEqual,V=L===void 0?Hs:L,K=bl(v,nb),le=Gs(h,i,"mapStateToProps"),se=Gs(m,l,"mapDispatchToProps"),Ie=Gs(x,c,"mergeProps");return n(p,te({methodName:"connect",getDisplayName:function(ke){return"Connect("+ke+")"},shouldHandleStateChanges:!!h,initMapStateToProps:le,initMapDispatchToProps:se,initMergeProps:Ie,pure:y,areStatesEqual:C,areOwnPropsEqual:D,areStatePropsEqual:N,areMergedPropsEqual:V},K))}}const Wm=ib();r0(nd.unstable_batchedUpdates);function ab(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Hm(e,t){var r=w.useState(function(){return{inputs:t,result:e()}})[0],n=w.useRef(!0),o=w.useRef(r),i=n.current||!!(t&&o.current.inputs&&ab(t,o.current.inputs)),a=i?o.current:{inputs:t,result:e()};return w.useEffect(function(){n.current=!1,o.current=a},[a]),a.result}function lb(e,t){return Hm(function(){return e},t)}var xe=Hm,Z=lb,sb="Invariant failed";function ub(e,t){throw new Error(sb)}var wr=function(t){var r=t.top,n=t.right,o=t.bottom,i=t.left,a=n-i,l=o-r,u={top:r,right:n,bottom:o,left:i,width:a,height:l,x:i,y:r,center:{x:(n+i)/2,y:(o+r)/2}};return u},hd=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Sf=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},cb=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},qs={top:0,right:0,bottom:0,left:0},gd=function(t){var r=t.borderBox,n=t.margin,o=n===void 0?qs:n,i=t.border,a=i===void 0?qs:i,l=t.padding,u=l===void 0?qs:l,c=wr(hd(r,o)),f=wr(Sf(r,a)),p=wr(Sf(f,u));return{marginBox:c,borderBox:wr(r),paddingBox:f,contentBox:p,margin:o,border:a,padding:u}},ar=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var o=Number(r);return isNaN(o)&&ub(),o},db=function(){return{x:window.pageXOffset,y:window.pageYOffset}},wl=function(t,r){var n=t.borderBox,o=t.border,i=t.margin,a=t.padding,l=cb(n,r);return gd({borderBox:l,border:o,margin:i,padding:a})},Sl=function(t,r){return r===void 0&&(r=db()),wl(t,r)},Gm=function(t,r){var n={top:ar(r.marginTop),right:ar(r.marginRight),bottom:ar(r.marginBottom),left:ar(r.marginLeft)},o={top:ar(r.paddingTop),right:ar(r.paddingRight),bottom:ar(r.paddingBottom),left:ar(r.paddingLeft)},i={top:ar(r.borderTopWidth),right:ar(r.borderRightWidth),bottom:ar(r.borderBottomWidth),left:ar(r.borderLeftWidth)};return gd({borderBox:t,margin:n,padding:o,border:i})},qm=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return Gm(r,n)},kf=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function pb(e,t){return!!(e===t||kf(e)&&kf(t))}function fb(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!pb(e[r],t[r]))return!1;return!0}function st(e,t){t===void 0&&(t=fb);var r,n=[],o,i=!1;function a(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return i&&r===this&&t(l,n)||(o=e.apply(this,l),i=!0,r=this,n=l),o}return a}var _i=function(t){var r=[],n=null,o=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};function Qm(e,t){}Qm.bind(null,"warn");Qm.bind(null,"error");function hn(){}function hb(e,t){return te({},e,{},t)}function cr(e,t,r){var n=t.map(function(o){var i=hb(r,o.options);return e.addEventListener(o.eventName,o.fn,i),function(){e.removeEventListener(o.eventName,o.fn,i)}});return function(){n.forEach(function(i){i()})}}var gb="Invariant failed";function kl(e){this.message=e}kl.prototype.toString=function(){return this.message};function F(e,t){throw new kl(gb)}var mb=function(e){Em(t,e);function t(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=hn,n.onWindowError=function(l){var u=n.getCallbacks();u.isDragging()&&u.tryAbort();var c=l.error;c instanceof kl&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=cr(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(o){if(o instanceof kl){this.setState({});return}throw o},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(De.Component),vb=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Cl=function(t){return t+1},yb=function(t){return`
  You have lifted an item in position `+Cl(t.source.index)+`
`},Ym=function(t,r){var n=t.droppableId===r.droppableId,o=Cl(t.index),i=Cl(r.index);return n?`
      You have moved the item from position `+o+`
      to position `+i+`
    `:`
    You have moved the item from position `+o+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},Km=function(t,r,n){var o=r.droppableId===n.droppableId;return o?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},xb=function(t){var r=t.destination;if(r)return Ym(t.source,r);var n=t.combine;return n?Km(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Cf=function(t){return`
  The item has returned to its starting position
  of `+Cl(t.index)+`
`},bb=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Cf(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+Ym(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+Km(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Cf(t.source)+`
  `},Qa={dragHandleUsageInstructions:vb,onDragStart:yb,onDragUpdate:xb,onDragEnd:bb},ut={x:0,y:0},yt=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Qt=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},gn=function(t,r){return t.x===r.x&&t.y===r.y},Bo=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},qn=function(t,r,n){var o;return n===void 0&&(n=0),o={},o[t]=r,o[t==="x"?"y":"x"]=n,o},Vi=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},If=function(t,r){return Math.min.apply(Math,r.map(function(n){return Vi(t,n)}))},Jm=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},wb=function(e,t){var r=wr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},aa=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ef=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Sb={top:0,right:0,bottom:0,left:0},kb=function(t,r){return r?aa(t,r.scroll.diff.displacement):t},Cb=function(t,r,n){if(n&&n.increasedBy){var o;return te({},t,(o={},o[r.end]=t[r.end]+n.increasedBy[r.line],o))}return t},Ib=function(t,r){return r&&r.shouldClipSubject?wb(r.pageMarginBox,t):wr(t)},No=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,o=e.frame,i=kb(t.marginBox,o),a=Cb(i,n,r),l=Ib(a,o);return{page:t,withPlaceholder:r,active:l}},md=function(e,t){e.frame||F();var r=e.frame,n=Qt(t,r.scroll.initial),o=Bo(n),i=te({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}}),a=No({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=te({},e,{frame:i,subject:a});return l};function Il(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function vd(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function kn(e,t){if(e.find)return e.find(t);var r=vd(e,t);if(r!==-1)return e[r]}function Zm(e){return Array.prototype.slice.call(e)}var Xm=st(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),ev=st(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),ls=st(function(e){return Il(e)}),Eb=st(function(e){return Il(e)}),zo=st(function(e,t){var r=Eb(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,o){return n.descriptor.index-o.descriptor.index});return r});function yd(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function ss(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var us=st(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Db=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var a=yd(i);if(!a)return null;function l(x){var k={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return te({},i,{at:k})}var u=i.displaced.all,c=u.length?u[0]:null;if(t)return c?l(c):null;var f=us(r,o);if(!c){if(!f.length)return null;var p=f[f.length-1];return l(p.descriptor.id)}var d=vd(f,function(x){return x.descriptor.id===c});d===-1&&F();var h=d-1;if(h<0)return null;var m=f[h];return l(m.descriptor.id)},$o=function(e,t){return e.descriptor.droppableId===t.descriptor.id},tv={point:ut,value:0},Ui={invisible:{},visible:{},all:[]},Tb={displaced:Ui,displacedBy:tv,at:null},pr=function(e,t){return function(r){return e<=r&&r<=t}},rv=function(e){var t=pr(e.top,e.bottom),r=pr(e.left,e.right);return function(n){var o=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(o)return!0;var i=t(n.top)||t(n.bottom),a=r(n.left)||r(n.right),l=i&&a;if(l)return!0;var u=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right,f=u&&c;if(f)return!0;var p=u&&a||c&&i;return p}},jb=function(e){var t=pr(e.top,e.bottom),r=pr(e.left,e.right);return function(n){var o=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return o}},xd={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},nv={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Rb=function(e){return function(t){var r=pr(t.top,t.bottom),n=pr(t.left,t.right);return function(o){return e===xd?r(o.top)&&r(o.bottom):n(o.left)&&n(o.right)}}},Nb=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:ut;return aa(t,n)},Pb=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Lb=function(t,r,n){return n(r)(t)},bd=function(t){var r=t.target,n=t.destination,o=t.viewport,i=t.withDroppableDisplacement,a=t.isVisibleThroughFrameFn,l=i?Nb(r,n):r;return Pb(l,n,a)&&Lb(l,o,a)},Mb=function(t){return bd(te({},t,{isVisibleThroughFrameFn:rv}))},ov=function(t){return bd(te({},t,{isVisibleThroughFrameFn:jb}))},Ab=function(t){return bd(te({},t,{isVisibleThroughFrameFn:Rb(t.destination.axis)}))},Ob=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var o=r.invisible,i=r.visible;if(o[t])return!1;var a=i[t];return a?a.shouldAnimate:!0};function Bb(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return wr(hd(r,n))}function Wi(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce(function(u,c){var f=Bb(c,n),p=c.descriptor.id;u.all.push(p);var d=Mb({target:f,destination:r,viewport:o,withDroppableDisplacement:!0});if(!d)return u.invisible[c.descriptor.id]=!0,u;var h=Ob(p,a,i),m={draggableId:p,shouldAnimate:h};return u.visible[p]=m,u},{all:[],visible:{},invisible:{}})}function zb(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Df(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,o=e.destination,i=zb(t,{inHomeList:r});return{displaced:Ui,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function El(e){var t=e.draggable,r=e.insideDestination,n=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,l=e.index,u=e.forceShouldAnimate,c=$o(t,n);if(l==null)return Df({insideDestination:r,inHomeList:c,displacedBy:i,destination:n});var f=kn(r,function(x){return x.descriptor.index===l});if(!f)return Df({insideDestination:r,inHomeList:c,displacedBy:i,destination:n});var p=us(t,r),d=r.indexOf(f),h=p.slice(d),m=Wi({afterDragging:h,destination:n,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:u});return{displaced:m,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function xn(e,t){return!!t.effected[e]}var $b=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,o=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var a=o.draggableId,l=n[a],u=l.descriptor.index,c=xn(a,i);return c?t?u:u-1:t?u+1:u},Fb=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,o=e.location;if(!n.length)return null;var i=o.index,a=t?i+1:i-1,l=n[0].descriptor.index,u=n[n.length-1].descriptor.index,c=r?u:u+1;return a<l||a>c?null:a},_b=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,l=e.previousImpact,u=e.viewport,c=e.afterCritical,f=l.at;if(f||F(),f.type==="REORDER"){var p=Fb({isMovingForward:t,isInHomeList:r,location:f.destination,insideDestination:a});return p==null?null:El({draggable:n,insideDestination:a,destination:i,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:p})}var d=$b({isMovingForward:t,destination:i,displaced:l.displaced,draggables:o,combine:f.combine,afterCritical:c});return d==null?null:El({draggable:n,insideDestination:a,destination:i,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:d})},Vb=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,o=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return xn(n,r)?i?ut:Bo(o.point):i?o.point:ut},Ub=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,o=ss(r);o||F();var i=o.draggableId,a=n[i].page.borderBox.center,l=Vb({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return yt(a,l)},iv=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},Wb=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},wd=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Tf=function(t){var r=t.axis,n=t.moveRelativeTo,o=t.isMoving;return qn(r.line,n.marginBox[r.end]+iv(r,o),wd(r,n.marginBox,o))},jf=function(t){var r=t.axis,n=t.moveRelativeTo,o=t.isMoving;return qn(r.line,n.marginBox[r.start]-Wb(r,o),wd(r,n.marginBox,o))},Hb=function(t){var r=t.axis,n=t.moveInto,o=t.isMoving;return qn(r.line,n.contentBox[r.start]+iv(r,o),wd(r,n.contentBox,o))},Gb=function(e){var t=e.impact,r=e.draggable,n=e.draggables,o=e.droppable,i=e.afterCritical,a=zo(o.descriptor.id,n),l=r.page,u=o.axis;if(!a.length)return Hb({axis:u,moveInto:o.page,isMoving:l});var c=t.displaced,f=t.displacedBy,p=c.all[0];if(p){var d=n[p];if(xn(p,i))return jf({axis:u,moveRelativeTo:d.page,isMoving:l});var h=wl(d.page,f.point);return jf({axis:u,moveRelativeTo:h,isMoving:l})}var m=a[a.length-1];if(m.descriptor.id===r.descriptor.id)return l.borderBox.center;if(xn(m.descriptor.id,i)){var x=wl(m.page,Bo(i.displacedBy.point));return Tf({axis:u,moveRelativeTo:x,isMoving:l})}return Tf({axis:u,moveRelativeTo:m.page,isMoving:l})},Xu=function(e,t){var r=e.frame;return r?yt(t,r.scroll.diff.displacement):t},qb=function(t){var r=t.impact,n=t.draggable,o=t.droppable,i=t.draggables,a=t.afterCritical,l=n.page.borderBox.center,u=r.at;return!o||!u?l:u.type==="REORDER"?Gb({impact:r,draggable:n,draggables:i,droppable:o,afterCritical:a}):Ub({impact:r,draggables:i,afterCritical:a})},cs=function(e){var t=qb(e),r=e.droppable,n=r?Xu(r,t):t;return n},av=function(e,t){var r=Qt(t,e.scroll.initial),n=Bo(r),o=wr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:o,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function Rf(e,t){return e.map(function(r){return t[r]})}function Qb(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Yb=function(e){var t=e.impact,r=e.viewport,n=e.destination,o=e.draggables,i=e.maxScrollChange,a=av(r,yt(r.scroll.current,i)),l=n.frame?md(n,yt(n.frame.scroll.current,i)):n,u=t.displaced,c=Wi({afterDragging:Rf(u.all,o),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:u,forceShouldAnimate:!1}),f=Wi({afterDragging:Rf(u.all,o),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:u,forceShouldAnimate:!1}),p={},d={},h=[u,c,f];u.all.forEach(function(x){var k=Qb(x,h);if(k){d[x]=k;return}p[x]=!0});var m=te({},t,{displaced:{all:u.all,invisible:p,visible:d}});return m},Kb=function(e,t){return yt(e.scroll.diff.displacement,t)},Sd=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,o=Kb(n,t),i=Qt(o,r.page.borderBox.center);return yt(r.client.borderBox.center,i)},lv=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=a===void 0?!1:a,u=Qt(n,t.page.borderBox.center),c=aa(t.page.borderBox,u),f={target:c,destination:r,withDroppableDisplacement:i,viewport:o};return l?Ab(f):ov(f)},Jb=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,u=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var f=zo(n.descriptor.id,o),p=$o(r,n),d=Db({isMovingForward:t,draggable:r,destination:n,insideDestination:f,previousImpact:i})||_b({isMovingForward:t,isInHomeList:p,draggable:r,draggables:o,destination:n,insideDestination:f,previousImpact:i,viewport:a,afterCritical:c});if(!d)return null;var h=cs({impact:d,draggable:r,droppable:n,draggables:o,afterCritical:c}),m=lv({draggable:r,destination:n,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(m){var x=Sd({pageBorderBoxCenter:h,draggable:r,viewport:a});return{clientSelection:x,impact:d,scrollJumpRequest:null}}var k=Qt(h,l),v=Yb({impact:d,viewport:a,destination:n,draggables:o,maxScrollChange:k});return{clientSelection:u,impact:v,scrollJumpRequest:k}},Dt=function(t){var r=t.subject.active;return r||F(),r},Zb=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,o=e.droppables,i=e.viewport,a=n.subject.active;if(!a)return null;var l=n.axis,u=pr(a[l.start],a[l.end]),c=ls(o).filter(function(p){return p!==n}).filter(function(p){return p.isEnabled}).filter(function(p){return!!p.subject.active}).filter(function(p){return rv(i.frame)(Dt(p))}).filter(function(p){var d=Dt(p);return t?a[l.crossAxisEnd]<d[l.crossAxisEnd]:d[l.crossAxisStart]<a[l.crossAxisStart]}).filter(function(p){var d=Dt(p),h=pr(d[l.start],d[l.end]);return u(d[l.start])||u(d[l.end])||h(a[l.start])||h(a[l.end])}).sort(function(p,d){var h=Dt(p)[l.crossAxisStart],m=Dt(d)[l.crossAxisStart];return t?h-m:m-h}).filter(function(p,d,h){return Dt(p)[l.crossAxisStart]===Dt(h[0])[l.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var f=c.filter(function(p){var d=pr(Dt(p)[l.start],Dt(p)[l.end]);return d(r[l.line])});return f.length===1?f[0]:f.length>1?f.sort(function(p,d){return Dt(p)[l.start]-Dt(d)[l.start]})[0]:c.sort(function(p,d){var h=If(r,Ef(Dt(p))),m=If(r,Ef(Dt(d)));return h!==m?h-m:Dt(p)[l.start]-Dt(d)[l.start]})[0]},Nf=function(t,r){var n=t.page.borderBox.center;return xn(t.descriptor.id,r)?Qt(n,r.displacedBy.point):n},Xb=function(t,r){var n=t.page.borderBox;return xn(t.descriptor.id,r)?aa(n,Bo(r.displacedBy.point)):n},ew=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,o=e.insideDestination,i=e.afterCritical,a=o.filter(function(l){return ov({target:Xb(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,u){var c=Vi(t,Xu(n,Nf(l,i))),f=Vi(t,Xu(n,Nf(u,i)));return c<f?-1:f<c?1:l.descriptor.index-u.descriptor.index});return a[0]||null},la=st(function(t,r){var n=r[t.line];return{value:n,point:qn(t.line,n)}}),tw=function(t,r,n){var o=t.axis;if(t.descriptor.mode==="virtual")return qn(o.line,r[o.line]);var i=t.subject.page.contentBox[o.size],a=zo(t.descriptor.id,n),l=a.reduce(function(f,p){return f+p.client.marginBox[o.size]},0),u=l+r[o.line],c=u-i;return c<=0?null:qn(o.line,c)},sv=function(t,r){return te({},t,{scroll:te({},t.scroll,{max:r})})},uv=function(t,r,n){var o=t.frame;$o(r,t)&&F(),t.subject.withPlaceholder&&F();var i=la(t.axis,r.displaceBy).point,a=tw(t,i,n),l={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!o){var u=No({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return te({},t,{subject:u})}var c=a?yt(o.scroll.max,a):o.scroll.max,f=sv(o,c),p=No({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:f});return te({},t,{subject:p,frame:f})},rw=function(t){var r=t.subject.withPlaceholder;r||F();var n=t.frame;if(!n){var o=No({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return te({},t,{subject:o})}var i=r.oldFrameMaxScroll;i||F();var a=sv(n,i),l=No({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return te({},t,{subject:l,frame:a})},nw=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,l=e.viewport,u=e.afterCritical;if(!r){if(n.length)return null;var c={displaced:Ui,displacedBy:tv,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},f=cs({impact:c,draggable:o,droppable:a,draggables:i,afterCritical:u}),p=$o(o,a)?a:uv(a,o,i),d=lv({draggable:o,destination:p,newPageBorderBoxCenter:f,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return d?c:null}var h=t[a.axis.line]<=r.page.borderBox.center[a.axis.line],m=function(){var k=r.descriptor.index;return r.descriptor.id===o.descriptor.id||h?k:k+1}(),x=la(a.axis,o.displaceBy);return El({draggable:o,insideDestination:n,destination:a,viewport:l,displacedBy:x,last:Ui,index:m})},ow=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,l=e.viewport,u=e.afterCritical,c=Zb({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:a,viewport:l});if(!c)return null;var f=zo(c.descriptor.id,i),p=ew({pageBorderBoxCenter:r,viewport:l,destination:c,insideDestination:f,afterCritical:u}),d=nw({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:i,moveRelativeTo:p,insideDestination:f,viewport:l,afterCritical:u});if(!d)return null;var h=cs({impact:d,draggable:n,droppable:c,draggables:i,afterCritical:u}),m=Sd({pageBorderBoxCenter:h,draggable:n,viewport:l});return{clientSelection:m,impact:d,scrollJumpRequest:null}},Kt=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},iw=function(t,r){var n=Kt(t);return n?r[n]:null},aw=function(e){var t=e.state,r=e.type,n=iw(t.impact,t.dimensions.droppables),o=!!n,i=t.dimensions.droppables[t.critical.droppable.id],a=n||i,l=a.axis.direction,u=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(u&&!o)return null;var c=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],p=t.current.page.borderBoxCenter,d=t.dimensions,h=d.draggables,m=d.droppables;return u?Jb({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:f,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):ow({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:f,isOver:a,draggables:h,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function An(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function cv(e){var t=pr(e.top,e.bottom),r=pr(e.left,e.right);return function(o){return t(o.y)&&r(o.x)}}function lw(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function sw(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,o=r.page.borderBox.center,i=n.map(function(a){var l=a.axis,u=qn(a.axis.line,t.center[l.line],a.page.borderBox.center[l.crossAxisLine]);return{id:a.descriptor.id,distance:Vi(o,u)}}).sort(function(a,l){return l.distance-a.distance});return i[0]?i[0].id:null}function uw(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,o=ls(n).filter(function(i){if(!i.isEnabled)return!1;var a=i.subject.active;if(!a||!lw(t,a))return!1;if(cv(a)(t.center))return!0;var l=i.axis,u=a.center[l.crossAxisLine],c=t[l.crossAxisStart],f=t[l.crossAxisEnd],p=pr(a[l.crossAxisStart],a[l.crossAxisEnd]),d=p(c),h=p(f);return!d&&!h?!0:d?c<u:f>u});return o.length?o.length===1?o[0].descriptor.id:sw({pageBorderBox:t,draggable:r,candidates:o}):null}var dv=function(t,r){return wr(aa(t,r))},cw=function(e,t){var r=e.frame;return r?dv(t,r.scroll.diff.value):t};function pv(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function dw(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var pw=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,l=e.afterCritical,u=n.axis,c=la(n.axis,r.displaceBy),f=c.value,p=t[u.start],d=t[u.end],h=us(r,o),m=kn(h,function(k){var v=k.descriptor.id,g=k.page.borderBox.center[u.line],y=xn(v,l),b=pv({displaced:i,id:v});return y?b?d<=g:p<g-f:b?d<=g+f:p<g}),x=dw({draggable:r,closest:m,inHomeList:$o(r,n)});return El({draggable:r,insideDestination:o,destination:n,viewport:a,last:i,displacedBy:c,index:x})},fw=4,hw=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var l=o.axis,u=la(o.axis,t.displaceBy),c=u.value,f=r[l.start],p=r[l.end],d=us(t,i),h=kn(d,function(x){var k=x.descriptor.id,v=x.page.borderBox,g=v[l.size],y=g/fw,b=xn(k,a),C=pv({displaced:n.displaced,id:k});return b?C?p>v[l.start]+y&&p<v[l.end]-y:f>v[l.start]-c+y&&f<v[l.end]-c-y:C?p>v[l.start]+c+y&&p<v[l.end]+c-y:f>v[l.start]+y&&f<v[l.end]-y});if(!h)return null;var m={displacedBy:u,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:o.descriptor.id}}};return m},fv=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,l=e.afterCritical,u=dv(r.page.borderBox,t),c=uw({pageBorderBox:u,draggable:r,droppables:o});if(!c)return Tb;var f=o[c],p=zo(f.descriptor.id,n),d=cw(f,u);return hw({pageBorderBoxWithDroppableScroll:d,draggable:r,previousImpact:i,destination:f,insideDestination:p,afterCritical:l})||pw({pageBorderBoxWithDroppableScroll:d,draggable:r,destination:f,insideDestination:p,last:i.displaced,viewport:a,afterCritical:l})},kd=function(e,t){var r;return te({},e,(r={},r[t.descriptor.id]=t,r))},gw=function(t){var r=t.previousImpact,n=t.impact,o=t.droppables,i=Kt(r),a=Kt(n);if(!i||i===a)return o;var l=o[i];if(!l.subject.withPlaceholder)return o;var u=rw(l);return kd(o,u)},mw=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,o=e.previousImpact,i=e.impact,a=gw({previousImpact:o,impact:i,droppables:n}),l=Kt(i);if(!l)return a;var u=n[l];if($o(t,u)||u.subject.withPlaceholder)return a;var c=uv(u,t,r);return kd(a,c)},bi=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=o||t.viewport,u=n||t.dimensions,c=r||t.current.client.selection,f=Qt(c,t.initial.client.selection),p={offset:f,selection:c,borderBoxCenter:yt(t.initial.client.borderBoxCenter,f)},d={selection:yt(p.selection,l.scroll.current),borderBoxCenter:yt(p.borderBoxCenter,l.scroll.current),offset:yt(p.offset,l.scroll.diff.value)},h={client:p,page:d};if(t.phase==="COLLECTING")return te({phase:"COLLECTING"},t,{dimensions:u,viewport:l,current:h});var m=u.draggables[t.critical.draggable.id],x=i||fv({pageOffset:d.offset,draggable:m,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),k=mw({draggable:m,impact:x,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables}),v=te({},t,{current:h,dimensions:{draggables:u.draggables,droppables:k},impact:x,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return v};function vw(e,t){return e.map(function(r){return t[r]})}var hv=function(e){var t=e.impact,r=e.viewport,n=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,l=vw(a.all,n),u=Wi({afterDragging:l,destination:o,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:a});return te({},t,{displaced:u})},gv=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,l=cs({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:a});return Sd({pageBorderBoxCenter:l,draggable:r,viewport:i})},mv=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&F();var o=t.impact,i=n||t.viewport,a=r||t.dimensions,l=a.draggables,u=a.droppables,c=l[t.critical.draggable.id],f=Kt(o);f||F();var p=u[f],d=hv({impact:o,viewport:i,destination:p,draggables:l}),h=gv({impact:d,draggable:c,droppable:p,draggables:l,viewport:i,afterCritical:t.afterCritical});return bi({impact:d,clientSelection:h,state:t,dimensions:a,viewport:i})},yw=function(e){return{index:e.index,droppableId:e.droppableId}},vv=function(e){var t=e.draggable,r=e.home,n=e.draggables,o=e.viewport,i=la(r.axis,t.displaceBy),a=zo(r.descriptor.id,n),l=a.indexOf(t);l===-1&&F();var u=a.slice(l+1),c=u.reduce(function(h,m){return h[m.descriptor.id]=!0,h},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:c},p=Wi({afterDragging:u,destination:r,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),d={displaced:p,displacedBy:i,at:{type:"REORDER",destination:yw(t.descriptor)}};return{impact:d,afterCritical:f}},xw=function(e,t){return{draggables:e.draggables,droppables:kd(e.droppables,t)}},bw=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,o=wl(t.client,r),i=Sl(o,n),a=te({},t,{placeholder:te({},t.placeholder,{client:o}),client:o,page:i});return a},ww=function(e){var t=e.frame;return t||F(),t},Sw=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,o=n.scroll.diff.value;return t.map(function(i){var a=i.descriptor.droppableId,l=r[a],u=ww(l),c=u.scroll.diff.value,f=yt(o,c),p=bw({draggable:i,offset:f,initialWindowScroll:n.scroll.initial});return p})},kw=function(e){var t=e.state,r=e.published,n=r.modified.map(function(y){var b=t.dimensions.droppables[y.droppableId],C=md(b,y.scroll);return C}),o=te({},t.dimensions.droppables,{},Xm(n)),i=ev(Sw({additions:r.additions,updatedDroppables:o,viewport:t.viewport})),a=te({},t.dimensions.draggables,{},i);r.removals.forEach(function(y){delete a[y]});var l={droppables:o,draggables:a},u=Kt(t.impact),c=u?l.droppables[u]:null,f=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],d=vv({draggable:f,home:p,draggables:a,viewport:t.viewport}),h=d.impact,m=d.afterCritical,x=c&&c.isCombineEnabled?t.impact:h,k=fv({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:x,viewport:t.viewport,afterCritical:m}),v=te({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:k,onLiftImpact:h,dimensions:l,afterCritical:m,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return v;var g=te({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return g},ec=function(t){return t.movementMode==="SNAP"},Qs=function(t,r,n){var o=xw(t.dimensions,r);return!ec(t)||n?bi({state:t,dimensions:o}):mv({state:t,dimensions:o})};function Ys(e){return e.isDragging&&e.movementMode==="SNAP"?te({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Pf={phase:"IDLE",completed:null,shouldFlush:!1},Cw=function(e,t){if(e===void 0&&(e=Pf),t.type==="FLUSH")return te({},Pf,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&F();var r=t.payload,n=r.critical,o=r.clientSelection,i=r.viewport,a=r.dimensions,l=r.movementMode,u=a.draggables[n.draggable.id],c=a.droppables[n.droppable.id],f={selection:o,borderBoxCenter:u.client.borderBox.center,offset:ut},p={client:f,page:{selection:yt(f.selection,i.scroll.initial),borderBoxCenter:yt(f.selection,i.scroll.initial),offset:yt(f.selection,i.scroll.diff.value)}},d=ls(a.droppables).every(function(ne){return!ne.isFixedOnPage}),h=vv({draggable:u,home:c,draggables:a.draggables,viewport:i}),m=h.impact,x=h.afterCritical,k={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:a,initial:p,current:p,isWindowScrollAllowed:d,impact:m,afterCritical:x,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return k}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&F();var v=te({phase:"COLLECTING"},e,{phase:"COLLECTING"});return v}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||F(),kw({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;An(e)||F();var g=t.payload.client;return gn(g,e.current.client.selection)?e:bi({state:e,clientSelection:g,impact:ec(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ys(e);An(e)||F();var y=t.payload,b=y.id,C=y.newScroll,E=e.dimensions.droppables[b];if(!E)return e;var D=md(E,C);return Qs(e,D,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;An(e)||F();var I=t.payload,N=I.id,L=I.isEnabled,V=e.dimensions.droppables[N];V||F(),V.isEnabled===L&&F();var K=te({},V,{isEnabled:L});return Qs(e,K,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;An(e)||F();var le=t.payload,se=le.id,Ie=le.isCombineEnabled,ie=e.dimensions.droppables[se];ie||F(),ie.isCombineEnabled===Ie&&F();var ke=te({},ie,{isCombineEnabled:Ie});return Qs(e,ke,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;An(e)||F(),e.isWindowScrollAllowed||F();var P=t.payload.newScroll;if(gn(e.viewport.scroll.current,P))return Ys(e);var W=av(e.viewport,P);return ec(e)?mv({state:e,viewport:W}):bi({state:e,viewport:W})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!An(e))return e;var U=t.payload.maxScroll;if(gn(U,e.viewport.scroll.max))return e;var J=te({},e.viewport,{scroll:te({},e.viewport.scroll,{max:U})});return te({phase:"DRAGGING"},e,{viewport:J})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&F();var X=aw({state:e,type:t.type});return X?bi({state:e,impact:X.impact,clientSelection:X.clientSelection,scrollJumpRequest:X.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var Ce=t.payload.reason;e.phase!=="COLLECTING"&&F();var ue=te({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:Ce});return ue}if(t.type==="DROP_ANIMATE"){var he=t.payload,j=he.completed,A=he.dropDuration,M=he.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||F();var q={phase:"DROP_ANIMATING",completed:j,dropDuration:A,newHomeClientOffset:M,dimensions:e.dimensions};return q}if(t.type==="DROP_COMPLETE"){var $=t.payload.completed;return{phase:"IDLE",completed:$,shouldFlush:!1}}return e},Iw=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Ew=function(t){return{type:"LIFT",payload:t}},Dw=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Tw=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},jw=function(){return{type:"COLLECTION_STARTING",payload:null}},Rw=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Nw=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Pw=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},yv=function(t){return{type:"MOVE",payload:t}},Lw=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Mw=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Aw=function(){return{type:"MOVE_UP",payload:null}},Ow=function(){return{type:"MOVE_DOWN",payload:null}},Bw=function(){return{type:"MOVE_RIGHT",payload:null}},zw=function(){return{type:"MOVE_LEFT",payload:null}},Cd=function(){return{type:"FLUSH",payload:null}},$w=function(t){return{type:"DROP_ANIMATE",payload:t}},Id=function(t){return{type:"DROP_COMPLETE",payload:t}},xv=function(t){return{type:"DROP",payload:t}},Fw=function(t){return{type:"DROP_PENDING",payload:t}},bv=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},_w=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(o){return function(i){if(i.type!=="LIFT"){o(i);return}var a=i.payload,l=a.id,u=a.clientSelection,c=a.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(Id({completed:f.completed})),r().phase!=="IDLE"&&F(),n(Cd()),n(Iw({draggableId:l,movementMode:c}));var p={shouldPublishImmediately:c==="SNAP"},d={draggableId:l,scrollOptions:p},h=e.startPublishing(d),m=h.critical,x=h.dimensions,k=h.viewport;n(Dw({critical:m,dimensions:x,clientSelection:u,movementMode:c,viewport:k}))}}}},Vw=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Ed={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Hi={opacity:{drop:0,combining:.7},scale:{drop:.75}},Dd={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Pn=Dd.outOfTheWay+"s "+Ed.outOfTheWay,wi={fluid:"opacity "+Pn,snap:"transform "+Pn+", opacity "+Pn,drop:function(t){var r=t+"s "+Ed.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Pn,placeholder:"height "+Pn+", width "+Pn+", margin "+Pn},Lf=function(t){return gn(t,ut)?null:"translate("+t.x+"px, "+t.y+"px)"},tc={moveTo:Lf,drop:function(t,r){var n=Lf(t);return n?r?n+" scale("+Hi.scale.drop+")":n:null}},rc=Dd.minDropTime,wv=Dd.maxDropTime,Uw=wv-rc,Mf=1500,Ww=.6,Hw=function(e){var t=e.current,r=e.destination,n=e.reason,o=Vi(t,r);if(o<=0)return rc;if(o>=Mf)return wv;var i=o/Mf,a=rc+Uw*i,l=n==="CANCEL"?a*Ww:a;return Number(l.toFixed(2))},Gw=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,o=e.viewport,i=e.afterCritical,a=n.draggables,l=n.droppables,u=Kt(t),c=u?l[u]:null,f=l[r.descriptor.droppableId],p=gv({impact:t,draggable:r,draggables:a,afterCritical:i,droppable:c||f,viewport:o}),d=Qt(p,r.client.borderBox.center);return d},qw=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=hv({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var u=te({},n,{displaced:Ui});return{impact:u,didDropInsideDroppable:!0}},Qw=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(o){if(o.type!=="DROP"){n(o);return}var i=t(),a=o.payload.reason;if(i.phase==="COLLECTING"){r(Fw({reason:a}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&F(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||F();var u=i.critical,c=i.dimensions,f=c.draggables[i.critical.draggable.id],p=qw({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=p.impact,h=p.didDropInsideDroppable,m=h?yd(d):null,x=h?ss(d):null,k={index:u.draggable.index,droppableId:u.droppable.id},v={draggableId:f.descriptor.id,type:f.descriptor.type,source:k,reason:a,mode:i.movementMode,destination:m,combine:x},g=Gw({impact:d,draggable:f,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:d},b=!gn(i.current.client.offset,g)||!!v.combine;if(!b){r(Id({completed:y}));return}var C=Hw({current:i.current.client.offset,destination:g,reason:a}),E={newHomeClientOffset:g,dropDuration:C,completed:y};r($w(E))}}}},Sv=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Yw(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function Kw(e){var t=e.onWindowScroll;function r(){t(Sv())}var n=_i(r),o=Yw(n),i=hn;function a(){return i!==hn}function l(){a()&&F(),i=cr(window,[o])}function u(){a()||F(),n.cancel(),i(),i=hn}return{start:l,stop:u,isActive:a}}var Jw=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Zw=function(e){var t=Kw({onWindowScroll:function(n){e.dispatch(Lw({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Jw(n)&&t.stop(),r(n)}}},Xw=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),o=function(a){t||r||(t=!0,e(a),clearTimeout(n))};return o.wasCalled=function(){return t},o},eS=function(){var e=[],t=function(i){var a=vd(e,function(c){return c.timerId===i});a===-1&&F();var l=e.splice(a,1),u=l[0];u.callback()},r=function(i){var a=setTimeout(function(){return t(a)}),l={timerId:a,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:r,flush:n}},tS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},rS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},nS=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,o=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&o},Zo=function(t,r){r()},ja=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Ks=function(t,r,n,o){if(!t){n(o(r));return}var i=Xw(n),a={announce:i};t(r,a),i.wasCalled()||n(o(r))},oS=function(e,t){var r=eS(),n=null,o=function(d,h){n&&F(),Zo("onBeforeCapture",function(){var m=e().onBeforeCapture;if(m){var x={draggableId:d,mode:h};m(x)}})},i=function(d,h){n&&F(),Zo("onBeforeDragStart",function(){var m=e().onBeforeDragStart;m&&m(ja(d,h))})},a=function(d,h){n&&F();var m=ja(d,h);n={mode:h,lastCritical:d,lastLocation:m.source,lastCombine:null},r.add(function(){Zo("onDragStart",function(){return Ks(e().onDragStart,m,t,Qa.onDragStart)})})},l=function(d,h){var m=yd(h),x=ss(h);n||F();var k=!nS(d,n.lastCritical);k&&(n.lastCritical=d);var v=!tS(n.lastLocation,m);v&&(n.lastLocation=m);var g=!rS(n.lastCombine,x);if(g&&(n.lastCombine=x),!(!k&&!v&&!g)){var y=te({},ja(d,n.mode),{combine:x,destination:m});r.add(function(){Zo("onDragUpdate",function(){return Ks(e().onDragUpdate,y,t,Qa.onDragUpdate)})})}},u=function(){n||F(),r.flush()},c=function(d){n||F(),n=null,Zo("onDragEnd",function(){return Ks(e().onDragEnd,d,t,Qa.onDragEnd)})},f=function(){if(n){var d=te({},ja(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});c(d)}};return{beforeCapture:o,beforeStart:i,start:a,update:l,flush:u,drop:c,abort:f}},iS=function(e,t){var r=oS(e,t);return function(n){return function(o){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var a=i.payload.critical;r.beforeStart(a,i.payload.movementMode),o(i),r.start(a,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),o(i),r.drop(l);return}if(o(i),i.type==="FLUSH"){r.abort();return}var u=n.getState();u.phase==="DRAGGING"&&r.update(u.critical,u.impact)}}}},aS=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&F(),e.dispatch(Id({completed:n.completed}))}}},lS=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(o){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),o(i),i.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var u=e.getState();u.phase==="DROP_ANIMATING"&&e.dispatch(bv())}};r=requestAnimationFrame(function(){r=null,t=cr(window,[a])})}}}},sS=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},uS=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},cS=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},dS=function(e){return function(t){return function(r){return function(n){if(cS(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var o=t.getState();o.phase!=="DRAGGING"&&F(),e.start(o);return}r(n),e.scroll(t.getState())}}}},pS=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(xv({reason:n.reason})))}}}},fS=Tm,hS=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,o=e.getResponders,i=e.announce,a=e.autoScroller;return Dm(Cw,fS(e0(Vw(n),sS(t),_w(t),Qw,aS,lS,pS,dS(a),Zw,uS(r),iS(o,i))))},Js=function(){return{additions:{},removals:{},modified:{}}};function gS(e){var t=e.registry,r=e.callbacks,n=Js(),o=null,i=function(){o||(r.collectionStarting(),o=requestAnimationFrame(function(){o=null;var f=n,p=f.additions,d=f.removals,h=f.modified,m=Object.keys(p).map(function(v){return t.draggable.getById(v).getDimension(ut)}).sort(function(v,g){return v.descriptor.index-g.descriptor.index}),x=Object.keys(h).map(function(v){var g=t.droppable.getById(v),y=g.callbacks.getScrollWhileDragging();return{droppableId:v,scroll:y}}),k={additions:m,removals:Object.keys(d),modified:x};n=Js(),r.publish(k)}))},a=function(f){var p=f.descriptor.id;n.additions[p]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[p]&&delete n.removals[p],i()},l=function(f){var p=f.descriptor;n.removals[p.id]=!0,n.modified[p.droppableId]=!0,n.additions[p.id]&&delete n.additions[p.id],i()},u=function(){o&&(cancelAnimationFrame(o),o=null,n=Js())};return{add:a,remove:l,stop:u}}var kv=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,o=e.width,i=Qt({x:r,y:t},{x:o,y:n}),a={x:Math.max(0,i.x),y:Math.max(0,i.y)};return a},Cv=function(){var e=document.documentElement;return e||F(),e},Iv=function(){var e=Cv(),t=kv({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},mS=function(){var e=Sv(),t=Iv(),r=e.y,n=e.x,o=Cv(),i=o.clientWidth,a=o.clientHeight,l=n+i,u=r+a,c=wr({top:r,left:n,right:l,bottom:u}),f={frame:c,scroll:{initial:e,current:e,max:t,diff:{value:ut,displacement:ut}}};return f},vS=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,o=mS(),i=o.scroll.current,a=t.droppable,l=n.droppable.getAllByType(a.type).map(function(p){return p.callbacks.getDimensionAndWatchScroll(i,r)}),u=n.draggable.getAllByType(t.draggable.type).map(function(p){return p.getDimension(i)}),c={draggables:ev(u),droppables:Xm(l)},f={dimensions:c,critical:t,viewport:o};return f};function Af(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var yS=function(e,t){var r=null,n=gS({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(h,m){e.droppable.exists(h)||F(),r&&t.updateDroppableIsEnabled({id:h,isEnabled:m})},i=function(h,m){r&&(e.droppable.exists(h)||F(),t.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:m}))},a=function(h,m){r&&(e.droppable.exists(h)||F(),t.updateDroppableScroll({id:h,newScroll:m}))},l=function(h,m){r&&e.droppable.getById(h).callbacks.scroll(m)},u=function(){if(r){n.stop();var h=r.critical.droppable;e.droppable.getAllByType(h.type).forEach(function(m){return m.callbacks.dragStopped()}),r.unsubscribe(),r=null}},c=function(h){r||F();var m=r.critical.draggable;h.type==="ADDITION"&&Af(e,m,h.value)&&n.add(h.value),h.type==="REMOVAL"&&Af(e,m,h.value)&&n.remove(h.value)},f=function(h){r&&F();var m=e.draggable.getById(h.draggableId),x=e.droppable.getById(m.descriptor.droppableId),k={draggable:m.descriptor,droppable:x.descriptor},v=e.subscribe(c);return r={critical:k,unsubscribe:v},vS({critical:k,registry:e,scrollOptions:h.scrollOptions})},p={updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:f,stopPublishing:u};return p},Ev=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},xS=function(e){window.scrollBy(e.x,e.y)},bS=st(function(e){return ls(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),wS=function(t,r){var n=kn(bS(r),function(o){return o.frame||F(),cv(o.frame.pageMarginBox)(t)});return n},SS=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var o=n[r];return o.frame?o:null}var i=wS(t,n);return i},mn={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},kS=function(e,t){var r=e[t.size]*mn.startFromPercentage,n=e[t.size]*mn.maxScrollAtPercentage,o={startScrollingFrom:r,maxScrollValueAt:n};return o},Dv=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,o=r-t;if(o===0)return 0;var i=n-t,a=i/o;return a},Td=1,CS=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return mn.maxPixelScroll;if(e===t.startScrollingFrom)return Td;var r=Dv({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,o=mn.maxPixelScroll*mn.ease(n);return Math.ceil(o)},Of=mn.durationDampening.accelerateAt,Bf=mn.durationDampening.stopDampeningAt,IS=function(e,t){var r=t,n=Bf,o=Date.now(),i=o-r;if(i>=Bf)return e;if(i<Of)return Td;var a=Dv({startOfRange:Of,endOfRange:n,current:i}),l=e*mn.ease(a);return Math.ceil(l)},zf=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,o=e.shouldUseTimeDampening,i=CS(t,r);return i===0?0:o?Math.max(IS(i,n),Td):i},$f=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=kS(t,o),l=r[o.end]<r[o.start];return l?zf({distanceToEdge:r[o.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i}):-1*zf({distanceToEdge:r[o.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i})},ES=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,o=r.height>t.height,i=r.width>t.width;return!i&&!o?n:i&&o?null:{x:i?0:n.x,y:o?0:n.y}},DS=Jm(function(e){return e===0?0:e}),Tv=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y,left:o.x-r.left},l=$f({container:r,distanceToEdges:a,dragStartTime:t,axis:xd,shouldUseTimeDampening:i}),u=$f({container:r,distanceToEdges:a,dragStartTime:t,axis:nv,shouldUseTimeDampening:i}),c=DS({x:u,y:l});if(gn(c,ut))return null;var f=ES({container:r,subject:n,proposedScroll:c});return f?gn(f,ut)?null:f:null},TS=Jm(function(e){return e===0?0:e>0?1:-1}),jd=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,o=t.change,i=yt(r,o),a={x:e(i.x,n.x),y:e(i.y,n.y)};return gn(a,ut)?null:a}}(),jv=function(t){var r=t.max,n=t.current,o=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},a=TS(o),l=jd({max:i,current:n,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},Rd=function(t,r){return jv({current:t.scroll.current,max:t.scroll.max,change:r})},jS=function(t,r){if(!Rd(t,r))return null;var n=t.scroll.max,o=t.scroll.current;return jd({current:o,max:n,change:r})},Nd=function(t,r){var n=t.frame;return n?jv({current:n.scroll.current,max:n.scroll.max,change:r}):!1},RS=function(t,r){var n=t.frame;return!n||!Nd(t,r)?null:jd({current:n.scroll.current,max:n.scroll.max,change:r})},NS=function(e){var t=e.viewport,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=Tv({dragStartTime:o,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return a&&Rd(t,a)?a:null},PS=function(e){var t=e.droppable,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=Tv({dragStartTime:o,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&Nd(t,l)?l:null},Ff=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],u=l.page.marginBox;if(t.isWindowScrollAllowed){var c=t.viewport,f=NS({dragStartTime:r,viewport:c,subject:u,center:a,shouldUseTimeDampening:n});if(f){o(f);return}}var p=SS({center:a,destination:Kt(t.impact),droppables:t.dimensions.droppables});if(p){var d=PS({dragStartTime:r,droppable:p,subject:u,center:a,shouldUseTimeDampening:n});d&&i(p.descriptor.id,d)}},LS=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=_i(t),o=_i(r),i=null,a=function(f){i||F();var p=i,d=p.shouldUseTimeDampening,h=p.dragStartTime;Ff({state:f,scrollWindow:n,scrollDroppable:o,dragStartTime:h,shouldUseTimeDampening:d})},l=function(f){i&&F();var p=Date.now(),d=!1,h=function(){d=!0};Ff({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),i={dragStartTime:p,shouldUseTimeDampening:d},d&&a(f)},u=function(){i&&(n.cancel(),o.cancel(),i=null)};return{start:l,stop:u,scroll:a}},MS=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,o=function(c,f){var p=yt(c.current.client.selection,f);t({client:p})},i=function(c,f){if(!Nd(c,f))return f;var p=RS(c,f);if(!p)return r(c.descriptor.id,f),null;var d=Qt(f,p);r(c.descriptor.id,d);var h=Qt(f,d);return h},a=function(c,f,p){if(!c||!Rd(f,p))return p;var d=jS(f,p);if(!d)return n(p),null;var h=Qt(p,d);n(h);var m=Qt(p,h);return m},l=function(c){var f=c.scrollJumpRequest;if(f){var p=Kt(c.impact);p||F();var d=i(c.dimensions.droppables[p],f);if(d){var h=c.viewport,m=a(c.isWindowScrollAllowed,h,d);m&&o(c,m)}}};return l},AS=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,o=LS({scrollWindow:r,scrollDroppable:t}),i=MS({move:n,scrollWindow:r,scrollDroppable:t}),a=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){o.scroll(c);return}c.scrollJumpRequest&&i(c)}},l={scroll:a,start:o.start,stop:o.stop};return l},Po="data-rbd",Lo=function(){var e=Po+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),nc=function(){var e=Po+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),OS=function(){var e=Po+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),_f={contextId:Po+"-scroll-container-context-id"},BS=function(t){return function(r){return"["+r+'="'+t+'"]'}},Xo=function(t,r){return t.map(function(n){var o=n.styles[r];return o?n.selector+" { "+o+" }":""}).join(" ")},zS="pointer-events: none;",$S=function(e){var t=BS(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Lo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:zS,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+wi.outOfTheWay+`;
    `;return{selector:t(nc.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),o={selector:t(OS.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[n,r,o,i];return{always:Xo(a,"always"),resting:Xo(a,"resting"),dragging:Xo(a,"dragging"),dropAnimating:Xo(a,"dropAnimating"),userCancel:Xo(a,"userCancel")}},Jt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,Zs=function(){var t=document.querySelector("head");return t||F(),t},Vf=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function FS(e,t){var r=xe(function(){return $S(e)},[e]),n=w.useRef(null),o=w.useRef(null),i=Z(st(function(p){var d=o.current;d||F(),d.textContent=p}),[]),a=Z(function(p){var d=n.current;d||F(),d.textContent=p},[]);Jt(function(){!n.current&&!o.current||F();var p=Vf(t),d=Vf(t);return n.current=p,o.current=d,p.setAttribute(Po+"-always",e),d.setAttribute(Po+"-dynamic",e),Zs().appendChild(p),Zs().appendChild(d),a(r.always),i(r.resting),function(){var h=function(x){var k=x.current;k||F(),Zs().removeChild(k),x.current=null};h(n),h(o)}},[t,a,i,r.always,r.resting,e]);var l=Z(function(){return i(r.dragging)},[i,r.dragging]),u=Z(function(p){if(p==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),c=Z(function(){o.current&&i(r.resting)},[i,r.resting]),f=xe(function(){return{dragging:l,dropping:u,resting:c}},[l,u,c]);return f}var Rv=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ds(e){return e instanceof Rv(e).HTMLElement}function _S(e,t){var r="["+Lo.contextId+'="'+e+'"]',n=Zm(document.querySelectorAll(r));if(!n.length)return null;var o=kn(n,function(i){return i.getAttribute(Lo.draggableId)===t});return!o||!ds(o)?null:o}function VS(e){var t=w.useRef({}),r=w.useRef(null),n=w.useRef(null),o=w.useRef(!1),i=Z(function(d,h){var m={id:d,focus:h};return t.current[d]=m,function(){var k=t.current,v=k[d];v!==m&&delete k[d]}},[]),a=Z(function(d){var h=_S(e,d);h&&h!==document.activeElement&&h.focus()},[e]),l=Z(function(d,h){r.current===d&&(r.current=h)},[]),u=Z(function(){n.current||o.current&&(n.current=requestAnimationFrame(function(){n.current=null;var d=r.current;d&&a(d)}))},[a]),c=Z(function(d){r.current=null;var h=document.activeElement;h&&h.getAttribute(Lo.draggableId)===d&&(r.current=d)},[]);Jt(function(){return o.current=!0,function(){o.current=!1;var d=n.current;d&&cancelAnimationFrame(d)}},[]);var f=xe(function(){return{register:i,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:l}},[i,c,u,l]);return f}function US(){var e={draggables:{},droppables:{}},t=[];function r(p){return t.push(p),function(){var h=t.indexOf(p);h!==-1&&t.splice(h,1)}}function n(p){t.length&&t.forEach(function(d){return d(p)})}function o(p){return e.draggables[p]||null}function i(p){var d=o(p);return d||F(),d}var a={register:function(d){e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:function(d,h){var m=e.draggables[h.descriptor.id];m&&m.uniqueId===d.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:function(d){var h=d.descriptor.id,m=o(h);m&&d.uniqueId===m.uniqueId&&(delete e.draggables[h],n({type:"REMOVAL",value:d}))},getById:i,findById:o,exists:function(d){return!!o(d)},getAllByType:function(d){return Il(e.draggables).filter(function(h){return h.descriptor.type===d})}};function l(p){return e.droppables[p]||null}function u(p){var d=l(p);return d||F(),d}var c={register:function(d){e.droppables[d.descriptor.id]=d},unregister:function(d){var h=l(d.descriptor.id);h&&d.uniqueId===h.uniqueId&&delete e.droppables[d.descriptor.id]},getById:u,findById:l,exists:function(d){return!!l(d)},getAllByType:function(d){return Il(e.droppables).filter(function(h){return h.descriptor.type===d})}};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:c,subscribe:r,clean:f}}function WS(){var e=xe(US,[]);return w.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Pd=De.createContext(null),Dl=function(){var e=document.body;return e||F(),e},HS={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},GS=function(t){return"rbd-announcement-"+t};function qS(e){var t=xe(function(){return GS(e)},[e]),r=w.useRef(null);w.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),te(i.style,HS),Dl().appendChild(i),function(){setTimeout(function(){var u=Dl();u.contains(i)&&u.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=Z(function(o){var i=r.current;if(i){i.textContent=o;return}},[]);return n}var QS=0,YS={separator:"::"};function Ld(e,t){return t===void 0&&(t=YS),xe(function(){return""+e+t.separator+QS++},[t.separator,e])}function KS(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function JS(e){var t=e.contextId,r=e.text,n=Ld("hidden-text",{separator:"-"}),o=xe(function(){return KS({contextId:t,uniqueId:n})},[n,t]);return w.useEffect(function(){var a=document.createElement("div");return a.id=o,a.textContent=r,a.style.display="none",Dl().appendChild(a),function(){var u=Dl();u.contains(a)&&u.removeChild(a)}},[o,r]),o}var ps=De.createContext(null);function Nv(e){var t=w.useRef(e);return w.useEffect(function(){t.current=e}),t}function ZS(){var e=null;function t(){return!!e}function r(a){return a===e}function n(a){e&&F();var l={abandon:a};return e=l,l}function o(){e||F(),e=null}function i(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:r,claim:n,release:o,tryAbandon:i}}var XS=9,ek=13,Md=27,Pv=32,tk=33,rk=34,nk=35,ok=36,ik=37,ak=38,lk=39,sk=40,Ra,uk=(Ra={},Ra[ek]=!0,Ra[XS]=!0,Ra),Lv=function(e){uk[e.keyCode]&&e.preventDefault()},fs=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=kn(t,function(n){return"on"+n in document});return r||e}(),Mv=0,Uf=5;function ck(e,t){return Math.abs(t.x-e.x)>=Uf||Math.abs(t.y-e.y)>=Uf}var Wf={type:"IDLE"};function dk(e){var t=e.cancel,r=e.completed,n=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(a){var l=a.button,u=a.clientX,c=a.clientY;if(l===Mv){var f={x:u,y:c},p=n();if(p.type==="DRAGGING"){a.preventDefault(),p.actions.move(f);return}p.type!=="PENDING"&&F();var d=p.point;if(ck(d,f)){a.preventDefault();var h=p.actions.fluidLift(f);o({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(a){var l=n();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(a){n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:function(a){var l=n();if(l.type==="PENDING"){t();return}if(a.keyCode===Md){a.preventDefault(),t();return}Lv(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(a){var l=n();if(l.type==="IDLE"&&F(),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:fs,fn:t}]}function pk(e){var t=w.useRef(Wf),r=w.useRef(hn),n=xe(function(){return{eventName:"mousedown",fn:function(p){if(!p.defaultPrevented&&p.button===Mv&&!(p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)){var d=e.findClosestDraggableId(p);if(d){var h=e.tryGetLock(d,a,{sourceEvent:p});if(h){p.preventDefault();var m={x:p.clientX,y:p.clientY};r.current(),c(h,m)}}}}}},[e]),o=xe(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(p){if(!p.defaultPrevented){var d=e.findClosestDraggableId(p);if(d){var h=e.findOptionsForDraggable(d);h&&(h.shouldRespectForcePress||e.canGetLock(d)&&p.preventDefault())}}}}},[e]),i=Z(function(){var p={passive:!1,capture:!0};r.current=cr(window,[o,n],p)},[o,n]),a=Z(function(){var f=t.current;f.type!=="IDLE"&&(t.current=Wf,r.current(),i())},[i]),l=Z(function(){var f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=Z(function(){var p={capture:!0,passive:!1},d=dk({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(m){t.current=m}});r.current=cr(window,d,p)},[l,a]),c=Z(function(p,d){t.current.type!=="IDLE"&&F(),t.current={type:"PENDING",point:d,actions:p},u()},[u]);Jt(function(){return i(),function(){r.current()}},[i])}var oo;function fk(){}var hk=(oo={},oo[rk]=!0,oo[tk]=!0,oo[ok]=!0,oo[nk]=!0,oo);function gk(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===Md){i.preventDefault(),r();return}if(i.keyCode===Pv){i.preventDefault(),n();return}if(i.keyCode===sk){i.preventDefault(),e.moveDown();return}if(i.keyCode===ak){i.preventDefault(),e.moveUp();return}if(i.keyCode===lk){i.preventDefault(),e.moveRight();return}if(i.keyCode===ik){i.preventDefault(),e.moveLeft();return}if(hk[i.keyCode]){i.preventDefault();return}Lv(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:fs,fn:r}]}function mk(e){var t=w.useRef(fk),r=xe(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==Pv)return;var a=e.findClosestDraggableId(i);if(!a)return;var l=e.tryGetLock(a,f,{sourceEvent:i});if(!l)return;i.preventDefault();var u=!0,c=l.snapLift();t.current();function f(){u||F(),u=!1,t.current(),n()}t.current=cr(window,gk(c,f),{capture:!0,passive:!1})}}},[e]),n=Z(function(){var i={passive:!1,capture:!0};t.current=cr(window,[r],i)},[r]);Jt(function(){return n(),function(){t.current()}},[n])}var Xs={type:"IDLE"},vk=120,yk=.15;function xk(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(o){o.preventDefault()}},{eventName:"keydown",fn:function(o){if(r().type!=="DRAGGING"){t();return}o.keyCode===Md&&o.preventDefault(),t()}},{eventName:fs,fn:t}]}function bk(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;var l=i.touches[0],u=l.clientX,c=l.clientY,f={x:u,y:c};i.preventDefault(),a.actions.move(f)}},{eventName:"touchend",fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var a=n();a.type==="IDLE"&&F();var l=i.touches[0];if(l){var u=l.force>=yk;if(u){var c=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){c&&t();return}if(c){if(a.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:fs,fn:t}]}function wk(e){var t=w.useRef(Xs),r=w.useRef(hn),n=Z(function(){return t.current},[]),o=Z(function(h){t.current=h},[]),i=xe(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var m=e.findClosestDraggableId(h);if(m){var x=e.tryGetLock(m,l,{sourceEvent:h});if(x){var k=h.touches[0],v=k.clientX,g=k.clientY,y={x:v,y:g};r.current(),p(x,y)}}}}}},[e]),a=Z(function(){var h={capture:!0,passive:!1};r.current=cr(window,[i],h)},[i]),l=Z(function(){var d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),o(Xs),r.current(),a())},[a,o]),u=Z(function(){var d=t.current;l(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[l]),c=Z(function(){var h={capture:!0,passive:!1},m={cancel:u,completed:l,getPhase:n},x=cr(window,bk(m),h),k=cr(window,xk(m),h);r.current=function(){x(),k()}},[u,n,l]),f=Z(function(){var h=n();h.type!=="PENDING"&&F();var m=h.actions.fluidLift(h.point);o({type:"DRAGGING",actions:m,hasMoved:!1})},[n,o]),p=Z(function(h,m){n().type!=="IDLE"&&F();var x=setTimeout(f,vk);o({type:"PENDING",point:m,actions:h,longPressTimerId:x}),c()},[c,n,o,f]);Jt(function(){return a(),function(){r.current();var m=n();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),o(Xs))}},[n,a,o]),Jt(function(){var h=cr(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var Sk={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Av(e,t){if(t==null)return!1;var r=!!Sk[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Av(e,t.parentElement)}function kk(e,t){var r=t.target;return ds(r)?Av(e,r):!1}var Ck=function(e){return wr(e.getBoundingClientRect()).center};function Ik(e){return e instanceof Rv(e).Element}var Ek=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=kn(t,function(n){return n in Element.prototype});return r||e}();function Ov(e,t){return e==null?null:e[Ek](t)?e:Ov(e.parentElement,t)}function Dk(e,t){return e.closest?e.closest(t):Ov(e,t)}function Tk(e){return"["+Lo.contextId+'="'+e+'"]'}function jk(e,t){var r=t.target;if(!Ik(r))return null;var n=Tk(e),o=Dk(r,n);return!o||!ds(o)?null:o}function Rk(e,t){var r=jk(e,t);return r?r.getAttribute(Lo.draggableId):null}function Nk(e,t){var r="["+nc.contextId+'="'+e+'"]',n=Zm(document.querySelectorAll(r)),o=kn(n,function(i){return i.getAttribute(nc.id)===t});return!o||!ds(o)?null:o}function Pk(e){e.preventDefault()}function Na(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function Bv(e){var t=e.lockAPI,r=e.store,n=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(o);return!(!i||!i.options.isEnabled||!Ev(r.getState(),o))}function Lk(e){var t=e.lockAPI,r=e.contextId,n=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent,u=Bv({lockAPI:t,store:n,registry:o,draggableId:i});if(!u)return null;var c=o.draggable.getById(i),f=Nk(r,c.descriptor.id);if(!f||l&&!c.options.canDragInteractiveElements&&kk(f,l))return null;var p=t.claim(a||hn),d="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function m(){return t.isActive(p)}function x(E,D){Na({expected:E,phase:d,isLockActive:m,shouldWarn:!0})&&n.dispatch(D())}var k=x.bind(null,"DRAGGING");function v(E){function D(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(D(),d!=="PRE_DRAG"&&F()),n.dispatch(Ew(E.liftActionArgs)),d="DRAGGING";function I(N,L){if(L===void 0&&(L={shouldBlockNextClick:!1}),E.cleanup(),L.shouldBlockNextClick){var V=cr(window,[{eventName:"click",fn:Pk,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(V)}D(),n.dispatch(xv({reason:N}))}return te({isActive:function(){return Na({expected:"DRAGGING",phase:d,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(L){return I("DROP",L)},cancel:function(L){return I("CANCEL",L)}},E.actions)}function g(E){var D=_i(function(N){k(function(){return yv({client:N})})}),I=v({liftActionArgs:{id:i,clientSelection:E,movementMode:"FLUID"},cleanup:function(){return D.cancel()},actions:{move:D}});return te({},I,{move:D})}function y(){var E={moveUp:function(){return k(Aw)},moveRight:function(){return k(Bw)},moveDown:function(){return k(Ow)},moveLeft:function(){return k(zw)}};return v({liftActionArgs:{id:i,clientSelection:Ck(f),movementMode:"SNAP"},cleanup:hn,actions:E})}function b(){var E=Na({expected:"PRE_DRAG",phase:d,isLockActive:m,shouldWarn:!0});E&&t.release()}var C={isActive:function(){return Na({expected:"PRE_DRAG",phase:d,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:g,snapLift:y,abort:b};return C}var Mk=[pk,mk,wk];function Ak(e){var t=e.contextId,r=e.store,n=e.registry,o=e.customSensors,i=e.enableDefaultSensors,a=[].concat(i?Mk:[],o||[]),l=w.useState(function(){return ZS()})[0],u=Z(function(g,y){g.isDragging&&!y.isDragging&&l.tryAbandon()},[l]);Jt(function(){var g=r.getState(),y=r.subscribe(function(){var b=r.getState();u(g,b),g=b});return y},[l,r,u]),Jt(function(){return l.tryAbandon},[l.tryAbandon]);for(var c=Z(function(v){return Bv({lockAPI:l,registry:n,store:r,draggableId:v})},[l,n,r]),f=Z(function(v,g,y){return Lk({lockAPI:l,registry:n,contextId:t,store:r,draggableId:v,forceSensorStop:g,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[t,l,n,r]),p=Z(function(v){return Rk(t,v)},[t]),d=Z(function(v){var g=n.draggable.findById(v);return g?g.options:null},[n.draggable]),h=Z(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Cd()))},[l,r]),m=Z(l.isClaimed,[l]),x=xe(function(){return{canGetLock:c,tryGetLock:f,findClosestDraggableId:p,findOptionsForDraggable:d,tryReleaseLock:h,isLockClaimed:m}},[c,f,p,d,h,m]),k=0;k<a.length;k++)a[k](x)}var Ok=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function ei(e){return e.current||F(),e.current}function Bk(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,o=e.nonce,i=e.dragHandleUsageInstructions,a=w.useRef(null),l=Nv(e),u=Z(function(){return Ok(l.current)},[l]),c=qS(t),f=JS({contextId:t,text:i}),p=FS(t,o),d=Z(function(N){ei(a).dispatch(N)},[]),h=xe(function(){return ff({publishWhileDragging:Tw,updateDroppableScroll:Rw,updateDroppableIsEnabled:Nw,updateDroppableIsCombineEnabled:Pw,collectionStarting:jw},d)},[d]),m=WS(),x=xe(function(){return yS(m,h)},[m,h]),k=xe(function(){return AS(te({scrollWindow:xS,scrollDroppable:x.scrollDroppable},ff({move:yv},d)))},[x.scrollDroppable,d]),v=VS(t),g=xe(function(){return hS({announce:c,autoScroller:k,dimensionMarshal:x,focusMarshal:v,getResponders:u,styleMarshal:p})},[c,k,x,v,u,p]);a.current=g;var y=Z(function(){var N=ei(a),L=N.getState();L.phase!=="IDLE"&&N.dispatch(Cd())},[]),b=Z(function(){var N=ei(a).getState();return N.isDragging||N.phase==="DROP_ANIMATING"},[]),C=xe(function(){return{isDragging:b,tryAbort:y}},[b,y]);r(C);var E=Z(function(N){return Ev(ei(a).getState(),N)},[]),D=Z(function(){return An(ei(a).getState())},[]),I=xe(function(){return{marshal:x,focus:v,contextId:t,canLift:E,isMovementAllowed:D,dragHandleUsageInstructionsId:f,registry:m}},[t,x,f,v,E,D,m]);return Ak({contextId:t,store:g,registry:m,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(function(){return y},[y]),De.createElement(ps.Provider,{value:I},De.createElement(i0,{context:Pd,store:g},e.children))}var zk=0;function $k(){return xe(function(){return""+zk++},[])}function Fk(e){var t=$k(),r=e.dragHandleUsageInstructions||Qa.dragHandleUsageInstructions;return De.createElement(mb,null,function(n){return De.createElement(Bk,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var zv=function(t){return function(r){return t===r}},_k=zv("scroll"),Vk=zv("auto"),Hf=function(t,r){return r(t.overflowX)||r(t.overflowY)},Uk=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return Hf(n,_k)||Hf(n,Vk)},Wk=function(){return!1},Hk=function e(t){return t==null?null:t===document.body?Wk()?t:null:t===document.documentElement?null:Uk(t)?t:e(t.parentElement)},oc=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Gk=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},qk=function(e){var t=Hk(e),r=Gk(e);return{closestScrollable:t,isFixedOnPage:r}},Qk=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,l=e.page,u=e.closest,c=function(){if(!u)return null;var h=u.scrollSize,m=u.client,x=kv({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:m,scrollSize:h,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:x,diff:{value:ut,displacement:ut}}}}(),f=i==="vertical"?xd:nv,p=No({page:l,withPlaceholder:null,axis:f,frame:c}),d={descriptor:t,isCombineEnabled:n,isFixedOnPage:o,axis:f,isEnabled:r,client:a,page:l,frame:c,subject:p};return d},Yk=function(t,r){var n=qm(t);if(!r||t!==r)return n;var o=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,a=o+r.scrollHeight,l=i+r.scrollWidth,u={top:o,right:l,bottom:a,left:i},c=hd(u,n.border),f=gd({borderBox:c,margin:n.margin,border:n.border,padding:n.padding});return f},Kk=function(e){var t=e.ref,r=e.descriptor,n=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,u=e.shouldClipSubject,c=n.closestScrollable,f=Yk(t,c),p=Sl(f,o),d=function(){if(!c)return null;var m=qm(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:Sl(m,o),scroll:oc(c),scrollSize:x,shouldClipSubject:u}}(),h=Qk({descriptor:r,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:p,closest:d});return h},Jk={passive:!1},Zk={passive:!0},Gf=function(e){return e.shouldPublishImmediately?Jk:Zk};function Tl(e){var t=w.useContext(e);return t||F(),t}var Pa=function(t){return t&&t.env.closestScrollable||null};function Xk(e){var t=w.useRef(null),r=Tl(ps),n=Ld("droppable"),o=r.registry,i=r.marshal,a=Nv(e),l=xe(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),u=w.useRef(l),c=xe(function(){return st(function(b,C){t.current||F();var E={x:b,y:C};i.updateDroppableScroll(l.id,E)})},[l.id,i]),f=Z(function(){var b=t.current;return!b||!b.env.closestScrollable?ut:oc(b.env.closestScrollable)},[]),p=Z(function(){var b=f();c(b.x,b.y)},[f,c]),d=xe(function(){return _i(p)},[p]),h=Z(function(){var b=t.current,C=Pa(b);b&&C||F();var E=b.scrollOptions;if(E.shouldPublishImmediately){p();return}d()},[d,p]),m=Z(function(b,C){t.current&&F();var E=a.current,D=E.getDroppableRef();D||F();var I=qk(D),N={ref:D,descriptor:l,env:I,scrollOptions:C};t.current=N;var L=Kk({ref:D,descriptor:l,env:I,windowScroll:b,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),V=I.closestScrollable;return V&&(V.setAttribute(_f.contextId,r.contextId),V.addEventListener("scroll",h,Gf(N.scrollOptions))),L},[r.contextId,l,h,a]),x=Z(function(){var b=t.current,C=Pa(b);return b&&C||F(),oc(C)},[]),k=Z(function(){var b=t.current;b||F();var C=Pa(b);t.current=null,C&&(d.cancel(),C.removeAttribute(_f.contextId),C.removeEventListener("scroll",h,Gf(b.scrollOptions)))},[h,d]),v=Z(function(b){var C=t.current;C||F();var E=Pa(C);E||F(),E.scrollTop+=b.y,E.scrollLeft+=b.x},[]),g=xe(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:x,dragStopped:k,scroll:v}},[k,m,x,v]),y=xe(function(){return{uniqueId:n,descriptor:l,callbacks:g}},[g,l,n]);Jt(function(){return u.current=y.descriptor,o.droppable.register(y),function(){t.current&&k(),o.droppable.unregister(y)}},[g,l,k,y,i,o.droppable]),Jt(function(){t.current&&i.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Jt(function(){t.current&&i.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function eu(){}var qf={width:0,height:0,margin:Sb},e2=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,o=t.animate;return r||o==="close"?qf:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},t2=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,o=t.animate,i=e2({isAnimatingOpenOnMount:r,placeholder:n,animate:o});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?wi.placeholder:null}};function r2(e){var t=w.useRef(null),r=Z(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,o=e.onTransitionEnd,i=e.onClose,a=e.contextId,l=w.useState(e.animate==="open"),u=l[0],c=l[1];w.useEffect(function(){return u?n!=="open"?(r(),c(!1),eu):t.current?eu:(t.current=setTimeout(function(){t.current=null,c(!1)}),r):eu},[n,u,r]);var f=Z(function(d){d.propertyName==="height"&&(o(),n==="close"&&i())},[n,i,o]),p=t2({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return De.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":a,onTransitionEnd:f,ref:e.innerRef})}var n2=De.memo(r2),Ad=De.createContext(null),o2=function(e){Em(t,e);function t(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(o,i){return o.shouldAnimate?o.on?{isVisible:!0,data:o.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!o.on,data:o.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var o={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(o)},t}(De.PureComponent),Qf={dragging:5e3,dropAnimating:4500},i2=function(t,r){return r?wi.drop(r.duration):t?wi.snap:wi.fluid},a2=function(t,r){return t?r?Hi.opacity.drop:Hi.opacity.combining:null},l2=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function s2(e){var t=e.dimension,r=t.client,n=e.offset,o=e.combineWith,i=e.dropping,a=!!o,l=l2(e),u=!!i,c=u?tc.drop(n,a):tc.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:i2(l,i),transform:c,opacity:a2(a,u),zIndex:u?Qf.dropAnimating:Qf.dragging,pointerEvents:"none"};return f}function u2(e){return{transform:tc.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function c2(e){return e.type==="DRAGGING"?s2(e):u2(e)}function d2(e,t,r){r===void 0&&(r=ut);var n=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=Gm(o,n),a=Sl(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},u={x:i.marginBox.width,y:i.marginBox.height},c={descriptor:e,placeholder:l,displaceBy:u,client:i,page:a};return c}function p2(e){var t=Ld("draggable"),r=e.descriptor,n=e.registry,o=e.getDraggableRef,i=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,u=xe(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}},[i,l,a]),c=Z(function(h){var m=o();return m||F(),d2(r,m,h)},[r,o]),f=xe(function(){return{uniqueId:t,descriptor:r,options:u,getDimension:c}},[r,c,u,t]),p=w.useRef(f),d=w.useRef(!0);Jt(function(){return n.draggable.register(p.current),function(){return n.draggable.unregister(p.current)}},[n.draggable]),Jt(function(){if(d.current){d.current=!1;return}var h=p.current;p.current=f,n.draggable.update(f,h)},[f,n.draggable])}function f2(e){e.preventDefault()}function h2(e){var t=w.useRef(null),r=Z(function(N){t.current=N},[]),n=Z(function(){return t.current},[]),o=Tl(ps),i=o.contextId,a=o.dragHandleUsageInstructionsId,l=o.registry,u=Tl(Ad),c=u.type,f=u.droppableId,p=xe(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:f}},[e.draggableId,e.index,c,f]),d=e.children,h=e.draggableId,m=e.isEnabled,x=e.shouldRespectForcePress,k=e.canDragInteractiveElements,v=e.isClone,g=e.mapped,y=e.dropAnimationFinished;if(!v){var b=xe(function(){return{descriptor:p,registry:l,getDraggableRef:n,canDragInteractiveElements:k,shouldRespectForcePress:x,isEnabled:m}},[p,l,n,k,x,m]);p2(b)}var C=xe(function(){return m?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:f2}:null},[i,a,h,m]),E=Z(function(N){g.type==="DRAGGING"&&g.dropping&&N.propertyName==="transform"&&y()},[y,g]),D=xe(function(){var N=c2(g),L=g.type==="DRAGGING"&&g.dropping?E:null,V={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":h,style:N,onTransitionEnd:L},dragHandleProps:C};return V},[i,C,h,g,E,r]),I=xe(function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}},[p.droppableId,p.id,p.index,p.type]);return d(D,g.snapshot,I)}var $v=function(e,t){return e===t},Fv=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},g2=function(t){return t.combine?t.combine.draggableId:null},m2=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function v2(){var e=st(function(o,i){return{x:o,y:i}}),t=st(function(o,i,a,l,u){return{isDragging:!0,isClone:i,isDropAnimating:!!u,dropAnimation:u,mode:o,draggingOver:a,combineWith:l,combineTargetFor:null}}),r=st(function(o,i,a,l,u,c,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:c,mode:i,offset:o,dimension:a,forceShouldAnimate:f,snapshot:t(i,l,u,c,null)}}}),n=function(i,a){if(i.isDragging){if(i.critical.draggable.id!==a.draggableId)return null;var l=i.current.client.offset,u=i.dimensions.draggables[a.draggableId],c=Kt(i.impact),f=m2(i.impact),p=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,u,a.isClone,c,f,p)}if(i.phase==="DROP_ANIMATING"){var d=i.completed;if(d.result.draggableId!==a.draggableId)return null;var h=a.isClone,m=i.dimensions.draggables[a.draggableId],x=d.result,k=x.mode,v=Fv(x),g=g2(x),y=i.dropDuration,b={duration:y,curve:Ed.drop,moveTo:i.newHomeClientOffset,opacity:g?Hi.opacity.drop:null,scale:g?Hi.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:m,dropping:b,draggingOver:v,combineWith:g,mode:k,forceShouldAnimate:null,snapshot:t(k,h,v,g,b)}}}return null};return n}function _v(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var y2={mapped:{type:"SECONDARY",offset:ut,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:_v(null)}};function x2(){var e=st(function(a,l){return{x:a,y:l}}),t=st(_v),r=st(function(a,l,u){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:t(l)}}}),n=function(l){return l?r(ut,l,!0):null},o=function(l,u,c,f){var p=c.displaced.visible[l],d=!!(f.inVirtualList&&f.effected[l]),h=ss(c),m=h&&h.draggableId===l?u:null;if(!p){if(!d)return n(m);if(c.displaced.invisible[l])return null;var x=Bo(f.displacedBy.point),k=e(x.x,x.y);return r(k,m,!0)}if(d)return n(m);var v=c.displacedBy.point,g=e(v.x,v.y);return r(g,m,p.shouldAnimate)},i=function(l,u){if(l.isDragging)return l.critical.draggable.id===u.draggableId?null:o(u.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var c=l.completed;return c.result.draggableId===u.draggableId?null:o(u.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return i}var b2=function(){var t=v2(),r=x2(),n=function(i,a){return t(i,a)||r(i,a)||y2};return n},w2={dropAnimationFinished:bv},S2=Wm(b2,w2,null,{context:Pd,pure:!0,areStatePropsEqual:$v})(h2);function Vv(e){var t=Tl(Ad),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:De.createElement(S2,e)}function La(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return De.createElement(Vv,te({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function k2(e){var t=w.useContext(ps);t||F();var r=t.contextId,n=t.isMovementAllowed,o=w.useRef(null),i=w.useRef(null),a=e.children,l=e.droppableId,u=e.type,c=e.mode,f=e.direction,p=e.ignoreContainerClipping,d=e.isDropDisabled,h=e.isCombineEnabled,m=e.snapshot,x=e.useClone,k=e.updateViewportMaxScroll,v=e.getContainerForClone,g=Z(function(){return o.current},[]),y=Z(function(V){o.current=V},[]);Z(function(){return i.current},[]);var b=Z(function(V){i.current=V},[]),C=Z(function(){n()&&k({maxScroll:Iv()})},[n,k]);Xk({droppableId:l,type:u,mode:c,direction:f,isDropDisabled:d,isCombineEnabled:h,ignoreContainerClipping:p,getDroppableRef:g});var E=De.createElement(o2,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(V){var K=V.onClose,le=V.data,se=V.animate;return De.createElement(n2,{placeholder:le,onClose:K,innerRef:b,animate:se,contextId:r,onTransitionEnd:C})}),D=xe(function(){return{innerRef:y,placeholder:E,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,E,y]),I=x?x.dragging.draggableId:null,N=xe(function(){return{droppableId:l,type:u,isUsingCloneFor:I}},[l,I,u]);function L(){if(!x)return null;var V=x.dragging,K=x.render,le=De.createElement(Vv,{draggableId:V.draggableId,index:V.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(se,Ie){return K(se,Ie,V)});return F1.createPortal(le,v())}return De.createElement(Ad.Provider,{value:N},a(D,m),L())}var tu=function(t,r){return t===r.droppable.type},Yf=function(t,r){return r.draggables[t.draggable.id]},C2=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=te({},t,{shouldAnimatePlaceholder:!1}),n=st(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),o=st(function(a,l,u,c,f,p){var d=f.descriptor.id,h=f.descriptor.droppableId===a;if(h){var m=p?{render:p,dragging:n(f.descriptor)}:null,x={isDraggingOver:u,draggingOverWith:u?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:m}}if(!l)return r;if(!c)return t;var k={isDraggingOver:u,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:k,useClone:null}}),i=function(l,u){var c=u.droppableId,f=u.type,p=!u.isDropDisabled,d=u.renderClone;if(l.isDragging){var h=l.critical;if(!tu(f,h))return r;var m=Yf(h,l.dimensions),x=Kt(l.impact)===c;return o(c,p,x,x,m,d)}if(l.phase==="DROP_ANIMATING"){var k=l.completed;if(!tu(f,k.critical))return r;var v=Yf(k.critical,l.dimensions);return o(c,p,Fv(k.result)===c,Kt(k.impact)===c,v,d)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var g=l.completed;if(!tu(f,g.critical))return r;var y=Kt(g.impact)===c,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),C=g.critical.droppable.id===c;return y?b?t:r:C?t:r}return r};return i},I2={updateViewportMaxScroll:Mw};function E2(){return document.body||F(),document.body}var D2={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:E2},li=Wm(C2,I2,null,{context:Pd,pure:!0,areStatePropsEqual:$v})(k2);li.defaultProps=D2;const T2=({onClose:e,onExport:t,onImport:r,onReset:n,boardName:o,selectedBoardId:i})=>s.jsx("div",{className:"modal-overlay",onClick:e,children:s.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[s.jsx("span",{className:"modal-close",onClick:e,style:{float:"right",fontSize:"1.5em",cursor:"pointer"},children:""}),s.jsx("h3",{children:"More Options"}),s.jsxs("div",{className:"modal-actions",children:[s.jsxs("button",{className:"settings-button",onClick:t,disabled:!i,children:["Export Dashboard configuration for ",o]}),s.jsxs("label",{htmlFor:"import-file-input",className:"settings-button",children:["Import a configuration file for ",o,s.jsx("input",{type:"file",id:"import-file-input",accept:".json",onChange:r,style:{display:"none"}})]}),s.jsxs("button",{className:"button-danger",onClick:n,disabled:!i,children:["Reset the layout for the ",o]})]})]})}),Qn={star:'<path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>',heart:'<path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>',flag:'<path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"/>',bookmark:'<path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/>',circle:'<circle cx="12" cy="12" r="10" />',"map-marker":'<path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>',user:'<path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>',"check-circle":'<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>',"alert-triangle":'<path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>',"info-circle":'<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>',clock:'<path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>',calendar:'<path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>',home:'<path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>',truck:'<path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>',trash:'<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>',cloud:'<path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"/>',sun:'<path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"/>',moon:'<path d="M6 14c0-3.31 2.69-6 6-6 1.05 0 2.03.28 2.89.76-.74-2.67-2.92-4.7-5.63-5.22-4.07-.78-8.08 1.84-8.86 5.91-.78 4.07 1.84 8.08 5.91 8.86 2.37.45 4.68-.31 6.36-1.87C9.31 20.3 6 17.58 6 14z"/>',flash:'<path d="M7 2v11h3v9l7-12h-4l4-8z"/>',edit:'<path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>',lock:'<path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3 3.1-3 1.71 0 3.1 1.29 3.1 3v2z"/>',unlock:'<path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3 3.1-3 1.71 0 3.1 1.29 3.1 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"/>',bell:'<path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"/>',car:'<path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/>',bus:'<path d="M4 16c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-3.5-3.58-4-8-4s-8 .5-8 4v10zm3.5 1c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 6h14v5H5V6z"/>',bike:'<path d="M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10l2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1.2-.4-1.6 0l-1.6 1.6 1.6 1.6zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"/>',train:'<path d="M12 2c-4 0-8 .5-8 4v9.5c0 .95.38 1.81 1 2.44V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.56c.62-.63 1-1.49 1-2.44V6c0-3.5-3.58-4-8-4zm0 2c3.5 0 6 .5 6 1v5H6V5c0-.5 2.5-1 6-1zm6 11H6v-3h12v3z"/>',flight:'<path d="M10.18 9l-5.8-5.8L3 4.61v21.61L4.38 27.6l5.8-5.8h11.61L22.6 19.82 2.62.6 1.41 1.41l8.77 8.77z" fill="transparent" /><path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/>',boat:'<path d="M20 21c-1.39 0-2.78-.47-4-1.32-2.44 1.71-5.56 1.71-8 0C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 2.52 1.29 5.48 1.29 8 0 1.26.65 2.62.99 4 .99h2v-2h-2zM3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.39-.6-.39H2.72c-.26 0-.5.15-.6.39s-.14.52-.06.78L3.95 19zM6 6h12v2H6zm0 4h12v2H6z"/>',walk:'<path d="M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"/>',play:'<path d="M8 5v14l11-7z"/>',pause:'<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>',stop:'<path d="M6 6h12v12H6z"/>',forward:'<path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/>',backward:'<path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/>',fingerprint:'<path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.03-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"/>',verified:'<path d="M23 12l-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72l-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"/>',"shopping-cart":'<path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>',gavel:'<path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.83 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z"/>',build:'<path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>',"external-link":'<path d="M19 19H5V5h7V3H5c-1.11 0-2 .89-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.89 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>',"street-view":'<path d="M12.56 14.33c-.34.27-.56.7-.56 1.17V21h7c1.1 0 2-.9 2-2v-5.98c-.94-.33-1.95-.52-3-.52-2.03 0-3.93.7-5.44 1.83z"/> <circle cx="18" cy="6" r="5"/> <path d="M11.5 6c0-1.08.27-2.1.74-3H5c-1.1 0-2 .9-2 2v14c0 .55.23 1.05.59 1.41l9.82-9.82C12.23 9.42 11.5 7.8 11.5 6z"/>'},ru=({selectedIcon:e,onChange:t,color:r="#444"})=>s.jsx("div",{className:"icon-picker-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(36px, 1fr))",gap:"8px",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"6px",marginTop:"8px",maxHeight:"160px",overflowY:"auto"},children:Object.keys(Qn).map(n=>s.jsx("div",{title:n,onClick:()=>t(n),style:{padding:"6px",cursor:"pointer",borderRadius:"4px",border:e===n?"2px solid #579aff":"1px solid transparent",backgroundColor:e===n?"rgba(87, 154, 255, 0.1)":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:r,dangerouslySetInnerHTML:{__html:Qn[n]}})},n))}),j2=[{name:"blue",hex:"#3388ff",label:"Blue"},{name:"red",hex:"#ff6b6b",label:"Red"},{name:"green",hex:"#51cf66",label:"Green"},{name:"orange",hex:"#ffa94d",label:"Orange"},{name:"yellow",hex:"#ffd43b",label:"Yellow"},{name:"grey",hex:"#868e96",label:"Grey"},{name:"black",hex:"#212529",label:"Black"}],R2=({selectedColor:e,onChange:t})=>s.jsx("div",{className:"color-picker-flex",style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"8px"},children:j2.map(r=>s.jsx("div",{title:r.label,onClick:()=>t(r.name),style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:r.hex,cursor:"pointer",border:e===r.name?"3px solid #000":"1px solid rgba(0,0,0,0.1)",boxShadow:e===r.name?"0 0 0 2px #fff inset":"none",transition:"transform 0.1s"},onMouseEnter:n=>n.currentTarget.style.transform="scale(1.1)",onMouseLeave:n=>n.currentTarget.style.transform="scale(1.0)"},r.name))}),N2=({config:e,onClose:t,boardName:r})=>{const[n,o]=w.useState(!1),i=JSON.stringify(e),a=btoa(unescape(encodeURIComponent(i))),l=`${window.location.protocol}//${window.location.host}${window.location.pathname}?config=${encodeURIComponent(a)}`,u=()=>{navigator.clipboard.writeText(l).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})};return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[s.jsx("h3",{children:"Share Configuration"}),s.jsx("p",{children:"Copy the link below to share this configuration with others:"}),s.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[s.jsx("input",{type:"text",readOnly:!0,value:l,style:{flex:1,padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},onClick:c=>c.target.select()}),s.jsx("button",{onClick:u,className:"action-button",children:n?"Copied!":"Copy"})]}),s.jsxs("div",{style:{marginTop:"15px",padding:"10px",background:"#fff3cd",border:"1px solid #ffeeba",borderRadius:"4px",color:"#856404",fontSize:"0.9em"},children:[s.jsx("strong",{children:"Note:"})," The recipient of this link must have a Trello account and access to the board ",s.jsx("strong",{children:r||"specified"})," to be able to display it. Features requiring extended write permissions will have to be granted by the recipients of this link."]}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:s.jsx("button",{className:"button-secondary",onClick:t,children:"Close"})})]})})},Kf=({user:e,initialTab:t="dashboard",onClose:r,onSave:n,onLogout:o,importedConfig:i=null,onClearImportConfig:a=()=>{},viewMode:l="default",onManageTasks:u,onGoToStats:c})=>{const[f,p]=w.useState([]),[d,h]=w.useState(""),[m,x]=w.useState([]),[k,v]=w.useState([]),[g,y]=w.useState([]),[b,C]=w.useState({}),[E,D]=w.useState(1),[I,N]=w.useState("minutes"),[L,V]=w.useState(!0),[K,le]=w.useState(!0),[se,Ie]=w.useState(!1),[ie,ke]=w.useState(!1),[P,W]=w.useState(!1),[U,J]=w.useState("store"),[X,Ce]=w.useState(!1),[ue,he]=w.useState(!1),[j,A]=w.useState(!1),[M,q]=w.useState(null),[$,ne]=w.useState({value:5,unit:"minutes"}),[ge,Ye]=w.useState([]),[ze,tt]=w.useState(!1),[ce,Ae]=w.useState(""),[re,z]=w.useState(null),[Y,fe]=w.useState("home"),[de,rr]=w.useState(!1),[It,Ge]=w.useState([]),[ye,Lt]=w.useState(!1),[Ze,Et]=w.useState(""),[Cn,Er]=w.useState(!1),[In,Jr]=w.useState(!1),[Mt,dt]=w.useState(t==="tasks"?"dashboard":t),[Mr,Ar]=w.useState(l==="tasks"?"tasks":"board");w.useEffect(()=>{Ar(l==="tasks"?"tasks":"board")},[l]);const[Xe,Ut]=w.useState(!1),[nr,Fo]=w.useState(null),[_o,ms]=w.useState(!1);w.useEffect(()=>{i?Fo(i):e!=null&&e.token&&$n.checkTokenScopes(e.token).then(S=>{const T=S.includes("write");Lt(T),T||(Ce(!1),he(!1))})},[e,i]);const[En,Dn]=w.useState(!1),[eo,Vo]=w.useState(!1),[to,Tn]=w.useState(!0);w.useEffect(()=>{Mr==="tasks"&&f.length>0&&ge.length===0&&e&&e.token&&Fe("/members/me/organizations?fields=id,displayName,name",e.token).then(S=>{const T=new Map;S.forEach(O=>T.set(O.id,O)),f&&f.length>0&&f.forEach(O=>{O.idOrganization&&O.organization&&(T.has(O.idOrganization)||T.set(O.idOrganization,{id:O.idOrganization,displayName:O.organization.displayName||O.organization.name,name:O.organization.name}))});const _=Array.from(T.values()).sort((O,R)=>(O.displayName||O.name).localeCompare(R.displayName||R.name));Ye(_),(M===null||Array.isArray(M)&&M.length===0)&&q(_.map(O=>O.id))}).catch(S=>console.warn("Failed to fetch orgs for settings",S))},[Mr,e,f]);const[H,Q]=w.useState([]),[ee,ae]=w.useState(!1),oe=De.useRef(null),Pe=De.useRef(null),qe=De.useRef(null);w.useEffect(()=>{Y1(async()=>{const{loadGoogleMaps:S}=await Promise.resolve().then(()=>L2);return{loadGoogleMaps:S}},void 0).then(({loadGoogleMaps:S})=>{S().then(T=>{Pe.current||(Pe.current=new T.places.AutocompleteService,qe.current=new T.Geocoder)}).catch(T=>console.warn("Google Maps not loaded for Settings:",T))})},[]);const pt=S=>{const T=S.target.value;if(Ae(T),!T||T.length<3){Q([]);return}Pe.current&&(ae(!0),Pe.current.getPlacePredictions({input:T},(_,O)=>{console.log("[GoogleMaps] Autocomplete status:",O),console.log("[GoogleMaps] Autocomplete predictions:",_),ae(!1),O===window.google.maps.places.PlacesServiceStatus.OK&&_?Q(_):(console.warn("[GoogleMaps] Autocomplete failed or empty:",O),Q([]))}))},it=S=>{Ae(S.description),Q([]),qe.current&&qe.current.geocode({placeId:S.place_id},(T,_)=>{if(_==="OK"&&T[0]){const O=T[0].geometry.location;z({lat:O.lat(),lon:O.lng(),display_name:S.description})}})},Ve=()=>{if(!nr)return;const S=nr;S.boardId&&(!f.find(_=>_.id===S.boardId)&&S.boardName,h(S.boardId),ve(S.boardId)),S.blocks&&y(S.blocks),S.listColors&&C(S.listColors),S.markerRules&&Ge(S.markerRules),S.refreshValue&&D(S.refreshValue),S.refreshUnit&&N(S.refreshUnit),S.showClock!==void 0&&V(S.showClock),S.ignoreTemplateCards!==void 0&&le(S.ignoreTemplateCards),S.ignoreCompletedCards!==void 0&&Ie(S.ignoreCompletedCards),S.ignoreNoDescCards!==void 0&&ke(S.ignoreNoDescCards),S.enableMapView!==void 0&&W(S.enableMapView),S.mapGeocodeMode&&J(S.mapGeocodeMode),S.mapGeocodeMode&&J(S.mapGeocodeMode),S.enableCardMove!==void 0&&he(S.enableCardMove),S.enableStreetView!==void 0&&Dn(S.enableStreetView),S.updateTrelloCoordinates!==void 0&&Ce(S.updateTrelloCoordinates),S.enableTaskView!==void 0&&A(S.enableTaskView),S.taskViewWorkspaces!==void 0&&q(S.taskViewWorkspaces),S.taskViewRefreshInterval!==void 0&&ne(S.taskViewRefreshInterval),Fo(null),a()},ft=()=>{Fo(null),a()};w.useEffect(()=>{dt(t),t==="map"&&(e!=null&&e.token)&&Dr()},[t,e]);const Dr=async()=>{if(!(e!=null&&e.token))return;const S=await $n.checkTokenScopes(e.token),T=S.includes("write");Lt(T),console.log("Token scopes:",S,"Can write:",T),T||(Ce(!1),he(!1))},Tr=async S=>{var T,_,O,R;if(!(!S||!e)){Jr(!0),Et("");try{await ve(S);const we=JSON.parse(localStorage.getItem("trelloUserData")||"{}"),pe=(_=(T=we[e.id])==null?void 0:T.dashboardLayout)==null?void 0:_[S];if(pe)y(pe);else{const da=`TRELLO_DASHBOARD_LAYOUT_${S}`,Gd=localStorage.getItem(da);y(Gd?JSON.parse(Gd):[])}const Wt=((O=xi(e.id))==null?void 0:O[S])||{};C(Wt);const or=localStorage.getItem(Ee.REFRESH_INTERVAL+S);if(or){const da=JSON.parse(or);D(da.value),N(da.unit)}else D(1),N("minutes");const zr=localStorage.getItem(Ee.CLOCK_SETTING+S);V(zr!=="false");const jn=localStorage.getItem(Ee.IGNORE_TEMPLATE_CARDS+S);le(jn!=="false");const Ke=localStorage.getItem(Ee.IGNORE_COMPLETED_CARDS+S);Ie(Ke==="true");const Ht=localStorage.getItem("IGNORE_NO_DESC_CARDS_"+S);ke(Ht==="true");const ir=`TRELLO_MARKER_RULES_${S}`,Rn=localStorage.getItem(ir);Ge(Rn?JSON.parse(Rn):[]);const gt=(R=we[e.id])==null?void 0:R.settings;gt&&(gt.enableTaskView!==void 0&&A(gt.enableTaskView),gt.taskViewWorkspaces!==void 0&&q(gt.taskViewWorkspaces),gt.taskViewRefreshInterval!==void 0&&ne(gt.taskViewRefreshInterval));const vs=localStorage.getItem("updateTrelloCoordinates_"+S);Ce(vs==="true");const dy=localStorage.getItem("enableCardMove_"+S);he(dy==="true"),tt(localStorage.getItem(`enableHomeLocation_${S}`)==="true"),Ae(localStorage.getItem(`homeAddress_${S}`)||"");const ua=localStorage.getItem(`homeCoordinates_${S}`);z(ua?JSON.parse(ua):null),fe(localStorage.getItem(`homeIcon_${S}`)||"home"),z(ua?JSON.parse(ua):null),fe(localStorage.getItem(`homeIcon_${S}`)||"home");const py=localStorage.getItem("enableStreetView_"+S);Dn(py==="true");const ca=(gt==null?void 0:gt.statistics)||{};Vo(!!ca.enabled),Tn(ca.includeArchived!==void 0?ca.includeArchived:!0),setStatsIncludedLists(ca.includedLists||[])}catch(we){console.warn("Error loading board settings",we),Et("Failed to load settings for this board.")}finally{Jr(!1)}}};w.useEffect(()=>{(async()=>{var T;if(e)try{const _=await Fe("/members/me/boards?fields=id,name,url,idOrganization&organization=true&organization_fields=displayName,name",e.token);p(_);const R=(T=JSON.parse(localStorage.getItem("trelloUserData")||"{}")[e.id])==null?void 0:T.settings;if(R!=null&&R.boardId){const we=R.boardId;h(we),await Tr(we),R.enableMapView!==void 0&&W(R.enableMapView),R.mapGeocodeMode&&J(R.mapGeocodeMode),R.enableTaskView!==void 0&&A(R.enableTaskView),R.taskViewWorkspaces!==void 0&&q(R.taskViewWorkspaces),R.taskViewRefreshInterval!==void 0&&ne(R.taskViewRefreshInterval)}}catch(_){console.warn("Error loading settings",_)}})()},[e]);const ve=async S=>{Jr(!0),Et("");try{const T=await Fe(`/boards/${S}/lists?cards=open&card_fields=name&card_limit=1&fields=id,name`,e.token);x(T);const _=await Fe(`/boards/${S}/labels`,e.token);v(_)}catch{Et("Failed to load board lists.")}finally{Jr(!1)}},At=async S=>{const T=S.target.value;h(T),T?await Tr(T):(y([]),C({}),Ge([]),x([]))},rt=()=>{y([...g,{id:`block-${Date.now()}`,name:"New Block",listIds:[],includeOnMap:!1,mapIcon:"map-marker",ignoreFirstCard:!1,displayFirstCardDescription:!1}])},ro=S=>{window.confirm("Delete this block? Assigned lists will be unassigned.")&&y(g.filter(T=>T.id!==S))},Or=(S,T)=>{y(g.map(_=>_.id===S?{..._,name:T}:_))},Br=(S,T,_)=>{y(g.map(O=>O.id===S?{...O,[T]:_}:O))},ty=S=>{const{source:T,destination:_,draggableId:O,type:R}=S;if(!_)return;if(R==="RULE"){const Ke=Array.from(It),[Ht]=Ke.splice(T.index,1);Ke.splice(_.index,0,Ht),Ge(Ke);return}if(R==="BLOCK"){const Ke=Array.from(g),[Ht]=Ke.splice(T.index,1);Ke.splice(_.index,0,Ht),y(Ke);return}const we=O,pe=T.droppableId,Wt=_.droppableId,or=(Ke,Ht)=>{const ir=g.find(gt=>gt.id===Ke),Rn=ir.listIds.filter(gt=>gt!==Ht);return{...ir,listIds:Rn}},zr=(Ke,Ht,ir)=>{const Rn=g.find(vs=>vs.id===Ke),gt=Array.from(Rn.listIds);return gt.splice(ir,0,Ht),{...Rn,listIds:gt}};if(pe===Wt&&pe!=="unassigned"){const Ke=g.find(ir=>ir.id===pe),Ht=Array.from(Ke.listIds);Ht.splice(T.index,1),Ht.splice(_.index,0,we),y(g.map(ir=>ir.id===pe?{...ir,listIds:Ht}:ir));return}let jn=[...g];pe!=="unassigned"&&(jn=jn.map(Ke=>Ke.id===pe?or(pe,we):Ke)),Wt!=="unassigned"&&(jn=jn.map(Ke=>Ke.id===Wt?zr(Wt,we,_.index):Ke)),y(jn)},ry=()=>Ge([...It,{id:`rule-${Date.now()}`,labelId:"",overrideType:"color",overrideValue:"red"}]),Uo=(S,T,_)=>Ge(It.map(O=>O.id===S?{...O,[T]:_}:O)),ny=S=>Ge(It.filter(T=>T.id!==S)),oy=()=>{if(I==="seconds"&&parseInt(E)<15){Et("Refresh interval must be at least 15 seconds."),window.scrollTo(0,0);return}if(!d&&!j)return alert("You must either enable the tasks view, or choose a Trello board to configure as a dashboard to use Trellops.");const S=f.find(T=>T.id===d);try{if(d){wm(e.id,d,g),U1(e.id,d,b),localStorage.setItem(Ee.REFRESH_INTERVAL+d,JSON.stringify({value:E,unit:I})),localStorage.setItem(Ee.CLOCK_SETTING+d,L?"true":"false"),localStorage.setItem(Ee.IGNORE_TEMPLATE_CARDS+d,K?"true":"false"),localStorage.setItem(Ee.IGNORE_COMPLETED_CARDS+d,se?"true":"false"),localStorage.setItem("IGNORE_NO_DESC_CARDS_"+d,ie?"true":"false"),localStorage.setItem(`TRELLO_MARKER_RULES_${d}`,JSON.stringify(It.filter(pe=>pe.labelId))),localStorage.setItem(`enableHomeLocation_${d}`,ze),localStorage.setItem(`homeAddress_${d}`,ce),localStorage.setItem(`homeCoordinates_${d}`,JSON.stringify(re)),localStorage.setItem(`homeIcon_${d}`,Y);const R=X&&ye;localStorage.setItem("updateTrelloCoordinates_"+d,R?"true":"false");const we=ue&&ye;if(localStorage.setItem("enableCardMove_"+d,we?"true":"false"),localStorage.setItem("enableStreetView_"+d,En?"true":"false"),R){const pe=`MAP_GEOCODING_CACHE_${d}`;localStorage.getItem(pe)&&(localStorage.removeItem(pe),console.log("Cache cleared due to Trello Update enablement."))}}const T=g.flatMap(R=>R.listIds.map(we=>m.find(pe=>pe.id===we))).filter(Boolean),_={boardId:d||null,boardName:S?S.name:d?"Unknown Board":null,selectedLists:T,enableMapView:P,mapGeocodeMode:U,enableCardMove:ue&&ye,enableStreetView:En,enableTaskView:j,taskViewWorkspaces:M,taskViewRefreshInterval:$,statistics:{enabled:eo,showArchived:to,includedLists:statsIncludedLists}},O=JSON.parse(localStorage.getItem("trelloUserData")||"{}");O[e.id]={...O[e.id],settings:_},localStorage.setItem("trelloUserData",JSON.stringify(O)),n(_)}catch(T){console.error(T),Et("Failed to save settings.")}},iy=()=>{try{const S={...e.settings,enableTaskView:j,taskViewWorkspaces:M,taskViewRefreshInterval:$},T=JSON.parse(localStorage.getItem("trelloUserData")||"{}"),_=T[e.id]||{};T[e.id]={..._,settings:{..._.settings||{},enableTaskView:j,taskViewWorkspaces:M,taskViewRefreshInterval:$}},localStorage.setItem("trelloUserData",JSON.stringify(T)),n({...e.settings||{},enableTaskView:j,taskViewWorkspaces:M,taskViewRefreshInterval:$}),u?l==="tasks"?(window.history.pushState({},"","/tasks"),window.dispatchEvent(new Event("popstate"))):r():l==="tasks"?(window.history.pushState({},"","/tasks"),window.dispatchEvent(new Event("popstate"))):r()}catch(S){console.error("Failed to save task settings",S),alert("Failed to save task settings")}},ay=()=>{window.confirm("Clear all settings?")&&(y([]),C({}),Ge([]))},Hd=()=>{var T;if(!d)return null;const S=(T=f.find(_=>_.id===d))==null?void 0:T.name;return{boardId:d,boardName:S,blocks:g,listColors:b,markerRules:It,refreshValue:E,refreshUnit:I,showClock:L,ignoreTemplateCards:K,ignoreCompletedCards:se,ignoreNoDescCards:ie,enableMapView:P,mapGeocodeMode:U,enableCardMove:ue,enableStreetView:En,enableTaskView:j,taskViewWorkspaces:M,taskViewRefreshInterval:$}},ly=()=>{const S=Hd();if(!S)return;const T=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),_=URL.createObjectURL(T),O=document.createElement("a");O.href=_,O.download=`trellops-config-${d}.json`,O.click(),URL.revokeObjectURL(_)},sy=S=>{const T=S.target.files[0];if(!T)return;const _=new FileReader;_.onload=O=>{try{const R=JSON.parse(O.target.result);if(R.boardId&&R.boardId!==d){if(!window.confirm(`This config is for board ${R.boardId}, but you are on ${d}. Import anyway?`))return;f.find(pe=>pe.id===R.boardId)?(h(R.boardId),ve(R.boardId)):(console.warn("Imported config for unknown board:",R.boardId),h(R.boardId),ve(R.boardId))}R.blocks&&y(R.blocks),R.listColors&&C(R.listColors),R.markerRules&&Ge(R.markerRules),R.refreshValue&&D(R.refreshValue),R.refreshUnit&&N(R.refreshUnit),R.showClock!==void 0&&V(R.showClock),R.ignoreTemplateCards!==void 0&&le(R.ignoreTemplateCards),R.ignoreCompletedCards!==void 0&&Ie(R.ignoreCompletedCards),R.ignoreNoDescCards!==void 0&&ke(R.ignoreNoDescCards),R.enableMapView!==void 0&&W(R.enableMapView),R.mapGeocodeMode&&J(R.mapGeocodeMode),R.enableCardMove!==void 0&&he(R.enableCardMove),R.enableStreetView!==void 0&&Dn(R.enableStreetView),R.enableTaskView!==void 0&&A(R.enableTaskView),R.taskViewWorkspaces!==void 0&&q(R.taskViewWorkspaces),R.taskViewRefreshInterval!==void 0&&ne(R.taskViewRefreshInterval),alert("Configuration imported! Click Save to persist changes.")}catch(R){console.error(R),alert("Failed to parse configuration file.")}},_.readAsText(T)},uy=new Set(g.flatMap(S=>S.listIds)),cy=m.filter(S=>!uy.has(S.id)),Ot=f.find(S=>S.id===d),ht=({checked:S,onChange:T,id:_})=>s.jsxs("label",{className:"switch",htmlFor:_,style:{pointerEvents:"none"},children:[s.jsx("input",{type:"checkbox",checked:S,onChange:T,id:_}),s.jsx("span",{className:"slider round"})]});return s.jsxs("div",{className:"settings-container",style:{maxWidth:"80%",width:"80%"},children:[l==="default"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:"Dashboard Settings"}),s.jsxs("div",{className:"admin-section",style:{marginBottom:"20px"},children:[s.jsx("h3",{children:"Choose your Trello Board"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px"},children:"Boards are pulled directly from your Trello account, across all workspaces."}),s.jsxs("select",{value:d,onChange:At,className:"board-select",children:[s.jsx("option",{value:"",children:"-- Choose a Board --"}),(()=>{const S={},T=[];f.forEach(O=>{if(O.organization){const R=O.organization.displayName||O.organization.name;S[R]||(S[R]=[]),S[R].push(O)}else T.push(O)});const _=Object.keys(S).sort((O,R)=>O.localeCompare(R));return s.jsxs(s.Fragment,{children:[_.map(O=>s.jsx("optgroup",{label:O,children:S[O].sort((R,we)=>R.name.localeCompare(we.name)).map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))},O)),T.length>0&&s.jsx("optgroup",{label:"Personal Boards",children:T.sort((O,R)=>O.name.localeCompare(R.name)).map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))})]})})()]})]}),s.jsxs("div",{className:"settings-tabs",children:[s.jsx("button",{className:`tab-button ${Mt==="dashboard"?"active":""}`,onClick:()=>dt("dashboard"),children:"Dashboard View Settings"}),s.jsx("button",{className:`tab-button ${Mt==="map"?"active":""}`,onClick:()=>{dt("map"),Dr()},children:"Map View Settings"}),s.jsx("button",{className:`tab-button ${Mt==="other"?"active":""}`,onClick:()=>dt("other"),children:"Other Board settings"}),s.jsx("button",{className:`tab-button ${Mt==="statistics"?"active":""}`,onClick:()=>dt("statistics"),children:"Statistics Settings"})]})]}),Ze&&s.jsx("div",{className:"error-banner",style:{background:"#ffebee",color:"#c62828",padding:"10px",marginBottom:"15px",borderRadius:"4px",border:"1px solid #ffcdd2",marginTop:"10px"},children:Ze}),nr&&s.jsxs("div",{className:"info-banner",style:{background:"#e3f2fd",color:"#0d47a1",padding:"15px",marginBottom:"15px",borderRadius:"4px",border:"1px solid #90caf9",marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Configuration Loaded:"})," Shared settings available for board ",s.jsx("strong",{children:nr.boardName||nr.boardId}),".",s.jsx("div",{style:{fontSize:"0.9em",marginTop:"4px"},children:"Unsaved changes will be lost if you apply this configuration."})]}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{onClick:Ve,style:{background:"#1976d2",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Apply"}),s.jsx("button",{onClick:ft,style:{background:"transparent",color:"#0d47a1",border:"1px solid #0d47a1",padding:"6px 12px",borderRadius:"4px",cursor:"pointer"},children:"Dismiss"})]})]}),s.jsxs(Fk,{onDragEnd:ty,children:[l==="default"&&s.jsx("div",{style:{display:"flex",borderBottom:"1px solid #ddd",marginBottom:"20px"},children:Mt==="dashboard"&&s.jsx("div",{className:"tab-content",children:Ot?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"admin-section",id:"section-2",children:[s.jsx("h3",{children:"1. Manage your Trellops blocks"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px"},children:"A block is a group of tiles representing each Trello list (or column). You will be able to assign one or multiple tiles to each block. Blocks can be shown or hidden on demand on the dashboard."}),s.jsx(li,{droppableId:"blocks-list",type:"BLOCK",children:S=>s.jsxs("div",{ref:S.innerRef,...S.droppableProps,children:[g.map((T,_)=>s.jsx(La,{draggableId:T.id,index:_,children:O=>s.jsxs("div",{ref:O.innerRef,...O.draggableProps,style:{display:"flex",gap:"10px",marginBottom:"8px",alignItems:"center",background:"#fff",padding:"8px",border:"1px solid #eee",borderRadius:"4px",...O.draggableProps.style},children:[s.jsx("div",{...O.dragHandleProps,className:"drag-handle",style:{color:"#ccc",marginRight:"5px"},children:"::"}),s.jsx("input",{type:"text",value:T.name,onChange:R=>Or(T.id,R.target.value),className:"block-name-input"}),s.jsx("button",{onClick:()=>ro(T.id),style:{color:"red",marginLeft:"auto",background:"none",border:"none",fontSize:"1.2rem",cursor:"pointer",fontWeight:"bold"},title:"Remove Block",children:"X"})]})},T.id)),S.placeholder]})}),s.jsx("button",{className:"add-block-button",onClick:rt,style:{marginTop:"10px"},children:"+ Add Block"})]}),s.jsxs("div",{className:"admin-section",id:"section-3",children:[s.jsx("h3",{children:"2. Assign tiles to your blocks"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px"},children:"Tiles show the total count of cards in each Trello list, automatically updating as the cards are created or moved. Choose from the Unassigned pool on the left, the lists you want to create as a tile in the respective block on the right. Then customise each tile position and colour."}),s.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"flex-start",marginTop:"15px"},children:[s.jsxs("div",{style:{flex:1,background:"#f8f9fa",padding:"10px",borderRadius:"6px",border:"1px solid #dee2e6"},children:[s.jsx("h4",{children:"Available Lists"}),s.jsx(li,{droppableId:"unassigned",type:"LIST",children:S=>s.jsxs("div",{ref:S.innerRef,...S.droppableProps,style:{minHeight:"100px"},children:[cy.map((T,_)=>s.jsx(La,{draggableId:T.id,index:_,children:O=>s.jsx("div",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,style:{padding:"8px",margin:"4px 0",background:"white",border:"1px solid #ddd",borderRadius:"4px",...O.draggableProps.style},children:T.name})},T.id)),S.placeholder]})})]}),s.jsx("div",{style:{flex:2,display:"flex",flexDirection:"column",gap:"15px"},children:g.map(S=>s.jsxs("div",{style:{background:"#e7f5ff",padding:"10px",borderRadius:"6px",border:"1px solid #a5d8ff"},children:[s.jsx("h4",{style:{margin:0,marginBottom:"10px"},children:S.name}),s.jsx("div",{style:{background:"rgba(255,255,255,0.5)",padding:"8px",borderRadius:"4px",marginBottom:"10px",fontSize:"0.85em"},children:s.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>Br(S.id,"ignoreFirstCard",!S.ignoreFirstCard),children:[s.jsx(ht,{checked:S.ignoreFirstCard,onChange:T=>Br(S.id,"ignoreFirstCard",T.target.checked)}),s.jsx("span",{children:"Do not count the first card in the total"})]}),S.ignoreFirstCard&&s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>Br(S.id,"displayFirstCardDescription",!S.displayFirstCardDescription),children:[s.jsx(ht,{checked:S.displayFirstCardDescription,onChange:T=>Br(S.id,"displayFirstCardDescription",T.target.checked)}),s.jsx("span",{children:"Display the first card as tile description"})]})]})}),s.jsx(li,{droppableId:S.id,type:"LIST",children:T=>s.jsxs("div",{ref:T.innerRef,...T.droppableProps,style:{minHeight:"50px"},children:[S.listIds.map((_,O)=>{const R=m.find(pe=>pe.id===_);if(!R)return null;const we=b[_]||"#0079bf";return s.jsx(La,{draggableId:_,index:O,children:pe=>s.jsxs("div",{ref:pe.innerRef,...pe.draggableProps,...pe.dragHandleProps,style:{padding:"8px",margin:"4px 0",background:"white",borderLeft:`5px solid ${we}`,borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",...pe.draggableProps.style},children:[s.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:R.name}),S.ignoreFirstCard&&S.displayFirstCardDescription&&R.cards&&R.cards.length>0&&s.jsxs("span",{style:{width:"20%",textAlign:"right",fontSize:"0.85em",color:"#666",fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flexShrink:0},children:["[",R.cards[0].name,"]"]}),s.jsx("input",{type:"color",value:we,onChange:Wt=>C({...b,[_]:Wt.target.value}),style:{width:"30px",height:"30px",padding:0,border:"none",background:"none",cursor:"pointer",flexShrink:0},title:"Tile Colour"})]})},_)}),T.placeholder]})})]},S.id))})]})]})]}):s.jsx("div",{style:{marginTop:"20px",fontStyle:"italic",color:"#666"},children:"Select a board to configure blocks"})})}),Mt==="map"&&s.jsx("div",{className:"tab-content",children:Ot?s.jsxs("div",{className:"admin-section",id:"section-5",children:[s.jsxs("h3",{children:["Map View Settings for ",Ot.name]}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"Map settings are saved per-board. Choose whether Map View is enabled and how geocoding should behave for cards on this board."}),s.jsxs("div",{className:"settings-row",style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>W(!P),children:[s.jsx(ht,{checked:P,onChange:S=>W(S.target.checked)}),s.jsx("span",{children:"Enable Map View"})]}),P&&s.jsxs("div",{style:{marginTop:"15px"},children:[s.jsxs("div",{style:{marginBottom:"15px",background:"#f8f9fa",padding:"10px",borderRadius:"4px",border:"1px solid #eee"},children:[s.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"8px"},children:"Geocoding behavior:"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px",opacity:.7},children:[s.jsx(ht,{checked:!0,onChange:()=>{}}),s.jsx("span",{style:{marginLeft:"8px"},children:'Read the coordinates from the Trello card "Location" field to display the card location'})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px",cursor:"pointer"},onClick:()=>{const S=U==="disabled"?"store":"disabled";J(S),S==="disabled"&&Ce(!1)},children:[s.jsx(ht,{checked:U!=="disabled",onChange:S=>{const T=S.target.checked?"store":"disabled";J(T),T==="disabled"&&Ce(!1)}}),s.jsxs("span",{style:{marginLeft:"8px"},children:["If no coordinates are present in the card, parse the card description to decode the coordinates for the card. (experimental)",s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.85em",color:"#666",fontStyle:"italic"},children:"Note: this will use Google Maps Geocoding API, and will store the coordinates locally on your browser cache"}),s.jsx("span",{style:{fontSize:"0.85em",color:"#666",fontStyle:"italic",display:"block",marginTop:"4px"},children:"Note: Cards without a description will be skipped."})]})]}),s.jsxs("div",{style:{marginLeft:"25px",marginBottom:"15px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",opacity:U==="disabled"?.5:1,pointerEvents:U==="disabled"?"none":"auto",cursor:U==="disabled"?"default":"pointer"},onClick:()=>Ce(!X),children:[s.jsx(ht,{checked:X,onChange:S=>Ce(S.target.checked)}),s.jsxs("span",{style:{marginLeft:"8px"},children:["Update the Trello card coordinates using the decoded address from Google Maps (beta).",s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.85em",color:"#666",fontStyle:"italic"},children:"It is recommended to only have one dashboard enabled with this feature for each Trello board"})]})]}),X&&!ye&&s.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#e3f2fd",border:"1px solid #90caf9",borderRadius:"4px",color:"#0d47a1",fontSize:"0.9em"},children:[s.jsx("strong",{children:"Permission Required:"}),' To update card coordinates, you must grant Trello "Write" access.',s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.9em",marginTop:"5px",display:"block"},children:"The location cache on your computer will be reset for the cards to be decoded again."}),s.jsx("button",{onClick:()=>$n.login("read,write"),style:{display:"block",marginTop:"8px",padding:"5px 10px",background:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Authorize Write Access (Re-Login)"})]}),X&&ye&&s.jsxs("div",{style:{marginTop:"5px",color:"green",fontSize:"0.9em",display:"flex",alignItems:"center"},children:[s.jsx("span",{style:{marginRight:"5px"},children:""})," Write permissions successfully granted."]})]})]}),s.jsx("h4",{children:"Block Map Options"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"Choose which blocks appear on the map and customize their markers."}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px",marginBottom:"20px"},children:g.map(S=>s.jsxs("div",{style:{background:"#f8f9fa",padding:"10px",borderRadius:"6px",border:"1px solid #dee2e6"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h4",{style:{margin:0},children:S.name}),s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>Br(S.id,"includeOnMap",!S.includeOnMap),children:[s.jsx(ht,{checked:S.includeOnMap,onChange:T=>Br(S.id,"includeOnMap",T.target.checked)}),s.jsx("span",{children:"Show on map"})]})]}),S.includeOnMap&&s.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid rgba(0,0,0,0.1)"},children:[s.jsx("label",{style:{fontSize:"0.85em",fontWeight:"bold",display:"block",marginBottom:"5px"},children:"Icon:"}),s.jsx("div",{style:{width:"100%"},children:s.jsx(ru,{selectedIcon:S.mapIcon,onChange:T=>Br(S.id,"mapIcon",T)})})]})]},S.id))}),s.jsxs("div",{className:"admin-section",style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"15px"},children:[s.jsx("h3",{children:"Marker Variants"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"Choose alternative display options for cards based on their Trello label value. You can choose to display a marker with a different colour or icon. In case of conflicts, the rule higher in the list will be applied."}),s.jsx(li,{droppableId:"marker-rules",type:"RULE",children:S=>s.jsxs("div",{ref:S.innerRef,...S.droppableProps,className:"rules-list",children:[It.map((T,_)=>s.jsx(La,{draggableId:T.id,index:_,children:O=>s.jsxs("div",{ref:O.innerRef,...O.draggableProps,className:"rule-item",style:{display:"flex",gap:"10px",alignItems:"center",background:"#fff",padding:"10px",marginBottom:"5px",border:"1px solid #eee",flexWrap:"wrap",...O.draggableProps.style},children:[s.jsx("div",{...O.dragHandleProps,className:"drag-handle",style:{color:"#ccc",marginRight:"5px"},children:"::"}),s.jsxs("select",{value:T.labelId,onChange:R=>Uo(T.id,"labelId",R.target.value),children:[s.jsx("option",{value:"",children:"-- Label --"}),k.map(R=>s.jsx("option",{value:R.id,children:R.name||R.color},R.id))]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsxs("label",{children:[s.jsx("input",{type:"radio",checked:T.overrideType==="color",onChange:()=>Uo(T.id,"overrideType","color")})," Color"]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",checked:T.overrideType==="icon",onChange:()=>Uo(T.id,"overrideType","icon")})," Icon"]})]}),s.jsx("div",{style:{flex:1,minWidth:"200px"},children:T.overrideType==="color"?s.jsx(R2,{selectedColor:T.overrideValue,onChange:R=>Uo(T.id,"overrideValue",R)}):s.jsx("div",{style:{width:"100%"},children:s.jsx(ru,{selectedIcon:T.overrideValue,onChange:R=>Uo(T.id,"overrideValue",R)})})}),s.jsx("button",{onClick:()=>ny(T.id),style:{color:"red",marginLeft:"auto"},children:"X"})]})},T.id)),S.placeholder]})}),s.jsx("button",{onClick:ry,style:{marginTop:"10px"},children:"+ Add Rule"})]}),s.jsx("div",{className:"admin-section",style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"15px"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",cursor:"pointer"},onClick:()=>Dn(!En),children:[s.jsx(ht,{checked:En,onChange:S=>Dn(S.target.checked)}),s.jsxs("span",{style:{marginLeft:"10px"},children:[s.jsx("strong",{children:"Show street view"}),s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.9em",color:"#666"},children:"Enable to add a link to a Google Street View of the address that will open in a new window"})]})]})}),s.jsxs("div",{className:"admin-section",style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"15px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",cursor:"pointer"},onClick:()=>he(!ue),children:[s.jsx(ht,{checked:ue,onChange:S=>{S.target.checked,he(S.target.checked)}}),s.jsxs("span",{style:{marginLeft:"10px"},children:[s.jsx("strong",{children:"Enable card move from the map view"}),s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.9em",color:"#666"},children:'Display a dropdown allowing to move a card to another list from the visible block directly from a marker on the map. This requires "write" access to your Trello board for Trellops to move the cards on your behalf'})]})]}),ue&&!ye&&s.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#e3f2fd",border:"1px solid #90caf9",borderRadius:"4px",color:"#0d47a1",fontSize:"0.9em"},children:[s.jsx("strong",{children:"Permission Required:"}),' To move cards, you must grant Trello "Write" access.',s.jsx("br",{}),s.jsx("button",{onClick:()=>$n.login("read,write"),style:{display:"block",marginTop:"8px",padding:"5px 10px",background:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Authorize Write Access (Re-Login)"})]}),ue&&ye&&s.jsxs("div",{style:{marginTop:"5px",color:"green",fontSize:"0.9em",display:"flex",alignItems:"center"},children:[s.jsx("span",{style:{marginRight:"5px"},children:""})," Write permissions successfully granted."]})]}),s.jsxs("div",{className:"admin-section",style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"15px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",cursor:"pointer"},onClick:()=>tt(!ze),children:[s.jsx(ht,{checked:ze,onChange:S=>tt(S.target.checked)}),s.jsxs("span",{style:{marginLeft:"10px"},children:[s.jsx("strong",{children:"Set home location"}),s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.9em",color:"#666"},children:"Set a home address that will be permanently displayed on the map for this board."})]})]}),ze&&s.jsxs("div",{style:{marginLeft:"50px",marginTop:"10px"},children:[s.jsxs("div",{style:{marginBottom:"10px"},ref:oe,children:[s.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",fontSize:"0.9em"},children:"Home Address"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:ce,onChange:pt,placeholder:"Start typing your address...",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"}}),ee&&s.jsx("div",{style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",color:"#888",fontSize:"0.8em"},children:"Searching..."}),H.length>0&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,background:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",maxHeight:"200px",overflowY:"auto"},children:H.map((S,T)=>s.jsx("div",{onClick:()=>it(S),style:{padding:"8px 12px",cursor:"pointer",borderBottom:T<H.length-1?"1px solid #eee":"none",fontSize:"0.9em",color:"black"},onMouseEnter:_=>_.target.style.background="#f5f5f5",onMouseLeave:_=>_.target.style.background="white",children:S.description},T))})]}),re&&!ee&&H.length===0&&s.jsxs("div",{style:{fontSize:"0.85em",color:"green",marginTop:"5px"},children:["Resolved: ",re.display_name]})]}),s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",fontSize:"0.9em"},children:"Marker Icon"}),s.jsx(ru,{selectedIcon:Y,onChange:fe,color:"#444"})]})]})]}),s.jsxs("div",{className:"admin-section",style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"15px"},children:[s.jsx("h3",{children:"Reset coordinates cache"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"Use this button to remove all card coordinates on your local computer. This is to be used for troubleshooting purposes and will trigger a re-fetch using Nominatim"}),s.jsx("button",{className:"button-secondary",style:{borderColor:"#d32f2f",color:"#d32f2f"},onClick:()=>{if(window.confirm("Are you sure you want to clear the local geocoding cache? This will force addresses to be re-fetched from Nominatim."))try{const S=`MAP_GEOCODING_CACHE_${Ot.id}`;localStorage.removeItem(S),alert("Cache cleared successfully.")}catch{alert("Failed to clear cache")}},children:"Reset Location Cache"})]})]})]}):s.jsx("div",{style:{marginTop:"20px",fontStyle:"italic",color:"#666"},children:"Select a board to configure map settings"})}),Mt==="statistics"&&s.jsx("div",{className:"tab-content",children:Ot?s.jsxs("div",{className:"admin-section",id:"section-stats",children:[s.jsxs("h3",{children:["Statistics View Settings for ",Ot.name]}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"Configure the historical data analysis view."}),s.jsxs("div",{className:"settings-row",style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>Vo(!eo),children:[s.jsx(ht,{checked:eo,onChange:S=>Vo(S.target.checked)}),s.jsx("span",{children:"Enable Statistics View"})]}),eo&&s.jsxs("div",{style:{marginTop:"15px",marginLeft:"20px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginBottom:"15px"},onClick:()=>Tn(!to),children:[s.jsx(ht,{checked:to,onChange:S=>Tn(S.target.checked)}),s.jsx("span",{children:"Show output for Archived cards"})]}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"8px"},children:"Lists to include in reports:"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-5px"},children:'Uncheck to exclude specific lists (e.g. "Done" or "Backlog") from statistics.'}),s.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",border:"1px solid #ddd",padding:"10px",borderRadius:"4px",background:"white"},children:(()=>{const S=od(e.id,settings.boardId)||xl,T={},_=new Set;S.forEach(R=>{const we=m.filter(pe=>R.listIds.includes(pe.id));we.length>0&&(T[R.name]=we,we.forEach(pe=>_.add(pe.id)))});const O=m.filter(R=>!_.has(R.id));return O.length>0&&(T["Other Lists"]=O),Object.keys(T).length===0?s.jsx("div",{style:{fontStyle:"italic",color:"#888"},children:"No lists found."}):Object.entries(T).map(([R,we])=>s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em",color:"#444",marginBottom:"5px",borderBottom:"1px solid #eee"},children:R}),we.map(pe=>s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px",marginLeft:"10px"},children:[s.jsx("input",{type:"checkbox",id:`stat-list-${pe.id}`,checked:statsIncludedLists.length===0||statsIncludedLists.includes(pe.id),onChange:Wt=>{if(Wt.target.checked)setStatsIncludedLists(or=>[...or,pe.id]);else if(statsIncludedLists.length===0){const or=m.map(zr=>zr.id).filter(zr=>zr!==pe.id);setStatsIncludedLists(or)}else setStatsIncludedLists(or=>or.filter(zr=>zr!==pe.id))},style:{marginRight:"8px"}}),s.jsx("label",{htmlFor:`stat-list-${pe.id}`,style:{cursor:"pointer"},children:pe.name})]},pe.id))]},R))})()}),s.jsx("button",{className:"button-link",style:{fontSize:"0.8em",padding:"5px 0",background:"none",border:"none",color:"#0079bf",cursor:"pointer",textDecoration:"underline"},onClick:()=>setStatsIncludedLists([]),children:"Select All (Clear Filter)"})]})]})]}):s.jsx("div",{style:{marginTop:"20px",fontStyle:"italic",color:"#666"},children:"Select a board to configure settings"})}),Mt==="other"&&s.jsxs("div",{className:"tab-content",children:[Ot?s.jsxs("div",{className:"admin-section",id:"section-4",children:[s.jsxs("h3",{children:["Other Settings for ",Ot.name]}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"These settings are saved separately for each Trello board. Auto-refresh must be at least 15 seconds; recommended 30 seconds for live displays. The digital clock appears in the top-left corner of the screen and follows the local computer time format. Template Cards in Trello can be excluded from the count (recommended); completed cards can also be excluded."}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"5px"},children:"Refresh Interval"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("input",{type:"number",min:I==="seconds"?15:1,value:E,onChange:S=>D(S.target.value),style:{width:"60px",padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}}),s.jsxs("select",{value:I,onChange:S=>N(S.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[s.jsx("option",{value:"seconds",children:"Seconds"}),s.jsx("option",{value:"minutes",children:"Minutes"}),s.jsx("option",{value:"hours",children:"Hours"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"5px"},children:"Features"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>V(!L),children:[s.jsx(ht,{checked:L,onChange:S=>V(S.target.checked)}),s.jsx("span",{children:"Show Clock"}),L&&s.jsx("span",{style:{marginLeft:"15px",color:"#555",fontFamily:"monospace",background:"#f0f0f0",padding:"2px 6px",borderRadius:"4px",border:"1px solid #ddd"},children:new Date().toLocaleTimeString()})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>le(!K),children:[s.jsx(ht,{checked:K,onChange:S=>le(S.target.checked)}),s.jsx("span",{children:"Ignore Template Cards"})]}),s.jsxs("div",{className:"setting-item-row",onClick:()=>ke(!ie),style:{cursor:"pointer",display:"flex",alignItems:"flex-start"},children:[s.jsx("div",{style:{marginTop:"2px"},children:s.jsx(ht,{id:"ignoreNoDescCards",checked:ie,onChange:S=>ke(S.target.checked)})}),s.jsxs("div",{style:{marginLeft:"10px"},children:[s.jsx("label",{htmlFor:"ignoreNoDescCards",style:{cursor:"pointer"},children:"Ignore Cards without Description"}),s.jsx("span",{style:{display:"block",fontSize:"0.85em",color:"#666",fontWeight:"normal",marginTop:"2px"},children:"If enabled, cards with empty descriptions will not be counted in dashboard or placed on the map. (First card description usage is unaffected)."})]})]}),s.jsxs("div",{className:"setting-item-row",onClick:()=>Ie(!se),style:{cursor:"pointer"},children:[s.jsx(ht,{id:"ignoreCompletedCards",checked:se,onChange:S=>Ie(S.target.checked)}),s.jsx("label",{htmlFor:"ignoreCompletedCards",style:{marginLeft:"10px",cursor:"pointer"},children:"Ignore Completed Cards (Due Complete)"})]})]})]})]})]}):s.jsx("div",{style:{marginTop:"20px",fontStyle:"italic",color:"#666"},children:"Select a board to configure settings"}),s.jsxs("div",{className:"danger-zone",style:{marginTop:"40px",paddingTop:"10px"},children:[s.jsx("style",{children:`
                                .danger-header:hover { background-color: #fff0f0; }
                             `}),s.jsxs("div",{className:"danger-header",onClick:()=>ms(!_o),style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px"},children:[s.jsx("h4",{style:{color:"black",margin:0},children:" Global settings reset"}),s.jsx("span",{style:{fontSize:"1.2em",color:"#d32f2f"},children:_o?"":""})]}),_o&&s.jsxs("div",{style:{backgroundColor:"#fff0f0",padding:"15px",borderRadius:"4px",border:"1px solid #ffcdcd",marginTop:"10px"},children:[s.jsxs("p",{style:{fontSize:"0.9em",color:"#8b0000",marginBottom:"10px"},children:["Resetting your settings will remove any locally stored information including dashboard and map configuration for ",s.jsx("strong",{children:"ALL boards"}),", as well as decoded geolocations."]}),s.jsx("p",{style:{fontSize:"0.9em",color:"#8b0000",marginBottom:"15px"},children:"Your Trello account will NOT be affected, nor will your Trellops subscriptions."}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("strong",{style:{display:"block",marginBottom:"5px",color:"#8b0000",fontSize:"0.85em"},children:"The reset will erase all the information stored below; it is recommended that you back up each configuration first."}),s.jsx("ul",{style:{margin:"5px 0 10px 20px",fontSize:"0.85em",color:"#8b0000"},children:(()=>{const T=JSON.parse(localStorage.getItem("trelloUserData")||"{}")[e==null?void 0:e.id]||{},_=Object.keys(T.dashboardLayout||{}),O=Object.keys(T.listColors||{}),R=new Set([..._,...O]);return R.size===0?s.jsx("li",{children:"No cached configurations found."}):Array.from(R).map(we=>{var Wt;const pe=((Wt=f.find(or=>or.id===we))==null?void 0:Wt.name)||we;return s.jsxs("li",{children:[pe," ",s.jsxs("span",{style:{color:"#b71c1c",fontSize:"0.8em"},children:["(",we,")"]})]},we)})})()})]}),s.jsx("button",{onClick:()=>{if(confirm(`ARE YOU SURE you want to DELETE ALL LOCAL SETTINGS?

This cannot be undone.`)){const S=JSON.parse(localStorage.getItem("trelloUserData")||"{}");e!=null&&e.id&&delete S[e.id],localStorage.setItem("trelloUserData",JSON.stringify(S));const T=[];for(let _=0;_<localStorage.length;_++){const O=localStorage.key(_);O&&(O.startsWith("TRELLO_")||O.startsWith("MAP_GEOCODING_CACHE_")||O.startsWith("updateTrelloCoordinates_")||O.startsWith("enableCardMove_")||O.startsWith("enableStreetView_")||O.startsWith("refreshInterval_"))&&T.push(O)}T.forEach(_=>localStorage.removeItem(_)),alert("All local cache has been reset. The application will reload."),window.location.reload()}},style:{backgroundColor:"#d32f2f",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Reset My Trellops Stored Cache"})]})]})]}),l==="default"&&s.jsxs("div",{className:"actions-container",style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("button",{className:"save-layout-button",onClick:oy,children:"Save Settings"}),s.jsx("button",{className:"button-secondary",onClick:r,children:"Cancel"}),Mt!=="tasks"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"button-secondary",onClick:()=>Ut(!0),children:"Share Configuration"}),s.jsx("button",{className:"button-secondary",onClick:()=>Er(!0),children:"More..."})]})]})]}),l==="default"&&s.jsx("div",{style:{marginTop:"30px",borderTop:"1px solid #eee",paddingTop:"20px"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Looking for Task View settings?"}),s.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"0.9em",color:"#666"},children:"Use the dedicated page to configure your global task dashboard."})]}),s.jsx("a",{href:"/tasks/settings",onClick:S=>{window.history.pushState({},"","/tasks/settings"),u?u():window.dispatchEvent(new Event("popstate"))},className:"button-secondary",style:{textDecoration:"none",display:"inline-block"},children:"Manage Tasks View"})]})}),l==="tasks"&&s.jsxs("div",{className:"admin-section",id:"section-tasks",style:{marginTop:"0",borderTop:"none"},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0"},children:s.jsxs("h2",{style:{margin:0},children:[e.fullName||e.displayName||e.username," Tasks View Settings"]})}),s.jsxs("div",{style:{paddingTop:"10px"},children:[s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:`This is a separate feature, independent from the dashboard and map views. Enable a "Bird's Eye View" dashboard to see all your assigned tasks (checklists) and cards across ALL your workspaces and boards in one place.`}),s.jsxs("div",{className:"settings-row",style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>A(!j),children:[s.jsx(ht,{checked:j,onChange:S=>A(S.target.checked)}),s.jsx("span",{children:"Enable Tasks View"})]}),j&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{marginTop:"10px",fontSize:"0.9em",color:"green",display:"flex",alignItems:"center",marginBottom:"20px"},children:[s.jsx("span",{style:{marginRight:"5px"},children:""}),' A "Tasks View" button will appear in the main navigation footer.']}),s.jsxs("div",{className:"setting-group",style:{marginBottom:"20px"},children:[s.jsx("label",{className:"setting-label",children:"Workspaces to Include"}),s.jsx("div",{style:{fontSize:"0.85em",color:"#666",marginBottom:"5px"},children:"Select which workspaces to show tasks from. At least one workspace must be selected."}),s.jsx("div",{style:{maxHeight:"150px",overflowY:"auto",border:"1px solid #ddd",padding:"10px",borderRadius:"4px"},children:ge.length===0?s.jsx("div",{style:{fontStyle:"italic",color:"#888"},children:"Loading workspaces..."}):ge.map(S=>s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[s.jsx("input",{type:"checkbox",id:`ws-${S.id}`,checked:M&&M.includes(S.id),onChange:T=>{T.target.checked?q([...M||[],S.id]):M.length>1?q(M.filter(_=>_!==S.id)):alert("At least one workspace must be selected.")},style:{marginRight:"8px"}}),s.jsx("label",{htmlFor:`ws-${S.id}`,style:{cursor:"pointer"},children:S.displayName})]},S.id))})]}),s.jsxs("div",{className:"setting-group",style:{marginBottom:"20px"},children:[s.jsx("label",{className:"setting-label",children:"Auto-Refresh Interval"}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.jsx("input",{type:"number",min:"1",value:$.value,onChange:S=>ne({...$,value:parseInt(S.target.value)||1}),style:{width:"60px",padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}}),s.jsxs("select",{value:$.unit,onChange:S=>ne({...$,unit:S.target.value}),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[s.jsx("option",{value:"minutes",children:"Minutes"}),s.jsx("option",{value:"hours",children:"Hours"})]})]}),s.jsx("div",{style:{fontSize:"0.85em",color:"#666",marginTop:"5px"},children:"Minimum 1 minute."})]})]}),s.jsxs("div",{className:"actions-container",style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"20px"},children:[s.jsx("button",{className:"button-secondary",onClick:iy,children:"Save Tasks Settings"}),s.jsx("button",{className:"button-secondary",onClick:r,children:"Cancel"})]})]})]}),s.jsxs("div",{style:{textAlign:"center",marginTop:"30px",marginBottom:"10px",fontSize:"0.85em",color:"#aaa",fontWeight:"bold"},children:["v4.5.","G2YE"," - Jan 09, 2026"]}),Xe&&s.jsx(N2,{config:Hd(),onClose:()=>Ut(!1),boardName:Ot==null?void 0:Ot.name}),Cn&&s.jsx(T2,{onClose:()=>Er(!1),onReset:ay,onExport:ly,onImport:sy,selectedBoardId:d,boardName:Ot==null?void 0:Ot.name})]})},P2=({blocks:e,lists:t,allLabels:r,cards:n,markerRules:o,visibleListIds:i,visibleRuleIds:a,onToggleList:l,onToggleBlock:u,onToggleRule:c,onToggleAllBlocks:f,onToggleAllRules:p,homeLocation:d,showHomeLocation:h,onToggleHome:m})=>{const[x,k]=w.useState(!1),v=I=>n?n.filter(N=>N.idList===I&&N.coordinates&&N.coordinates.lat).length:0,g=I=>!n||!I?0:n.filter(N=>I.listIds.includes(N.idList)&&N.coordinates&&N.coordinates.lat).length,y=(I,N)=>{if(!n)return 0;const L=n.filter(V=>V.coordinates&&V.coordinates.lat);return N?L.filter(V=>{for(const K of o)if(V.labels&&V.labels.some(le=>le.id===K.labelId))return!1;return!0}).length:L.filter(V=>V.labels&&V.labels.some(K=>K.id===I.labelId)).length},b=I=>s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",style:{marginRight:"6px",verticalAlign:"middle"},dangerouslySetInnerHTML:{__html:Qn[I?I.toLowerCase():"map-marker"]||Qn["map-marker"]}}),C=I=>{const L={blue:"#3388ff",red:"#ff6b6b",green:"#51cf66",orange:"#ffa94d",yellow:"#ffd43b",grey:"#868e96",black:"#343a40",purple:"#9c27b0"}[I]||I;return s.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:L,display:"inline-block",marginRight:"8px",verticalAlign:"middle",border:"1px solid rgba(0,0,0,0.2)"}})};if(!x)return s.jsxs("div",{className:"map-filters-overlay collapsed",onClick:()=>k(!0),children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"filter-icon",children:[s.jsx("path",{d:"M3 6H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M7 12H17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M10 18H14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Filters"]});const E=e.filter(I=>I.includeOnMap!==!1).flatMap(I=>I.listIds);E.length>0&&E.every(I=>i.has(I)),E.some(I=>i.has(I));const D=o.map(I=>I.id).concat(["default"]);return D.every(I=>a.has(I)),D.some(I=>a.has(I)),s.jsxs("div",{className:"map-filters-overlay expanded",children:[s.jsxs("div",{className:"filters-header",onClick:()=>k(!1),children:[s.jsx("h3",{children:"Filters"}),s.jsx("span",{className:"close-filters",children:""})]}),s.jsxs("div",{className:"filters-content",children:[s.jsxs("div",{className:"filter-section",children:[s.jsx("div",{className:"section-header-row",children:s.jsx("h4",{children:"Blocks"})}),e.filter(I=>I.includeOnMap!==!1).map(I=>{const N=I.listIds,L=N.every(K=>i.has(K)),V=N.some(K=>i.has(K));return s.jsxs("div",{className:"filter-group",children:[s.jsx("div",{className:"filter-row block-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:L,ref:K=>{K&&(K.indeterminate=V&&!L)},onChange:K=>u(I.id,K.target.checked)}),s.jsxs("span",{className:"label-text",children:[b(I.mapIcon),I.name," ",s.jsxs("span",{style:{opacity:.6,marginLeft:"4px"},children:["(",g(I),")"]})]})]})}),s.jsx("div",{className:"nested-lists",children:I.listIds.map(K=>{const le=t.find(se=>se.id===K);return le?s.jsx("div",{className:"filter-row list-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:i.has(K),onChange:()=>l(K)}),s.jsxs("span",{className:"label-text",children:[le.name," ",s.jsxs("span",{style:{opacity:.6,marginLeft:"4px"},children:["(",v(K),")"]})]})]})},K):null})})]},I.id)})]}),s.jsxs("div",{className:"filter-section",children:[s.jsx("div",{className:"section-header-row",children:s.jsx("h4",{children:"Marker Variants"})}),s.jsx("div",{className:"filter-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:a.has("default"),onChange:()=>c("default")}),s.jsxs("span",{className:"label-text",children:[C("blue"),"Default / No Rule ",s.jsxs("span",{style:{opacity:.6,marginLeft:"4px"},children:["(",y(null,!0),")"]})]})]})}),o.map(I=>s.jsx("div",{className:"filter-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:a.has(I.id),onChange:()=>c(I.id)}),s.jsxs("span",{className:"label-text",children:[I.overrideType==="color"?C(I.overrideValue):b(I.overrideValue),(()=>{const N=r?r.find(L=>L.id===I.labelId):null;return N?N.name:I.labelName||"Unknown Label"})(),s.jsxs("span",{style:{opacity:.6,marginLeft:"4px"},children:["(",y(I,!1),")"]})]})]})},I.id))]}),d&&s.jsx("div",{className:"filter-section",style:{borderTop:"1px solid #eee",paddingTop:"10px"},children:s.jsx("div",{className:"filter-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:h,onChange:m}),s.jsxs("span",{className:"label-text",children:[b(d.icon),s.jsx("strong",{children:"Home"})]})]})})})]})]})},Uv=()=>Promise.reject(new Error("Google Maps API Key is missing. Please check VITE_GOOGLE_MAPS_API_KEY env var.")),L2=Object.freeze(Object.defineProperty({__proto__:null,loadGoogleMaps:Uv},Symbol.toStringTag,{value:"Module"}));function Od(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Xn=Od();function Wv(e){Xn=e}var Si={exec:()=>null};function Se(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(o,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(jt.caret,"$1"),r=r.replace(o,a),n},getRegex:()=>new RegExp(r,t)};return n}var M2=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),jt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},A2=/^(?:[ \t]*(?:\n|$))+/,O2=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,B2=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,sa=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,z2=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Bd=/(?:[*+-]|\d{1,9}[.)])/,Hv=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Gv=Se(Hv).replace(/bull/g,Bd).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),$2=Se(Hv).replace(/bull/g,Bd).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),zd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,F2=/^[^\n]+/,$d=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,_2=Se(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",$d).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),V2=Se(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Bd).getRegex(),hs="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Fd=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,U2=Se("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Fd).replace("tag",hs).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),qv=Se(zd).replace("hr",sa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hs).getRegex(),W2=Se(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",qv).getRegex(),_d={blockquote:W2,code:O2,def:_2,fences:B2,heading:z2,hr:sa,html:U2,lheading:Gv,list:V2,newline:A2,paragraph:qv,table:Si,text:F2},Jf=Se("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",sa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hs).getRegex(),H2={..._d,lheading:$2,table:Jf,paragraph:Se(zd).replace("hr",sa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Jf).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hs).getRegex()},G2={..._d,html:Se(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Fd).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Si,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Se(zd).replace("hr",sa).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Gv).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},q2=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Q2=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Qv=/^( {2,}|\\)\n(?!\s*$)/,Y2=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,gs=/[\p{P}\p{S}]/u,Vd=/[\s\p{P}\p{S}]/u,Yv=/[^\s\p{P}\p{S}]/u,K2=Se(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Vd).getRegex(),Kv=/(?!~)[\p{P}\p{S}]/u,J2=/(?!~)[\s\p{P}\p{S}]/u,Z2=/(?:[^\s\p{P}\p{S}]|~)/u,X2=Se(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",M2?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Jv=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,eC=Se(Jv,"u").replace(/punct/g,gs).getRegex(),tC=Se(Jv,"u").replace(/punct/g,Kv).getRegex(),Zv="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",rC=Se(Zv,"gu").replace(/notPunctSpace/g,Yv).replace(/punctSpace/g,Vd).replace(/punct/g,gs).getRegex(),nC=Se(Zv,"gu").replace(/notPunctSpace/g,Z2).replace(/punctSpace/g,J2).replace(/punct/g,Kv).getRegex(),oC=Se("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Yv).replace(/punctSpace/g,Vd).replace(/punct/g,gs).getRegex(),iC=Se(/\\(punct)/,"gu").replace(/punct/g,gs).getRegex(),aC=Se(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),lC=Se(Fd).replace("(?:-->|$)","-->").getRegex(),sC=Se("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",lC).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),jl=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,uC=Se(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",jl).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Xv=Se(/^!?\[(label)\]\[(ref)\]/).replace("label",jl).replace("ref",$d).getRegex(),ey=Se(/^!?\[(ref)\](?:\[\])?/).replace("ref",$d).getRegex(),cC=Se("reflink|nolink(?!\\()","g").replace("reflink",Xv).replace("nolink",ey).getRegex(),Zf=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Ud={_backpedal:Si,anyPunctuation:iC,autolink:aC,blockSkip:X2,br:Qv,code:Q2,del:Si,emStrongLDelim:eC,emStrongRDelimAst:rC,emStrongRDelimUnd:oC,escape:q2,link:uC,nolink:ey,punctuation:K2,reflink:Xv,reflinkSearch:cC,tag:sC,text:Y2,url:Si},dC={...Ud,link:Se(/^!?\[(label)\]\((.*?)\)/).replace("label",jl).getRegex(),reflink:Se(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jl).getRegex()},ic={...Ud,emStrongRDelimAst:nC,emStrongLDelim:tC,url:Se(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Zf).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Se(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Zf).getRegex()},pC={...ic,br:Se(Qv).replace("{2,}","*").getRegex(),text:Se(ic.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ma={normal:_d,gfm:H2,pedantic:G2},ti={normal:Ud,gfm:ic,breaks:pC,pedantic:dC},fC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xf=e=>fC[e];function $r(e,t){if(t){if(jt.escapeTest.test(e))return e.replace(jt.escapeReplace,Xf)}else if(jt.escapeTestNoEncode.test(e))return e.replace(jt.escapeReplaceNoEncode,Xf);return e}function eh(e){try{e=encodeURI(e).replace(jt.percentDecode,"%")}catch{return null}return e}function th(e,t){var i;let r=e.replace(jt.findPipe,(a,l,u)=>{let c=!1,f=l;for(;--f>=0&&u[f]==="\\";)c=!c;return c?"|":" |"}),n=r.split(jt.splitPipe),o=0;if(n[0].trim()||n.shift(),n.length>0&&!((i=n.at(-1))!=null&&i.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(jt.slashPipe,"|");return n}function ri(e,t,r){let n=e.length;if(n===0)return"";let o=0;for(;o<n&&e.charAt(n-o-1)===t;)o++;return e.slice(0,n-o)}function hC(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function rh(e,t,r,n,o){let i=t.href,a=t.title||null,l=e[1].replace(o.other.outputLinkReplace,"$1");n.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:i,title:a,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,u}function gC(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let o=n[1];return t.split(`
`).map(i=>{let a=i.match(r.other.beginningSpace);if(a===null)return i;let[l]=a;return l.length>=o.length?i.slice(o.length):i}).join(`
`)}var Rl=class{constructor(e){Ne(this,"options");Ne(this,"rules");Ne(this,"lexer");this.options=e||Xn}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ri(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],n=gC(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){let n=ri(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:ri(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=ri(t[0],`
`).split(`
`),n="",o="",i=[];for(;r.length>0;){let a=!1,l=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))l.push(r[u]),a=!0;else if(!a)l.push(r[u]);else break;r=r.slice(u);let c=l.join(`
`),f=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,o=o?`${o}
${f}`:f;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,i,!0),this.lexer.state.top=p,r.length===0)break;let d=i.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){let h=d,m=h.raw+`
`+r.join(`
`),x=this.blockquote(m);i[i.length-1]=x,n=n.substring(0,n.length-h.raw.length)+x.raw,o=o.substring(0,o.length-h.text.length)+x.text;break}else if((d==null?void 0:d.type)==="list"){let h=d,m=h.raw+`
`+r.join(`
`),x=this.list(m);i[i.length-1]=x,n=n.substring(0,n.length-d.raw.length)+x.raw,o=o.substring(0,o.length-h.raw.length)+x.raw,r=m.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:i,text:o}}}list(e){var r,n;let t=this.rules.block.list.exec(e);if(t){let o=t[1].trim(),i=o.length>1,a={type:"list",raw:"",ordered:i,start:i?+o.slice(0,-1):"",loose:!1,items:[]};o=i?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=i?o:"[*+-]");let l=this.rules.other.listItemRegex(o),u=!1;for(;e;){let f=!1,p="",d="";if(!(t=l.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let h=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),m=e.split(`
`,1)[0],x=!h.trim(),k=0;if(this.options.pedantic?(k=2,d=h.trimStart()):x?k=t[1].length+1:(k=t[2].search(this.rules.other.nonSpaceChar),k=k>4?1:k,d=h.slice(k),k+=t[1].length),x&&this.rules.other.blankLine.test(m)&&(p+=m+`
`,e=e.substring(m.length+1),f=!0),!f){let v=this.rules.other.nextBulletRegex(k),g=this.rules.other.hrRegex(k),y=this.rules.other.fencesBeginRegex(k),b=this.rules.other.headingBeginRegex(k),C=this.rules.other.htmlBeginRegex(k);for(;e;){let E=e.split(`
`,1)[0],D;if(m=E,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),D=m):D=m.replace(this.rules.other.tabCharGlobal,"    "),y.test(m)||b.test(m)||C.test(m)||v.test(m)||g.test(m))break;if(D.search(this.rules.other.nonSpaceChar)>=k||!m.trim())d+=`
`+D.slice(k);else{if(x||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||y.test(h)||b.test(h)||g.test(h))break;d+=`
`+m}!x&&!m.trim()&&(x=!0),p+=E+`
`,e=e.substring(E.length+1),h=D.slice(k)}}a.loose||(u?a.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(u=!0)),a.items.push({type:"list_item",raw:p,task:!!this.options.gfm&&this.rules.other.listIsTask.test(d),loose:!1,text:d,tokens:[]}),a.raw+=p}let c=a.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let f of a.items){if(this.lexer.state.top=!1,f.tokens=this.lexer.blockTokens(f.text,[]),f.task){if(f.text=f.text.replace(this.rules.other.listReplaceTask,""),((r=f.tokens[0])==null?void 0:r.type)==="text"||((n=f.tokens[0])==null?void 0:n.type)==="paragraph"){f.tokens[0].raw=f.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),f.tokens[0].text=f.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let d=this.lexer.inlineQueue.length-1;d>=0;d--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[d].src)){this.lexer.inlineQueue[d].src=this.lexer.inlineQueue[d].src.replace(this.rules.other.listReplaceTask,"");break}}let p=this.rules.other.listTaskCheckbox.exec(f.raw);if(p){let d={type:"checkbox",raw:p[0]+" ",checked:p[0]!=="[ ]"};f.checked=d.checked,a.loose?f.tokens[0]&&["paragraph","text"].includes(f.tokens[0].type)&&"tokens"in f.tokens[0]&&f.tokens[0].tokens?(f.tokens[0].raw=d.raw+f.tokens[0].raw,f.tokens[0].text=d.raw+f.tokens[0].text,f.tokens[0].tokens.unshift(d)):f.tokens.unshift({type:"paragraph",raw:d.raw,text:d.raw,tokens:[d]}):f.tokens.unshift(d)}}if(!a.loose){let p=f.tokens.filter(h=>h.type==="space"),d=p.length>0&&p.some(h=>this.rules.other.anyLine.test(h.raw));a.loose=d}}if(a.loose)for(let f of a.items){f.loose=!0;for(let p of f.tokens)p.type==="text"&&(p.type="paragraph")}return a}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:o}}}table(e){var a;let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let r=th(t[1]),n=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(a=t[3])!=null&&a.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let l of n)this.rules.other.tableAlignRight.test(l)?i.align.push("right"):this.rules.other.tableAlignCenter.test(l)?i.align.push("center"):this.rules.other.tableAlignLeft.test(l)?i.align.push("left"):i.align.push(null);for(let l=0;l<r.length;l++)i.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:i.align[l]});for(let l of o)i.rows.push(th(l,i.header.length).map((u,c)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:i.align[c]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let i=ri(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{let i=hC(t[2],"()");if(i===-2)return;if(i>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let n=t[2],o="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(n);i&&(n=i[1],o=i[3])}else o=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),rh(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[n.toLowerCase()];if(!o){let i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return rh(r,o,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!r||this.rules.inline.punctuation.exec(r))){let o=[...n[0]].length-1,i,a,l=o,u=0,c=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);(n=c.exec(t))!=null;){if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!i)continue;if(a=[...i].length,n[3]||n[4]){l+=a;continue}else if((n[5]||n[6])&&o%3&&!((o+a)%3)){u+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+u);let f=[...n[0]][0].length,p=e.slice(0,o+n.index+f+a);if(Math.min(o,a)%2){let h=p.slice(1,-1);return{type:"em",raw:p,text:h,tokens:this.lexer.inlineTokens(h)}}let d=p.slice(2,-2);return{type:"strong",raw:p,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(r),o=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&o&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=t[1],n="mailto:"+r):(r=t[1],n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let n,o;if(t[2]==="@")n=t[0],o="mailto:"+n;else{let i;do i=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(i!==t[0]);n=t[0],t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}},xr=class ac{constructor(t){Ne(this,"tokens");Ne(this,"options");Ne(this,"state");Ne(this,"inlineQueue");Ne(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Xn,this.options.tokenizer=this.options.tokenizer||new Rl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:jt,block:Ma.normal,inline:ti.normal};this.options.pedantic?(r.block=Ma.pedantic,r.inline=ti.pedantic):this.options.gfm&&(r.block=Ma.gfm,this.options.breaks?r.inline=ti.breaks:r.inline=ti.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ma,inline:ti}}static lex(t,r){return new ac(r).lex(t)}static lexInline(t,r){return new ac(r).inlineTokens(t)}lex(t){t=t.replace(jt.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var o,i,a;for(this.options.pedantic&&(t=t.replace(jt.tabCharGlobal,"    ").replace(jt.spaceLine,""));t;){let l;if((i=(o=this.options.extensions)==null?void 0:o.block)!=null&&i.some(c=>(l=c.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);let c=r.at(-1);l.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.text,this.inlineQueue.at(-1).src=c.text):r.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title},r.push(l));continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),r.push(l);continue}let u=t;if((a=this.options.extensions)!=null&&a.startBlock){let c=1/0,f=t.slice(1),p;this.options.extensions.startBlock.forEach(d=>{p=d.call({lexer:this},f),typeof p=="number"&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(u=t.substring(0,c+1))}if(this.state.top&&(l=this.tokenizer.paragraph(u))){let c=r.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(l),n=u.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);let c=r.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(l);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var u,c,f,p,d;let n=t,o=null;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)h.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,o.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(o=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)i=o[2]?o[2].length:0,n=n.slice(0,o.index+i)+"["+"a".repeat(o[0].length-i-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((c=(u=this.options.hooks)==null?void 0:u.emStrongMask)==null?void 0:c.call({lexer:this},n))??n;let a=!1,l="";for(;t;){a||(l=""),a=!1;let h;if((p=(f=this.options.extensions)==null?void 0:f.inline)!=null&&p.some(x=>(h=x.call({lexer:this},t,r))?(t=t.substring(h.raw.length),r.push(h),!0):!1))continue;if(h=this.tokenizer.escape(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.tag(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.link(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(h.raw.length);let x=r.at(-1);h.type==="text"&&(x==null?void 0:x.type)==="text"?(x.raw+=h.raw,x.text+=h.text):r.push(h);continue}if(h=this.tokenizer.emStrong(t,n,l)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.codespan(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.br(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.del(t)){t=t.substring(h.raw.length),r.push(h);continue}if(h=this.tokenizer.autolink(t)){t=t.substring(h.raw.length),r.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(t))){t=t.substring(h.raw.length),r.push(h);continue}let m=t;if((d=this.options.extensions)!=null&&d.startInline){let x=1/0,k=t.slice(1),v;this.options.extensions.startInline.forEach(g=>{v=g.call({lexer:this},k),typeof v=="number"&&v>=0&&(x=Math.min(x,v))}),x<1/0&&x>=0&&(m=t.substring(0,x+1))}if(h=this.tokenizer.inlineText(m)){t=t.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(l=h.raw.slice(-1)),a=!0;let x=r.at(-1);(x==null?void 0:x.type)==="text"?(x.raw+=h.raw,x.text+=h.text):r.push(h);continue}if(t){let x="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return r}},Nl=class{constructor(e){Ne(this,"options");Ne(this,"parser");this.options=e||Xn}space(e){return""}code({text:e,lang:t,escaped:r}){var i;let n=(i=(t||"").match(jt.notSpaceStart))==null?void 0:i[0],o=e.replace(jt.endingNewline,"")+`
`;return n?'<pre><code class="language-'+$r(n)+'">'+(r?o:$r(o,!0))+`</code></pre>
`:"<pre><code>"+(r?o:$r(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,r=e.start,n="";for(let a=0;a<e.items.length;a++){let l=e.items[a];n+=this.listitem(l)}let o=t?"ol":"ul",i=t&&r!==1?' start="'+r+'"':"";return"<"+o+i+`>
`+n+"</"+o+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let o=0;o<e.header.length;o++)r+=this.tablecell(e.header[o]);t+=this.tablerow({text:r});let n="";for(let o=0;o<e.rows.length;o++){let i=e.rows[o];r="";for(let a=0;a<i.length;a++)r+=this.tablecell(i[a]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${$r(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let n=this.parser.parseInline(r),o=eh(e);if(o===null)return n;e=o;let i='<a href="'+e+'"';return t&&(i+=' title="'+$r(t)+'"'),i+=">"+n+"</a>",i}image({href:e,title:t,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));let o=eh(e);if(o===null)return $r(r);e=o;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${$r(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:$r(e.text)}},Wd=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},br=class lc{constructor(t){Ne(this,"options");Ne(this,"renderer");Ne(this,"textRenderer");this.options=t||Xn,this.options.renderer=this.options.renderer||new Nl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Wd}static parse(t,r){return new lc(r).parse(t)}static parseInline(t,r){return new lc(r).parseInline(t)}parse(t){var n,o;let r="";for(let i=0;i<t.length;i++){let a=t[i];if((o=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&o[a.type]){let u=a,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){r+=c||"";continue}}let l=a;switch(l.type){case"space":{r+=this.renderer.space(l);break}case"hr":{r+=this.renderer.hr(l);break}case"heading":{r+=this.renderer.heading(l);break}case"code":{r+=this.renderer.code(l);break}case"table":{r+=this.renderer.table(l);break}case"blockquote":{r+=this.renderer.blockquote(l);break}case"list":{r+=this.renderer.list(l);break}case"checkbox":{r+=this.renderer.checkbox(l);break}case"html":{r+=this.renderer.html(l);break}case"def":{r+=this.renderer.def(l);break}case"paragraph":{r+=this.renderer.paragraph(l);break}case"text":{r+=this.renderer.text(l);break}default:{let u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}parseInline(t,r=this.renderer){var o,i;let n="";for(let a=0;a<t.length;a++){let l=t[a];if((i=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&i[l.type]){let c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=c||"";continue}}let u=l;switch(u.type){case"escape":{n+=r.text(u);break}case"html":{n+=r.html(u);break}case"link":{n+=r.link(u);break}case"image":{n+=r.image(u);break}case"checkbox":{n+=r.checkbox(u);break}case"strong":{n+=r.strong(u);break}case"em":{n+=r.em(u);break}case"codespan":{n+=r.codespan(u);break}case"br":{n+=r.br(u);break}case"del":{n+=r.del(u);break}case"text":{n+=r.text(u);break}default:{let c='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}},Aa,si=(Aa=class{constructor(e){Ne(this,"options");Ne(this,"block");this.options=e||Xn}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?xr.lex:xr.lexInline}provideParser(){return this.block?br.parse:br.parseInline}},Ne(Aa,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Ne(Aa,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Aa),mC=class{constructor(...e){Ne(this,"defaults",Od());Ne(this,"options",this.setOptions);Ne(this,"parse",this.parseMarkdown(!0));Ne(this,"parseInline",this.parseMarkdown(!1));Ne(this,"Parser",br);Ne(this,"Renderer",Nl);Ne(this,"TextRenderer",Wd);Ne(this,"Lexer",xr);Ne(this,"Tokenizer",Rl);Ne(this,"Hooks",si);this.use(...e)}walkTokens(e,t){var n,o;let r=[];for(let i of e)switch(r=r.concat(t.call(this,i)),i.type){case"table":{let a=i;for(let l of a.header)r=r.concat(this.walkTokens(l.tokens,t));for(let l of a.rows)for(let u of l)r=r.concat(this.walkTokens(u.tokens,t));break}case"list":{let a=i;r=r.concat(this.walkTokens(a.items,t));break}default:{let a=i;(o=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&o[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{let u=a[l].flat(1/0);r=r.concat(this.walkTokens(u,t))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let i=t.renderers[o.name];i?t.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=i.apply(this,a)),l}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=t[o.level];i?i.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),n.extensions=t),r.renderer){let o=this.defaults.renderer||new Nl(this.defaults);for(let i in r.renderer){if(!(i in o))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=i,l=r.renderer[a],u=o[a];o[a]=(...c)=>{let f=l.apply(o,c);return f===!1&&(f=u.apply(o,c)),f||""}}n.renderer=o}if(r.tokenizer){let o=this.defaults.tokenizer||new Rl(this.defaults);for(let i in r.tokenizer){if(!(i in o))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=i,l=r.tokenizer[a],u=o[a];o[a]=(...c)=>{let f=l.apply(o,c);return f===!1&&(f=u.apply(o,c)),f}}n.tokenizer=o}if(r.hooks){let o=this.defaults.hooks||new si;for(let i in r.hooks){if(!(i in o))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=i,l=r.hooks[a],u=o[a];si.passThroughHooks.has(i)?o[a]=c=>{if(this.defaults.async&&si.passThroughHooksRespectAsync.has(i))return(async()=>{let p=await l.call(o,c);return u.call(o,p)})();let f=l.call(o,c);return u.call(o,f)}:o[a]=(...c)=>{if(this.defaults.async)return(async()=>{let p=await l.apply(o,c);return p===!1&&(p=await u.apply(o,c)),p})();let f=l.apply(o,c);return f===!1&&(f=u.apply(o,c)),f}}n.hooks=o}if(r.walkTokens){let o=this.defaults.walkTokens,i=r.walkTokens;n.walkTokens=function(a){let l=[];return l.push(i.call(this,a)),o&&(l=l.concat(o.call(this,a))),l}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return xr.lex(e,t??this.defaults)}parser(e,t){return br.parse(e,t??this.defaults)}parseMarkdown(e){return(t,r)=>{let n={...r},o={...this.defaults,...n},i=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&n.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(o.hooks&&(o.hooks.options=o,o.hooks.block=e),o.async)return(async()=>{let a=o.hooks?await o.hooks.preprocess(t):t,l=await(o.hooks?await o.hooks.provideLexer():e?xr.lex:xr.lexInline)(a,o),u=o.hooks?await o.hooks.processAllTokens(l):l;o.walkTokens&&await Promise.all(this.walkTokens(u,o.walkTokens));let c=await(o.hooks?await o.hooks.provideParser():e?br.parse:br.parseInline)(u,o);return o.hooks?await o.hooks.postprocess(c):c})().catch(i);try{o.hooks&&(t=o.hooks.preprocess(t));let a=(o.hooks?o.hooks.provideLexer():e?xr.lex:xr.lexInline)(t,o);o.hooks&&(a=o.hooks.processAllTokens(a)),o.walkTokens&&this.walkTokens(a,o.walkTokens);let l=(o.hooks?o.hooks.provideParser():e?br.parse:br.parseInline)(a,o);return o.hooks&&(l=o.hooks.postprocess(l)),l}catch(a){return i(a)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+$r(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}},Yn=new mC;function Te(e,t){return Yn.parse(e,t)}Te.options=Te.setOptions=function(e){return Yn.setOptions(e),Te.defaults=Yn.defaults,Wv(Te.defaults),Te};Te.getDefaults=Od;Te.defaults=Xn;Te.use=function(...e){return Yn.use(...e),Te.defaults=Yn.defaults,Wv(Te.defaults),Te};Te.walkTokens=function(e,t){return Yn.walkTokens(e,t)};Te.parseInline=Yn.parseInline;Te.Parser=br;Te.parser=br.parse;Te.Renderer=Nl;Te.TextRenderer=Wd;Te.Lexer=xr;Te.lexer=xr.lex;Te.Tokenizer=Rl;Te.Hooks=si;Te.parse=Te;Te.options;Te.setOptions;Te.use;Te.walkTokens;Te.parseInline;br.parse;xr.lex;const vC=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],nh=e=>{const t={blue:"#3388ff",red:"#ff6b6b",green:"#51cf66",orange:"#ffa94d",yellow:"#ffd43b",grey:"#868e96",black:"#343a40",purple:"#9c27b0"},r=t[e.color]||t.blue,n=(e.icon||"map-marker").toLowerCase(),o=Qn[n]||Qn["map-marker"],i=`<path d="M14 0C8 0 3 5 3 11c0 8 11 21 11 21s11-13 11-21C25 5 20 0 14 0z" fill="${r}"/>`,a=`<g transform="translate(7, 4) scale(0.58)" fill="#fff">${o}</g>`,l=`
    <svg width="28" height="42" viewBox="0 0 28 42" xmlns="http://www.w3.org/2000/svg" style="filter:drop-shadow(0 3px 4px rgba(0,0,0,0.4));">
        ${i}
        ${a}
    </svg>`;return{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(l),scaledSize:new window.google.maps.Size(28,42),anchor:new window.google.maps.Point(14,42),labelOrigin:new window.google.maps.Point(14,15)}},oh=(e,t,r)=>{let n=t.mapIcon||"map-marker",o="blue";const i=["default"];let a=!1,l=!1;if(r&&r.length>0)for(const u of r){if(a&&l)break;e.labels&&e.labels.some(c=>c.id===u.labelId)&&(u.overrideType==="icon"&&!a?(n=u.overrideValue,a=!0,i.push(u.id)):u.overrideType==="color"&&!l&&(o=u.overrideValue,l=!0,i.push(u.id)))}if(i.length>1){const u=i.indexOf("default");u>-1&&i.splice(u,1)}return{icon:n,color:o,activeRuleIds:i}};function yC(e){if(!e)return e;let t=e;return t=t.replace(/^(?:CNR|Corner)\s+/i,"Corner of "),[[/\bRd\b/gi,"Road"],[/\bAv\b/gi,"Avenue"],[/\bAve\b/gi,"Avenue"],[/\bSt\b/gi,"Street"],[/\bDr\b/gi,"Drive"],[/\bLn\b/gi,"Lane"],[/\bCt\b/gi,"Court"],[/\bPl\b/gi,"Place"],[/\bCres\b/gi,"Crescent"],[/\bBlvd\b/gi,"Boulevard"],[/\bPde\b/gi,"Parade"],[/\bHwy\b/gi,"Highway"],[/\bFwy\b/gi,"Freeway"]].forEach(([n,o])=>{t=t.replace(n,o)}),t}const ih=e=>{if(!e||!e.trim())return null;const t=e.match(/https?:\/\/(?:www\.)?google\.[^\/\s]+\/maps\/place\/([^\s)]+)/i);if(t){const i=t[1];try{return decodeURIComponent(i.replace(/\+/g," "))}catch{return i.replace(/\+/g," ")}}const r=e.match(/(-?\d+\.\d+)\s*,\s*(-?\d+\.\d+)/);if(r)return`${r[1]},${r[2]}`;const n=[/^\d+\s+[A-Za-z\s]+(?:St|Street|Ave|Avenue|Rd|Road|Ln|Lane|Dr|Drive|Way|Court|Ct|Place|Pl|Parkway|Crescent|Cres|Boulevard|Blvd)[^\n]*/i,/(?:CNR|Corner)\s+[A-Za-z\s]+[&\/]\s+[A-Za-z\s]+[^\n]*/i,/[A-Za-z\s]+(?:VIC|NSW|QLD|SA|WA|TAS|ACT)\s+\d{4}/i];for(const i of n){const a=e.match(i);if(a){const l=a[0].trim();if(l.length>5)return l}}const o=e.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);return o.length>0&&o[0].length>5&&!/^S\d+|^[A-Z]{2}\d+/.test(o[0])?o[0]:null},xC=({error:e,onDismiss:t,onApply:r})=>{const[n,o]=w.useState(""),[i,a]=w.useState([]),l=w.useRef(null);w.useEffect(()=>{window.google&&window.google.maps&&window.google.maps.places&&(l.current=new window.google.maps.places.AutocompleteService)},[]);const u=f=>{const p=f.target.value;if(o(p),!p||p.length<3){a([]);return}l.current&&l.current.getPlacePredictions({input:p},(d,h)=>{h===window.google.maps.places.PlacesServiceStatus.OK&&d?a(d):a([])})},c=f=>{new window.google.maps.Geocoder().geocode({placeId:f.place_id},(d,h)=>{if(h==="OK"&&d[0]){const m=d[0].geometry.location;r(e.cardId,{lat:m.lat(),lng:m.lng(),display_name:d[0].formatted_address})}else alert("Failed to get details for this location.")})};return s.jsxs("div",{className:"status-message error-toast",style:{borderColor:"#ff6b6b",width:"350px",flexDirection:"column",alignItems:"flex-start",padding:"12px",gap:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",marginBottom:"10px",animation:"slideIn 0.3s ease-out"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{style:{color:"#c92a2a",fontWeight:"bold"},children:"Geocoding Error"}),e.cardUrl&&s.jsx("a",{href:e.cardUrl,target:"_blank",rel:"noreferrer",style:{color:"#0057d9",fontSize:"0.85em",textDecoration:"underline"},children:"View Card"})]}),s.jsx("button",{onClick:()=>t(e.cardId),style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.2em",padding:"0 4px",color:"#666"},children:""})]}),s.jsxs("div",{style:{fontSize:"0.9em",color:"var(--text-secondary)"},children:["Failed: ",e.failedAddress]}),s.jsxs("div",{style:{width:"100%",marginTop:"8px",borderTop:"1px solid #eee",paddingTop:"8px"},children:[s.jsx("label",{style:{fontSize:"0.85em",fontWeight:"bold",display:"block",marginBottom:"4px"},children:"Manual Fix (Search):"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:n,onChange:u,placeholder:"Google Maps Search...",style:{width:"100%",padding:"6px",borderRadius:"4px",border:"1px solid #ccc"}}),i.length>0&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:3e3,background:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",maxHeight:"150px",overflowY:"auto",color:"black"},children:i.map(f=>s.jsx("div",{onClick:()=>c(f),style:{padding:"8px",cursor:"pointer",borderBottom:"1px solid #eee",fontSize:"0.9em"},onMouseEnter:p=>p.currentTarget.style.backgroundColor="#f0f0f0",onMouseLeave:p=>p.currentTarget.style.backgroundColor="white",children:f.description},f.place_id))})]})]})]})},ah=({card:e,listName:t,blockName:r,blocks:n,lists:o,onMove:i,enableStreetView:a,onZoom:l})=>{const u=n.reduce((m,x)=>{if(x.includeOnMap===!1)return m;m[x.id]={name:x.name,lists:[]};const k=x.listIds;return o.forEach(v=>{k.includes(v.id)&&m[x.id].lists.push(v)}),m},{}),c=new Date(1e3*parseInt(e.id.substring(0,8),16)),p=new Date-c,d=Math.floor(p/6e4);let h="";if(d<60)h=`${d} min${d!==1?"s":""}`;else if(d<1440){const m=Math.round(d/60);h=`${m} hour${m!==1?"s":""}`}else{const m=Math.round(d/1440);h=`${m} day${m!==1?"s":""}`}return s.jsxs("div",{style:{padding:"5px",minWidth:"240px",maxWidth:"300px",fontFamily:"sans-serif"},children:[s.jsxs("a",{href:e.shortUrl,target:"_blank",rel:"noreferrer",style:{fontSize:"1.2em",display:"block",marginBottom:"4px",color:"var(--text-color)",fontWeight:"bold",textDecoration:"none"},children:[e.name," "]}),s.jsxs("div",{style:{fontSize:"1.05em",color:"#555",marginBottom:"8px",fontWeight:"500"},children:[r?s.jsxs("span",{style:{fontWeight:"700"},children:[r,"  "]}):"",t]}),e.desc&&e.desc.trim()!==""&&s.jsx("div",{className:"popup-desc",style:{marginBottom:"10px",fontSize:"0.95em",color:"#111",lineHeight:"1.5"},dangerouslySetInnerHTML:{__html:Te.parse(e.desc)}}),e.labels&&e.labels.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginBottom:"10px"},children:e.labels.map(m=>s.jsx("span",{style:{backgroundColor:m.color?m.color==="sky"?"#00c2e0":m.color:"#ccc",color:Cm(m.color),padding:"3px 8px",borderRadius:"12px",fontSize:"0.75em",fontWeight:"bold",border:"1px solid rgba(0,0,0,0.1)"},children:m.name},m.id))}),s.jsxs("div",{style:{fontSize:"0.9em",color:"#555",marginBottom:"10px",display:"flex",alignItems:"center",gap:"5px"},children:[s.jsx("span",{style:{fontWeight:"bold"},children:"Active for:"})," ",h]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"12px",paddingTop:"10px",borderTop:"1px solid #eee"},children:[s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.coordinates&&a&&s.jsx("button",{title:"Open in Street View",onClick:()=>window.open(`https://www.google.com/maps?layer=c&cbll=${e.coordinates.lat},${e.coordinates.lng}`,"_blank"),style:{background:"none",border:"none",cursor:"pointer",color:"#666",padding:"4px"},children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",dangerouslySetInnerHTML:{__html:Qn["street-view"]}})}),s.jsx("button",{title:"Zoom to Card",onClick:()=>l&&l(e),style:{background:"none",border:"none",cursor:"pointer",color:"#666",padding:"4px"},children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"22",y1:"12",x2:"18",y2:"12"}),s.jsx("line",{x1:"6",y1:"12",x2:"2",y2:"12"}),s.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),s.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"18"})]})})]}),i&&o.length>0&&s.jsxs("select",{onChange:m=>i(e.id,m.target.value),value:"",style:{maxWidth:"140px",fontSize:"0.9em",padding:"4px",borderRadius:"4px",borderColor:"#dfe1e6"},children:[s.jsx("option",{value:"",disabled:!0,children:"Move to..."}),Object.values(u).map(m=>m.lists.length>0&&s.jsx("optgroup",{label:m.name,children:m.lists.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))},m.name))]})]})]})},bC=({user:e,settings:t,onClose:r,onShowSettings:n,onLogout:o,onShowTasks:i})=>{const[a,l]=w.useState([]),[u,c]=w.useState([]),[f,p]=w.useState([]),[d,h]=w.useState(""),[m,x]=w.useState(!0),[k,v]=w.useState([]),[g,y]=w.useState([]),[b,C]=w.useState(new Set),[E,D]=w.useState(new Set(["default"])),[I,N]=w.useState(!0),[L,V]=w.useState("roadmap"),[K,le]=w.useState([]),[se,Ie]=w.useState([]),[ie,ke]=w.useState(null),[P,W]=w.useState(null),[U,J]=w.useState(!1),[X,Ce]=w.useState(!1),ue=w.useRef(null),he=w.useRef(null),j=w.useRef(0),{theme:A,toggleTheme:M}=Zn(),q=w.useRef(null),$=w.useRef(null),ne=w.useRef({}),ge=w.useRef(null),Ye=w.useRef(null),tt=(()=>{var H;if(!e)return{};try{return((H=JSON.parse(localStorage.getItem("trelloUserData")||"{}")[e.id])==null?void 0:H.settings)||{}}catch{return{}}})(),ce=(t==null?void 0:t.boardId)||tt.boardId,Ae=t&&t.boardName?t.boardName:tt.boardName||"Trello Board";t&&t.mapGeocodeMode||tt!=null&&tt.mapGeocodeMode;const re=localStorage.getItem(Ee.IGNORE_TEMPLATE_CARDS+ce)!=="false",z=localStorage.getItem("updateTrelloCoordinates_"+ce)==="true",Y=localStorage.getItem("enableCardMove_"+ce)==="true",fe=localStorage.getItem("enableStreetView_"+ce)==="true",de=localStorage.getItem(Ee.REFRESH_INTERVAL+ce),It=de?JSON.parse(de):{value:1,unit:"minutes"},Ge=km(It.value,It.unit),ye=localStorage.getItem(Ee.CLOCK_SETTING+ce)!=="false";w.useEffect(()=>{U&&(ue.current=new window.google.maps.InfoWindow,ue.current.addListener("closeclick",()=>{he.current=null}))},[U]);const Lt=()=>{if(!$.current)return;const H=new window.google.maps.LatLngBounds;let Q=0;Object.values(ne.current).forEach(ee=>{ee.getMap()&&(H.extend(ee.getPosition()),Q++)}),ge.current&&ge.current.getMap()&&(H.extend(ge.current.getPosition()),Q++),Q===1?($.current.setCenter(H.getCenter()),$.current.setZoom(14)):Q>1?$.current.fitBounds(H,{top:80,bottom:80,left:50,right:50}):ie&&ie.coords?($.current.setCenter({lat:ie.coords.lat,lng:ie.coords.lon}),$.current.setZoom(14)):($.current.setCenter({lat:-25.2744,lng:133.7751}),$.current.setZoom(4))},Ze=w.useRef(null);w.useEffect(()=>{!$.current||!U||(L==="traffic"?($.current.setMapTypeId("roadmap"),Ze.current||(Ze.current=new window.google.maps.TrafficLayer),Ze.current.setMap($.current)):(Ze.current&&Ze.current.setMap(null),L!=="dark"&&L!=="traffic"?$.current.setMapTypeId(L):L==="dark"&&$.current.setMapTypeId("dark_mode")))},[L,U]);const[Et,Cn]=w.useState(!1),[Er,In]=w.useState(!1),[Jr,Mt]=w.useState(0),[dt,Mr]=w.useState(0);w.useEffect(()=>{Uv().then(H=>{if(!q.current)return;const ee={center:{lat:0,lng:0},zoom:2,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]},ae=new H.Map(q.current,ee);ae.addListener("click",()=>{ue.current&&ue.current.close(),he.current=null}),$.current=ae,Ye.current=new H.Geocoder,J(!0);const oe=new H.StyledMapType(vC,{name:"Dark"});ae.mapTypes.set("dark_mode",oe)}).catch(console.error)},[]),w.useEffect(()=>{const H=Q=>{Q.key==="Escape"&&(ue.current&&ue.current.close(),he.current=null)};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[]);const Ar=w.useRef(!1),Xe=w.useCallback(async(H=!1)=>{if(!(!e||!ce||Ar.current)){Ar.current=!0,H||(x(!0),h("Loading cards..."));try{const Q=od(e.id,ce);y(Q);const ee=`TRELLO_MARKER_RULES_${ce}`,ae=localStorage.getItem(ee);if(Ie(ae?JSON.parse(ae):[]),localStorage.getItem(`enableHomeLocation_${ce}`)==="true"){const ve=JSON.parse(localStorage.getItem(`homeCoordinates_${ce}`)||"null"),At=localStorage.getItem(`homeIcon_${ce}`)||"home",rt=localStorage.getItem(`homeAddress_${ce}`)||"";ke(ve?{coords:ve,icon:At,address:rt}:null)}else ke(null);if(!H){const ve=Q.filter(rt=>rt.includeOnMap!==!1).flatMap(rt=>rt.listIds);C(new Set(ve));const At=(ae?JSON.parse(ae):[]).map(rt=>rt.id).concat(["default"]);D(new Set(At))}const[Pe,qe,pt]=await Promise.all([Fe(`/boards/${ce}/lists?cards=none&fields=id,name`,e.token),Fe(`/boards/${ce}/labels`,e.token),Fe(`/boards/${ce}/cards?fields=id,name,desc,idList,labels,shortUrl,isTemplate,pos,coordinates,due,dueComplete&_=${Date.now()}`,e.token)]);c(Pe),p(qe);const it=`MAP_GEOCODING_CACHE_${ce}`,Ve=JSON.parse(localStorage.getItem(it)||"{}"),ft=localStorage.getItem(Ee.IGNORE_COMPLETED_CARDS+ce)==="true",Dr=localStorage.getItem("IGNORE_NO_DESC_CARDS_"+ce)==="true",Tr=pt.filter(ve=>!(re&&ve.isTemplate||ft&&ve.dueComplete||Dr&&(!ve.desc||!ve.desc.trim()))).map(ve=>{let At=null;if(ve.coordinates){if(typeof ve.coordinates=="string"&&ve.coordinates.includes(",")){const rt=ve.coordinates.split(",");rt.length===2&&(At={lat:parseFloat(rt[0]),lng:parseFloat(rt[1])})}else if(typeof ve.coordinates=="object"){const rt=ve.coordinates.lat||ve.coordinates.latitude,ro=ve.coordinates.lng||ve.coordinates.long||ve.coordinates.longitude;rt&&ro&&(At={lat:parseFloat(rt),lng:parseFloat(ro)})}}return(!At||!At.lat)&&Ve[ve.id]&&(At=Ve[ve.id]),{...ve,coordinates:At}});l(Tr)}catch(Q){console.error(Q),h(`Error: ${Q.message}`)}finally{Ar.current=!1,H?Mr(Q=>Q+1):(x(!1),h(""))}}},[e,ce,re]);w.useEffect(()=>{if(!a.length)return;const H={};a.forEach(ee=>{(H[ee.idList]===void 0||ee.pos<H[ee.idList])&&(H[ee.idList]=ee.pos)});const Q=a.filter(ee=>{const ae=g.find(qe=>qe.listIds.includes(ee.idList));return!ae||ae.includeOnMap===!1||ae.ignoreFirstCard&&ee.pos===H[ee.idList]||!ee.desc||!ee.desc.trim()||ee.coordinates&&ee.coordinates.lat?!1:!!ih(ee.desc)});Q.length>0&&v(Q)},[a,g]),w.useEffect(()=>{if(k.length===0||!U)return;const Q=setTimeout(async()=>{const ee=k[0],ae=ih(ee.desc),oe=yC(ae),Pe=`Geocoding: ${ee.name}`;h(Pe.length>30?Pe.substring(0,30)+"...":Pe),Ye.current&&Ye.current.geocode({address:oe},async(qe,pt)=>{if(pt==="OK"&&qe[0]){const it=qe[0].geometry.location,Ve={lat:it.lat(),lng:it.lng(),display_name:qe[0].formatted_address};l(Tr=>Tr.map(ve=>ve.id===ee.id?{...ve,coordinates:Ve}:ve));const ft=`MAP_GEOCODING_CACHE_${ce}`,Dr=JSON.parse(localStorage.getItem(ft)||"{}");if(Dr[ee.id]=Ve,localStorage.setItem(ft,JSON.stringify(Dr)),z)try{await Fe(`/cards/${ee.id}`,e.token,{method:"PUT",body:JSON.stringify({coordinates:`${Ve.lat},${Ve.lng}`}),headers:{"Content-Type":"application/json"}})}catch(Tr){console.error("Trello update failed",Tr)}}else pt==="OVER_QUERY_LIMIT"?await new Promise(it=>setTimeout(it,2e3)):le(it=>[...it,{cardId:ee.id,cardUrl:ee.shortUrl,failedAddress:oe}]);v(it=>it.slice(1)),k.length===1&&h("")})},1200);return()=>clearTimeout(Q)},[k,U,z,ce,e,a]);const Ut=w.useRef(null),nr=w.useRef(null);w.useEffect(()=>{Xe(!1)},[Xe]),w.useEffect(()=>(nr.current&&clearInterval(nr.current),Ut.current&&clearInterval(Ut.current),k.length===0&&!m?(W(Ge),nr.current=setInterval(()=>W(H=>H!==null&&H>0?H-1:H),1e3),Ut.current=setInterval(()=>{Xe(!0),W(Ge)},Ge*1e3)):W(null),()=>{clearInterval(nr.current),clearInterval(Ut.current)}),[k.length,m,Ge,Xe]);const Fo=async(H,Q)=>{l(oe=>oe.map(Pe=>Pe.id===H?{...Pe,coordinates:Q}:Pe));const ee=`MAP_GEOCODING_CACHE_${ce}`,ae=JSON.parse(localStorage.getItem(ee)||"{}");if(ae[H]=Q,localStorage.setItem(ee,JSON.stringify(ae)),le(oe=>oe.filter(Pe=>Pe.cardId!==H)),z)try{await Fe(`/cards/${H}`,e.token,{method:"PUT",body:JSON.stringify({coordinates:`${Q.lat},${Q.lng}`}),headers:{"Content-Type":"application/json"}})}catch(oe){console.error("Trello manual update failed",oe)}},_o=H=>le(Q=>Q.filter(ee=>ee.cardId!==H)),ms=H=>{const Q=new Set(b);Q.has(H)?Q.delete(H):Q.add(H),C(Q)},En=(H,Q)=>{const ee=g.find(oe=>oe.id===H);if(!ee)return;const ae=new Set(b);ee.listIds.forEach(oe=>Q?ae.add(oe):ae.delete(oe)),C(ae)},Dn=H=>{const Q=new Set(b);g.filter(ae=>ae.includeOnMap!==!1).flatMap(ae=>ae.listIds).forEach(ae=>H?Q.add(ae):Q.delete(ae)),C(Q)},eo=H=>{const Q=new Set(E);Q.has(H)?Q.delete(H):Q.add(H),D(Q)},Vo=H=>{const Q=se.map(ae=>ae.id).concat(["default"]),ee=new Set(H?Q:[]);D(ee)},to=async(H,Q)=>{if(Y)try{if(await Fe(`/cards/${H}`,e.token,{method:"PUT",body:JSON.stringify({idList:Q}),headers:{"Content-Type":"application/json"}}),l(ee=>ee.map(ae=>ae.id===H?{...ae,idList:Q}:ae)),he.current===H&&ne.current[H]&&ue.current){const ae={...a.find(ft=>ft.id===H),idList:Q},oe=u.find(ft=>ft.id===Q),Pe=oe?oe.name:"Unknown",qe=g.find(ft=>ft.listIds.includes(Q)),pt=qe?qe.name:"",it=document.createElement("div");Ku(it).render(s.jsx(ah,{card:ae,listName:Pe,blockName:pt,blocks:g,lists:u,onMove:to,enableStreetView:fe})),ue.current.setContent(it)}}catch(ee){console.error("Failed to move card",ee),alert("Failed to move card.")}},Tn=w.useRef(0);return w.useEffect(()=>{if(!$.current||!U)return;const H=$.current,Q=a.filter(oe=>oe.coordinates&&oe.coordinates.lat),ee=Q.filter(oe=>{if(!b.has(oe.idList))return!1;const Pe=g.find(pt=>pt.listIds.includes(oe.idList));if(!Pe)return!0;const{activeRuleIds:qe}=oh(oe,Pe,se);return[...qe].some(pt=>E.has(pt))}),ae={};if(ee.forEach(oe=>{const Pe=g.find(Ve=>Ve.listIds.includes(oe.idList))||{mapIcon:"map-marker"},qe=oh(oe,Pe,se),pt=nh(qe),it={lat:oe.coordinates.lat,lng:oe.coordinates.lng};if(ne.current[oe.id]){const Ve=ne.current[oe.id];Ve.setPosition(it),Ve.setIcon(pt),Ve.set("cardData",oe),ae[oe.id]=Ve}else{const Ve=new window.google.maps.Marker({position:it,map:H,icon:pt,title:oe.name});Ve.set("cardData",oe),Ve.addListener("click",()=>{const ft=Ve.get("cardData"),Dr=document.createElement("div"),Tr=Ku(Dr),ve=u.find(Or=>Or.id===ft.idList),At=ve?ve.name:"Unknown List",rt=g.find(Or=>Or.listIds.includes(ft.idList)),ro=rt?rt.name:"";he.current=ft.id,Tr.render(s.jsx(ah,{card:ft,listName:At,blockName:ro,blocks:g,lists:Y?u:[],onMove:to,enableStreetView:fe,onZoom:Or=>{if($.current&&Or.coordinates){$.current.setCenter({lat:Or.coordinates.lat,lng:Or.coordinates.lng});const Br=$.current.getZoom();$.current.setZoom(Math.min(Br+2,21))}}})),ue.current.setContent(Dr),ue.current.open(H,Ve)}),ae[oe.id]=Ve}}),Mt(Object.keys(ae).length),Object.keys(ne.current).forEach(oe=>{ae[oe]||ne.current[oe].setMap(null)}),ne.current=ae,ie&&ie.coords&&I){const oe={lat:ie.coords.lat,lng:ie.coords.lon},Pe=nh({icon:ie.icon||"home",color:"purple"});if(ge.current)ge.current.setPosition(oe),ge.current.setIcon(Pe),ge.current.setMap(H);else{const qe=new window.google.maps.Marker({position:oe,map:H,icon:Pe,zIndex:1e3,title:"Home Location"});qe.addListener("click",()=>{const pt=`
                        <div style="padding: 5px;">
                            <strong>Home Address</strong><br/>
                            ${ie.address||ie.coords.display_name||"No address set"}
                        </div>
                    `;ue.current.setContent(pt),ue.current.open(H,qe)}),ge.current=qe}}else ge.current&&ge.current.setMap(null);ee.length>0&&!X?(Lt(),Ce(!0),j.current=Q.length,Tn.current=dt):dt!==Tn.current?(ee.length>0&&Lt(),Tn.current=dt,j.current=Q.length):X&&Q.length!==j.current&&(Lt(),j.current=Q.length)},[a,b,E,g,se,ie,I,U,u,dt]),s.jsxs("div",{className:"map-view-container",children:[s.jsxs("div",{className:"map-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[ye&&s.jsx(ad,{boardId:ce}),s.jsxs("h1",{style:{margin:0,fontSize:"1.5em",marginLeft:ye?"20px":"0"},children:[Ae," Map"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"15px"},children:[!U&&s.jsx("span",{className:"spinner"}),s.jsxs("span",{style:{fontSize:"0.9em",fontWeight:"bold",color:"var(--text-secondary)"},children:[Jr," cards"]}),s.jsxs("select",{value:L,onChange:H=>V(H.target.value),className:"time-filter-select",children:[s.jsx("option",{value:"roadmap",children:"Roadmap"}),s.jsx("option",{value:"traffic",children:"Traffic"}),s.jsx("option",{value:"satellite",children:"Satellite"}),s.jsx("option",{value:"hybrid",children:"Hybrid"}),s.jsx("option",{value:"terrain",children:"Terrain"}),s.jsx("option",{value:"dark",children:"Dark Mode"})]}),s.jsx("button",{className:"theme-toggle-button",onClick:()=>M(),style:{marginLeft:"10px"},children:A==="dark"?"":""})]})]}),s.jsx("div",{style:{position:"fixed",top:"80px",right:"20px",zIndex:9999,pointerEvents:"none"},children:s.jsx("div",{style:{pointerEvents:"auto",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:K.map(H=>s.jsx(xC,{error:H,onDismiss:_o,onApply:Fo},H.cardId))})}),s.jsxs("div",{style:{display:"flex",flexGrow:1,position:"relative"},children:[s.jsx("div",{style:{position:"absolute",top:"5px",right:"20px",zIndex:800,backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#333"},onClick:Lt,title:"Fit Map to Markers",children:s.jsxs("svg",{width:"60",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"22",y1:"12",x2:"18",y2:"12"}),s.jsx("line",{x1:"6",y1:"12",x2:"2",y2:"12"}),s.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),s.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"18"})]})}),s.jsx("div",{className:"map-sidebar",children:s.jsx(P2,{lists:u,cards:a,allLabels:f,visibleListIds:b,onToggleList:ms,blocks:g,onToggleBlock:En,onToggleAllBlocks:Dn,markerRules:se,visibleRuleIds:E,onToggleRule:eo,onToggleAllRules:Vo,homeLocation:ie,showHomeLocation:I,onToggleHome:()=>N(!I)})}),s.jsxs("div",{style:{flexGrow:1,position:"relative",background:"#e0e0e0"},children:[s.jsx("div",{ref:q,style:{width:"100%",height:"100%"}}),!U&&s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},children:"Loading Google Maps..."})]})]}),s.jsxs("div",{className:"map-footer",children:[s.jsx("div",{className:"map-footer-left",children:s.jsx("div",{style:{fontSize:"0.8em",color:"#888"},children:"Powered by Google Maps & Trello"})}),s.jsxs("div",{className:"map-footer-right",children:[s.jsxs("span",{style:{marginRight:"20px",fontWeight:"500",color:"var(--text-color)"},children:[d||"Ready"," ",k.length>0&&s.jsxs("span",{children:["(Geocoding ",k.length,"...)"]})]}),s.jsxs("button",{className:"button-secondary",onClick:()=>{W(Ge),Xe(!0)},children:["Refresh ",id(P)]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex"},children:[s.jsx("button",{className:"button-secondary",onClick:()=>r(),children:"Dashboard View"}),s.jsx("button",{className:"button-secondary dropdown-arrow",style:{marginLeft:"-1px",borderLeft:"none",padding:"0 5px"},onClick:()=>Cn(!Et),children:""})]}),Et&&s.jsx("div",{className:"context-menu",style:{position:"absolute",bottom:"100%",left:0,background:"var(--bg-primary)",border:"1px solid #ccc",borderRadius:"4px",padding:"5px",minWidth:"150px"},children:s.jsx("div",{className:"menu-item",onClick:()=>{window.open("/dashboard","_blank"),Cn(!1)},children:"Open in New Tab"})})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex"},children:[s.jsx("button",{className:"button-secondary",onClick:()=>i(),children:"Tasks View"}),s.jsx("button",{className:"button-secondary dropdown-arrow",style:{marginLeft:"-1px",borderLeft:"none",padding:"0 5px"},onClick:()=>In(!Er),children:""})]}),Er&&s.jsx("div",{className:"context-menu",style:{position:"absolute",bottom:"100%",left:0,background:"var(--bg-primary)",border:"1px solid #ccc",borderRadius:"4px",padding:"5px",minWidth:"150px"},children:s.jsx("div",{className:"menu-item",onClick:()=>{window.open("/tasks","_blank"),In(!1)},children:"Open in New Tab"})})]}),s.jsx("button",{className:"button-secondary",onClick:()=>n("board"),children:"Settings"}),s.jsx("button",{className:"button-secondary",onClick:o,children:"Logout"})]})]}),(Et||Er)&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>{Cn(!1),In(!1)}})]})},wC=({user:e,settings:t,onClose:r,onShowSettings:n,onLogout:o,onShowMap:i,onMainView:a})=>{const[l,u]=w.useState(!0),[c,f]=w.useState({orgs:[],boards:[],cards:[]}),[p,d]=w.useState(""),[h,m]=w.useState(null),[x,k]=w.useState(!1),[v,g]=w.useState(!1),[y,b]=w.useState(null),[C,E]=w.useState(null),[D,I]=w.useState(!0),[N,L]=w.useState(!0),[V,K]=w.useState(!1),[le,se]=w.useState("board"),{theme:Ie,toggleTheme:ie}=Zn(),ke=(t==null?void 0:t.taskViewWorkspaces)||[],P=(t==null?void 0:t.taskViewRefreshInterval)||{value:5,unit:"minutes"},W=w.useRef(null),U=w.useRef(null);w.useEffect(()=>{J()},[e]),w.useEffect(()=>{W.current&&clearInterval(W.current),U.current&&clearInterval(U.current);const j=P.unit==="hours"?P.value*60:P.value,A=Math.max(60,j*60);return m(A),U.current=setInterval(()=>{m(M=>M<=1?A:M-1)},1e3),W.current=setInterval(()=>{J(!0),m(A)},A*1e3),()=>{W.current&&clearInterval(W.current),U.current&&clearInterval(U.current)}},[P.value,P.unit]);const J=async(j=!1)=>{j||u(!0);try{const A=await _1(e.token);f(A)}catch(A){console.error(A),j||d("Failed to load tasks. Please try again.")}finally{j||u(!1)}},X=w.useMemo(()=>{if(!c.cards.length)return[];let j=[];const A=new Map(c.orgs.map(q=>[q.id,q])),M=new Map(c.boards.map(q=>[q.id,q]));return c.cards.forEach(q=>{const $=M.get(q.idBoard),ne=$==null?void 0:$.idOrganization,ge=A.get(ne);let Ye=(ge==null?void 0:ge.displayName)||(ge==null?void 0:ge.name)||"External Workspaces",ze=(ge==null?void 0:ge.id)||"external_combined";if(Ye==="External Workspaces"&&(ze="external_combined"),ke.length>0&&ze!=="external_combined"&&!ke.includes(ne))return;const tt={cardId:q.id,cardName:q.name,cardUrl:q.url,boardId:q.idBoard,boardName:($==null?void 0:$.name)||"Unknown Board",orgId:ze,orgName:Ye,isCompleted:q.dueComplete||!1,due:q.due,labels:q.labels||[]},ce=[];q.checklists&&q.checklists.length>0&&q.checklists.forEach(re=>{re.checkItems.forEach(z=>{(z.idMember&&z.idMember===e.id||z.idMembers&&z.idMembers.includes(e.id))&&ce.push({id:z.id,name:z.name,state:z.state,due:z.due})})});const Ae=q.idMembers&&q.idMembers.includes(e.id);(Ae||ce.length>0)&&j.push({...tt,type:"card",isMember:Ae,checkItems:ce})}),j},[c,e.id,ke]),Ce=w.useMemo(()=>{let j=X;if(!D&&!N)return[];j=j.filter(M=>{const q=M.checkItems.length>0,$=M.isMember;return D&&N?q||$:D?q:N?$:!1}),y&&y.size>0&&(j=j.filter(M=>y.has(M.orgId))),C&&C.size>0&&(j=j.filter(M=>C.has(M.boardId))),V||(j=j.filter(M=>{const q=M.isCompleted,$=M.checkItems.length===0||M.checkItems.every(ne=>ne.state==="complete");return!(q&&$)}));const A=M=>M||"";return j.sort((M,q)=>{if(le==="due")return M.due?q.due?new Date(M.due)-new Date(q.due):-1:1;const $=M.orgId==="external_combined",ne=q.orgId==="external_combined";if($&&!ne)return 1;if(!$&&ne)return-1;const ge=A(M.orgName).localeCompare(A(q.orgName));return ge!==0?ge:A(M.boardName).localeCompare(A(q.boardName))||A(M.cardName).localeCompare(A(q.cardName))}),j},[X,D,N,V,y,C,le]),ue=w.useMemo(()=>{const j={};return Ce.forEach(A=>{j[A.orgId]||(j[A.orgId]={name:A.orgName,boards:{}}),j[A.orgId].boards[A.boardId]||(j[A.orgId].boards[A.boardId]={name:A.boardName,tasks:[]}),j[A.orgId].boards[A.boardId].tasks.push(A)}),j},[Ce]),he=(j,A)=>(j.name||"").localeCompare(A.name||"");return l?s.jsx("div",{className:"container",style:{textAlign:"center",marginTop:50},children:"Loading Tasks..."}):p?s.jsx("div",{className:"container error",children:p}):s.jsxs("div",{className:"map-container",children:[s.jsxs("div",{className:"map-header",children:[s.jsx("div",{className:"map-header-title-area",children:s.jsxs("h1",{children:["Tasks for ",e.fullName||e.username]})}),s.jsxs("div",{className:"map-header-actions",style:{flexGrow:1,justifyContent:"flex-end",display:"flex",alignItems:"center",gap:"10px"},children:[s.jsxs("div",{className:"header-filters",style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[s.jsx(lh,{label:"Workspaces",options:Array.from(new Set(X.map(j=>j.orgId))).map(j=>{var A;return{id:j,name:((A=X.find(M=>M.orgId===j))==null?void 0:A.orgName)||"Unknown"}}).sort(he),selectedIds:y,onChange:j=>{b(j),E(null)}}),s.jsx(lh,{label:"Boards",options:Array.from(new Set(X.filter(j=>y===null||y.has(j.orgId)).map(j=>j.boardId))).map(j=>{var A;return{id:j,name:((A=X.find(M=>M.boardId===j))==null?void 0:A.boardName)||"Unknown"}}).sort(he),selectedIds:C,onChange:E}),s.jsxs("select",{value:le,onChange:j=>se(j.target.value),style:{padding:"6px",borderRadius:"4px",border:"1px solid var(--border-color)",fontSize:"0.9em",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[s.jsx("option",{value:"board",children:"Sort: Board"}),s.jsx("option",{value:"due",children:"Sort: Due Date"})]}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",fontSize:"0.9em"},children:[s.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",whiteSpace:"nowrap"},children:[s.jsx("input",{type:"checkbox",checked:D,onChange:j=>I(j.target.checked),style:{marginRight:"4px"}})," Assigned"]}),s.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",whiteSpace:"nowrap"},children:[s.jsx("input",{type:"checkbox",checked:N,onChange:j=>L(j.target.checked),style:{marginRight:"4px"}})," Member"]}),s.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",whiteSpace:"nowrap"},children:[s.jsx("input",{type:"checkbox",checked:V,onChange:j=>K(j.target.checked),style:{marginRight:"4px"}})," Completed"]})]})]}),s.jsx("button",{className:"theme-toggle-button",onClick:()=>ie(),children:Ie==="dark"?"":""})]})]}),s.jsx("div",{className:"task-content",style:{flex:1,overflowY:"auto",padding:"20px",paddingBottom:"80px",background:"var(--bg-canvas)",position:"relative",zIndex:1},children:Object.keys(ue).length===0?s.jsx("div",{style:{textAlign:"center",color:"#888",marginTop:"50px"},children:"No tasks found matching filters."}):Object.entries(ue).map(([j,A])=>s.jsxs("div",{className:"workspace-section",style:{marginBottom:"40px"},children:[s.jsx("h2",{style:{borderBottom:"2px solid var(--border-color, #ccc)",paddingBottom:"10px",marginBottom:"20px",color:"var(--text-primary)"},children:A.name}),s.jsx("div",{className:"boards-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"30px",alignItems:"start"},children:Object.entries(A.boards).map(([M,q])=>s.jsxs("div",{className:"board-card",style:{background:"var(--bg-secondary)",borderRadius:"8px",padding:"15px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",maxHeight:"600px"},children:[s.jsxs("h3",{style:{marginTop:0,fontSize:"1.1em",marginBottom:"15px",color:"var(--text-primary)",borderBottom:"1px solid var(--border-color, #eee)",paddingBottom:"8px"},children:[q.name," ",s.jsxs("span",{style:{fontSize:"0.8em",fontWeight:"normal",color:"var(--text-secondary)"},children:["(",q.tasks.length,")"]})]}),s.jsx("div",{className:"tasks-list-vertical",style:{display:"flex",flexDirection:"column",gap:"15px",overflowY:"auto",paddingRight:"5px"},children:q.tasks.map($=>s.jsxs("div",{className:"task-card",style:{background:"var(--bg-primary)",padding:"12px",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",borderLeft:$.checkItems&&$.checkItems.length>0?"4px solid #0079bf":"4px solid #ff9f1a",color:"var(--text-primary)",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{marginBottom:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsx("a",{href:$.cardUrl,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"var(--text-primary)",fontWeight:"600",fontSize:"1em",lineHeight:"1.3",wordBreak:"break-word"},children:$.cardName}),$.isMember&&s.jsx("span",{title:"You are a member of this card",style:{fontSize:"0.9em",marginLeft:"5px",opacity:.7},children:""})]}),$.labels&&$.labels.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginTop:"8px"},children:$.labels.map(ne=>s.jsx("span",{style:{fontSize:"0.7em",padding:"2px 6px",borderRadius:"3px",backgroundColor:ne.color?SC(ne.color):"#ccc",color:ne.color?"#fff":"#000",fontWeight:"500"},children:ne.name},ne.id))}),$.due&&s.jsxs("div",{style:{fontSize:"0.85em",marginTop:"8px",color:new Date($.due)<new Date&&!$.isCompleted?"#eb5a46":"#5ba4cf",display:"flex",alignItems:"center"},children:[s.jsx("span",{style:{marginRight:"4px"},children:""}),new Date($.due).toLocaleDateString()," ",new Date($.due).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),$.isCompleted&&s.jsx("span",{style:{marginLeft:"5px",color:"green"},children:" Done"})]})]}),$.checkItems&&$.checkItems.length>0&&s.jsxs("div",{style:{marginTop:"auto",paddingTop:"10px",borderTop:"1px solid var(--border-color, #eee)"},children:[s.jsx("div",{style:{fontSize:"0.75em",color:"var(--text-secondary)",marginBottom:"5px",textTransform:"uppercase",fontWeight:"bold"},children:"Your Tasks:"}),$.checkItems.map(ne=>s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:"4px 0",paddingLeft:"10px",borderLeft:"2px solid #ddd",fontSize:"0.9em",marginBottom:"4px"},children:[s.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"3px",border:"1px solid #ccc",marginRight:"8px",marginTop:"2px",display:"flex",alignItems:"center",justifyContent:"center",background:ne.state==="complete"?"#5ba4cf":"transparent",flexShrink:0},children:ne.state==="complete"&&s.jsx("span",{style:{color:"white",fontSize:"11px"},children:""})}),s.jsx("span",{style:{color:ne.state==="complete"?"#888":"var(--text-primary)",textDecoration:ne.state==="complete"?"line-through":"none",lineHeight:"1.4"},children:ne.name})]},ne.id))]})]},$.type==="card"?`card-${$.cardId}`:$.id))})]},M))})]},j))}),s.jsxs("div",{className:"map-footer",children:[s.jsx("div",{className:"map-footer-left"}),s.jsxs("div",{className:"map-footer-right",style:{display:"flex",gap:"15px",alignItems:"center"},children:[s.jsxs("button",{className:"button-secondary",onClick:()=>{const j=P.unit==="hours"?P.value*60:P.value,A=Math.max(60,j*60);m(A),J(!0)},children:["Refresh ",id(h)]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex"},children:[s.jsx("button",{className:"button-secondary",onClick:()=>a?a():r(),children:"Dashboard and Map View"}),s.jsx("button",{className:"button-secondary dropdown-arrow",style:{marginLeft:"-1px",padding:"0 5px",borderLeft:"none"},onClick:()=>k(!x),children:""})]}),x&&s.jsx("div",{className:"context-menu",style:{position:"absolute",bottom:"100%",left:0,background:"var(--bg-primary)",border:"1px solid #ccc",borderRadius:"4px",padding:"5px",minWidth:"150px"},children:s.jsx("div",{className:"menu-item",onClick:()=>{window.open("/dashboard","_blank"),k(!1)},children:"Open in New Tab"})})]}),s.jsx("button",{className:"button-secondary",onClick:n,children:"Settings"}),s.jsx("button",{className:"button-secondary",onClick:o,children:"Logout"})]})]}),(x||v)&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>{k(!1),g(!1)}})]})},SC=e=>({green:"#61bd4f",yellow:"#f2d600",orange:"#ff9f1a",red:"#eb5a46",purple:"#c377e0",blue:"#0079bf",sky:"#00c2e0",lime:"#51e898",pink:"#ff78cb",black:"#344563",none:"#b3bac5"})[e]||"#b3bac5",lh=({label:e,options:t,selectedIds:r,onChange:n})=>{const{theme:o}=Zn(),[i,a]=w.useState(!1),l=w.useRef(null),u=r==null;w.useEffect(()=>{const f=p=>{l.current&&!l.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const c=f=>{if(u){const p=new Set(t.filter(d=>d.id!==f).map(d=>d.id));n(p)}else{const p=new Set(r);p.has(f)?p.delete(f):p.add(f),n(p)}};return s.jsxs("div",{style:{position:"relative",display:"inline-block"},ref:l,children:[s.jsxs("button",{className:"settings-button",onClick:()=>a(!i),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",fontSize:"0.9em",backgroundColor:o==="dark"?"var(--bg-secondary)":"#ffffff",color:"var(--text-primary)",border:"1px solid var(--border-color)"},children:[e,!u&&r.size>0&&s.jsx("span",{style:{background:"var(--accent-color)",color:"white",borderRadius:"10px",padding:"0 6px",fontSize:"0.8em"},children:r.size}),!u&&r.size===0&&s.jsx("span",{style:{fontSize:"0.8em",color:"var(--text-secondary)"},children:"(None)"}),s.jsx("span",{style:{fontSize:"0.8em"},children:""})]}),i&&s.jsxs("div",{style:{position:"absolute",top:"100%",left:0,marginTop:"5px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",boxShadow:"0 4px 12px var(--shadow-color)",zIndex:1e3,width:"250px",display:"flex",flexDirection:"column",maxHeight:"400px"},children:[s.jsxs("div",{style:{padding:"8px",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85em",fontWeight:"bold",color:"var(--text-primary)"},children:[s.jsx("span",{children:e}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{onClick:()=>n(null),style:{background:"transparent",border:"none",color:"var(--accent-color)",cursor:"pointer",textDecoration:"underline"},children:"All"}),s.jsx("button",{onClick:()=>n(new Set),style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",textDecoration:"underline"},children:"None"})]})]}),s.jsx("div",{style:{overflowY:"auto",padding:"8px",flex:1},children:t.map(f=>{const p=u||r.has(f.id);return s.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"4px 0",cursor:"pointer",color:"var(--text-primary)",fontSize:"0.9em"},children:[s.jsx("input",{type:"checkbox",checked:p,onChange:()=>c(f.id),style:{marginRight:"8px"}}),s.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:f.name})]},f.id)})})]})]})},kC=({user:e,settings:t,onShowSettings:r,onGoToDashboard:n,onLogout:o})=>{const[i,a]=w.useState([]),[l,u]=w.useState(!0),[c,f]=w.useState(""),{theme:p,toggleTheme:d}=Zn(),[h,m]=w.useState("this_week"),[x,k]=w.useState({start:null,end:null}),[v,g]=w.useState(!1),[y,b]=w.useState(null),[C,E]=w.useState("OR"),[D,I]=w.useState("day"),[N,L]=w.useState([]),V=t==null?void 0:t.enableMapView,K=t==null?void 0:t.boardId,le=t==null?void 0:t.boardName,se=w.useRef(null),Ie=w.useRef(null),ie=w.useRef(null),ke=w.useRef(null);w.useEffect(()=>{if(!K)return;u(!0),(async()=>{try{const A=await Fe(`/boards/${K}/labels`,e.token);L(A);const q=(await Fe(`/boards/${K}/cards?fields=id,name,labels,idList,due,dueComplete,dateLastActivity,desc,pos,coordinates&pluginData=true`,e.token)).map(ze=>{let tt=null;if(ze.coordinates){const{latitude:ce,longitude:Ae}=ze.coordinates;ce&&Ae&&(tt={lat:ce,lng:Ae})}return{...ze,coordinates:tt}}),ne=((t==null?void 0:t.statistics)||{}).includedLists||[],ge=new Set(ne);let Ye=q;ne.length>0&&(Ye=Ye.filter(ze=>ge.has(ze.idList))),a(Ye)}catch(A){f(A.message)}finally{u(!1)}})()},[K,e.token,t==null?void 0:t.statistics]);const P=j=>new Date(1e3*parseInt(j.substring(0,8),16)),W=(j,A)=>{if(A==="all")return!0;if(A==="custom")return x.start?j>=new Date(x.start)&&(!x.end||j<=new Date(x.end)):!0;const M=Vr[A];if(!M)return!0;if(M.type==="relative"){const q=new Date;return q.setMinutes(q.getMinutes()-M.minutes),j>=q}return M.type==="calendar"?j>=M.start&&(!M.end||j<=M.end):!0},U=j=>{if(j==="custom"&&x.start)return{start:new Date(x.start),end:x.end?new Date(x.end):new Date};if(j==="all")return null;const A=Vr[j];if(!A)return null;if(A.type==="relative"){const M=new Date;return M.setMinutes(M.getMinutes()-A.minutes),{start:M,end:new Date}}return A.type==="calendar"?{start:A.start,end:A.end||new Date}:null},J=(j,A)=>{const M=new Date(j);return A==="hour"?M.toLocaleString("default",{month:"short",day:"numeric",hour:"numeric",hour12:!0}):A==="cumulative_hour"?M.toLocaleString("default",{hour:"numeric",hour12:!0}):A==="month"?M.toLocaleString("default",{month:"short",year:"numeric"}):M.toLocaleDateString()},X=j=>{if(!y||y.size===0)return!0;if(!j.labels||j.labels.length===0)return!1;const A=new Set(j.labels.map(M=>M.id));if(C==="AND"){for(let M of y)if(!A.has(M))return!1;return!0}else{for(let M of y)if(A.has(M))return!0;return!1}};let Ce="";if(h==="custom")Ce=`${new Date(x.start).toLocaleDateString()} - ${x.end?new Date(x.end).toLocaleDateString():"Now"}`;else{const j=Vr[h];Ce=j?j.label:h}let ue="";y&&y.size>0&&(ue=` - Labels: ${N.filter(A=>y.has(A.id)).map(A=>A.name||A.color).join(", ")}`,ue.length>50&&(ue=` - Labels: ${y.size} selected`)),w.useEffect(()=>{if(l||i.length===0||(ie.current&&ie.current.destroy(),ke.current&&ke.current.destroy(),!window.Chart))return;if(window.ChartDataLabels)try{window.Chart.register(window.ChartDataLabels)}catch{}const j=i.filter(X),A=U(h),M=new Map;if(A&&(D==="hour"||D==="day"||D==="cumulative_hour")){let z=new Date(A.start);const Y=new Date(A.end);if(z<Y)for(;z<=Y;){const fe=J(z,D);let de=z.getTime();D==="cumulative_hour"&&(de=z.getHours()),M.has(fe)||M.set(fe,{created:0,completed:0,sortDate:de}),D==="hour"||D==="cumulative_hour"?z.setHours(z.getHours()+1):z.setDate(z.getDate()+1)}if(D==="cumulative_hour")for(let fe=0;fe<24;fe++){const de=new Date;de.setHours(fe,0,0,0);const rr=J(de,"cumulative_hour");M.has(rr)||M.set(rr,{created:0,completed:0,sortDate:fe})}}j.filter(z=>W(P(z.id),h)).forEach(z=>{const Y=P(z.id),fe=J(Y,D);let de=Y.getTime();D==="cumulative_hour"&&(de=Y.getHours()),M.has(fe)||M.set(fe,{created:0,completed:0,sortDate:de}),M.get(fe).created++}),j.filter(z=>!z.dueComplete||!z.due?!1:W(new Date(z.due),h)).forEach(z=>{const Y=new Date(z.due),fe=J(Y,D);let de=Y.getTime();D==="cumulative_hour"&&(de=Y.getHours()),M.has(fe)||M.set(fe,{created:0,completed:0,sortDate:de}),M.get(fe).completed++});const ne=Array.from(M.keys()).sort((z,Y)=>M.get(z).sortDate-M.get(Y).sortDate),ge=M&&Array.from(M.values()).reduce((z,Y)=>z+Y.created,0),Ye=M&&Array.from(M.values()).reduce((z,Y)=>z+Y.completed,0),ze=se.current.getContext("2d");ie.current=new window.Chart(ze,{type:"line",data:{labels:ne,datasets:[{label:`Created (${ge})`,data:ne.map(z=>M.get(z).created),borderColor:"#0079bf",backgroundColor:"#0079bf",tension:.1},{label:`Completed (${Ye})`,data:ne.map(z=>M.get(z).completed),borderColor:"#61bd4f",backgroundColor:"#61bd4f",tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},title:{display:!0,text:`${ge} cards created / ${Ye} Completed - ${Ce}${ue}`,font:{size:16}},datalabels:{display:!1}},scales:{x:{title:{display:!0,text:D.includes("hour")?"Hour":"Date"}},y:{title:{display:!0,text:"Count"},beginAtZero:!0}}}});const ce=i.filter(z=>W(P(z.id),h)).filter(X),Ae={};ce.forEach(z=>{if(!z.labels||z.labels.length===0){const Y="No Label";Ae[Y]=(Ae[Y]||0)+1}else{const Y=z.labels.map(fe=>fe.name||fe.color).sort().join(" + ");Ae[Y]=(Ae[Y]||0)+1}});const re=Ie.current.getContext("2d");ke.current=new window.Chart(re,{type:"pie",data:{labels:Object.keys(Ae),datasets:[{data:Object.values(Ae),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8e5ea2","#3cba9f","#e8c3b9","#c45850"]}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:50},plugins:{legend:{display:!1},datalabels:{color:"#000",anchor:"end",align:"end",offset:10,backgroundColor:"rgba(255,255,255,0.8)",borderRadius:4,padding:4,formatter:(z,Y)=>[Y.chart.data.labels[Y.dataIndex],`(${z})`],font:{weight:"bold",size:11}}}}})},[i,h,D,y,C,x]);const he=(j,A)=>{if(!window.html2canvas){alert("Export library not loaded.");return}const M=j?document.getElementById(j):document.querySelector(".dashboard-grid");window.html2canvas(M).then(q=>{const $=document.createElement("a");$.download=`${le}-stats-${A||"all"}.png`,$.href=q.toDataURL(),$.click()})};return s.jsxs("div",{className:"container",style:{paddingBottom:"80px"},children:[s.jsxs("div",{className:"map-header",children:[s.jsxs("div",{className:"header-title-area",style:{display:"flex",alignItems:"center"},children:[s.jsx(ad,{boardId:K}),s.jsxs("h1",{style:{marginLeft:"20px"},children:[le," - Statistics"]})]}),s.jsxs("div",{className:"header-actions",style:{display:"flex",alignItems:"center"},children:[s.jsx(Im,{labels:N,selectedLabelIds:y,onChange:b,labelLogic:C,onLabelLogicChange:E}),s.jsxs("select",{className:"time-filter-select",value:h,onChange:j=>{const A=j.target.value;m(A),g(A==="custom")},style:{marginLeft:"10px"},children:[s.jsx("option",{value:"this_week",children:"Created: This Week"}),Object.keys(Vr).filter(j=>j!=="all").map(j=>s.jsx("option",{value:j,children:Vr[j].label},j)),s.jsx("option",{value:"custom",children:"Custom Range"})]}),h==="custom"&&s.jsxs("div",{style:{display:"inline-flex",gap:"5px",marginLeft:"10px",alignItems:"center"},children:[s.jsx("input",{type:"date",value:x.start||"",onChange:j=>k({...x,start:j.target.value})}),s.jsx("span",{children:"to"}),s.jsx("input",{type:"date",value:x.end||"",onChange:j=>k({...x,end:j.target.value})})]}),s.jsx("button",{className:"theme-toggle-button",onClick:()=>d(),style:{marginLeft:"15px",padding:"6px",fontSize:"1.2em",background:"none",border:"none",cursor:"pointer"},children:p==="dark"?"":""})]})]}),l?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",fontSize:"1.2em",color:"#666"},children:"Generating stats..."}):s.jsxs("div",{id:"stats-export-area",className:"dashboard-grid",style:{marginTop:"20px",display:"flex",flexDirection:"column",gap:"30px",padding:"0 20px"},children:[s.jsxs("div",{className:"form-card",id:"card-line-chart",style:{width:"100%",minHeight:"400px",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[s.jsx("h3",{children:"Cards Created / Completed"}),s.jsxs("div",{style:{display:"flex",gap:"5px"},children:[s.jsxs("select",{value:D,onChange:j=>I(j.target.value),style:{padding:"2px",fontSize:"0.9em"},children:[s.jsx("option",{value:"day",children:"By Day"}),s.jsx("option",{value:"hour",children:"By Hour"}),s.jsx("option",{value:"cumulative_hour",children:"Per Hour (Cumulative)"}),s.jsx("option",{value:"month",children:"By Month"})]}),s.jsx("button",{onClick:()=>he("card-line-chart","timeline"),style:{fontSize:"0.8em",padding:"2px 5px"},children:"Export"})]})]}),s.jsx("div",{style:{flex:1,position:"relative"},children:s.jsx("canvas",{ref:se})})]}),s.jsxs("div",{className:"form-card",id:"card-pie-chart",style:{width:"100%",minHeight:"500px",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[s.jsxs("h3",{children:["Labels Breakdown - ",Ce]}),s.jsx("button",{onClick:()=>he("card-pie-chart","labels"),style:{fontSize:"0.8em",padding:"2px 5px"},children:"Export"})]}),s.jsx("div",{style:{flex:1,position:"relative"},children:s.jsx("canvas",{ref:Ie})})]})]}),s.jsxs("div",{className:"footer-action-bar",children:[s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{className:"button-secondary",onClick:n,children:"Dashboard View"}),s.jsx("button",{className:"button-secondary",disabled:!V,onClick:()=>window.location.href="/map",children:"Map View"})]}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{className:"button-secondary",onClick:r,children:"Settings"}),s.jsx("button",{className:"button-secondary",onClick:o,children:"Log Out"})]})]})]})},CC=()=>{const[e,t]=w.useState(null),[r,n]=w.useState(null),[o,i]=w.useState("landing"),[a,l]=w.useState(!0),[u,c]=w.useState(""),[f,p]=w.useState("dashboard"),[d,h]=w.useState(null),[m,x]=w.useState(null);w.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("config");if(b)try{atob(b),localStorage.setItem("PENDING_SHARE_CONFIG",b),window.history.replaceState({},document.title,window.location.pathname)}catch{console.error("Invalid config param in URL")}const C=window.location.pathname;C==="/map"?i("map"):C==="/tasks"?i("tasks"):C==="/tasks/settings"?i("tasks-settings"):C==="/stats"?i("stats"):C==="/settings"&&i("settings");const E=$n.getTokenFromUrl();if(E)k(E);else{const D=V1();if(D){const N=(JSON.parse(localStorage.getItem(Ee.USER_DATA))||{})[D];N&&N.token?k(N.token):(C!=="/map"&&i("landing"),l(!1))}else C!=="/map"&&i("landing"),l(!1)}},[]),w.useEffect(()=>{o==="dashboard"&&localStorage.getItem("openSettingsOnLoad")==="true"&&(localStorage.removeItem("openSettingsOnLoad"),x("dashboard"),i("settings"))},[o]);const k=async y=>{l(!0),c("");try{const b=await Fe("/members/me",y),C={id:b.id,username:b.username,fullName:b.fullName,token:y};yi(b.id,"token",y),yi(b.id,"username",b.username),Ws(b.id),t(C);const E=Ql(b.id,"settings"),D=window.location.pathname,I=E&&E.enableTaskView,N=E&&E.boardId;D==="/tasks"||D==="/tasks/settings"?D==="/tasks"&&!I?(console.log("Task View disabled, redirecting to /tasks/settings"),i("tasks-settings"),window.history.replaceState({},"","/tasks/settings")):i(D==="/tasks/settings"?"tasks-settings":"tasks"):D==="/map"?N?(E&&n(E),i("map")):(console.log("No board configured, redirecting to /settings"),i("settings"),window.history.replaceState({},"","/settings")):D==="/settings"?(E&&n(E),i("settings")):D==="/stats"?N?(E&&n(E),i("stats")):(i("settings"),window.history.replaceState({},"","/settings")):N?(n(E),i("dashboard"),D!=="/dashboard"&&window.history.replaceState({},"","/dashboard")):(i("settings"),window.history.replaceState({},"","/settings")),E&&n(E);const L=localStorage.getItem("PENDING_SHARE_CONFIG");if(L)try{const V=decodeURIComponent(escape(atob(L))),K=JSON.parse(V);h(K),i("settings"),x("dashboard"),localStorage.removeItem("PENDING_SHARE_CONFIG"),console.log("Loaded pending shared configuration")}catch(V){console.error("Failed to load pending config",V)}}catch(b){console.error("Login validation failed:",b),c("Failed to validate Trello session. Please log in again."),Ws(null),i("landing")}finally{l(!1)}},v=()=>{e&&yi(e.id,"token",null),Ws(null),t(null),n(null),i("landing"),x(null),$n.logout()},g=y=>{if(y&&n(y),o==="tasks-settings"&&y&&y.enableTaskView){i("tasks"),window.history.pushState({},"","/tasks");return}m==="map"&&(y!=null&&y.boardId)?(i("map"),window.history.pushState({},"","/map")):m==="tasks"&&(y!=null&&y.enableTaskView)?(i("tasks"),window.history.pushState({},"","/tasks")):y!=null&&y.boardId?(i("dashboard"),window.history.pushState({},"","/dashboard")):(i("settings"),window.history.pushState({},"","/settings"))};return a?s.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"50px"},children:"Initializing Trellops..."}):u?s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"error",style:{textAlign:"center",marginTop:"50px"},children:u}),s.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:s.jsx("button",{className:"settings-button",onClick:()=>{c(""),i("landing")},children:"Go to Login"})})]}):o==="map"?s.jsx(bC,{user:e,settings:r,onClose:()=>{i("dashboard"),window.history.pushState({},"","/dashboard")},onShowSettings:()=>{x("map"),p("map"),i("settings"),window.history.pushState({},"","/settings")},onLogout:v,onShowTasks:()=>{x("map"),i("tasks"),window.history.pushState({},"","/tasks")}}):o==="tasks"?s.jsx(wC,{user:e,settings:r,onClose:()=>{i("dashboard"),window.history.pushState({},"","/dashboard")},onMainView:()=>{i("dashboard"),window.history.pushState({},"","/dashboard")},onShowSettings:()=>{x("tasks"),p("tasks"),i("tasks-settings"),window.history.pushState({},"","/tasks/settings")},onShowMap:()=>{x("tasks"),i("map"),window.history.pushState({},"","/map")},onLogout:v,onGoToStats:()=>{x("settings"),i("stats")}}):o==="stats"&&e?s.jsx(kC,{user:e,settings:r,onShowSettings:()=>{x("stats"),i("settings"),p("statistics")},onGoToDashboard:()=>i("dashboard"),onLogout:v}):o==="landing"?s.jsx(nf,{}):o==="dashboard"?s.jsx(G1,{user:e,settings:r,onShowSettings:()=>{x("dashboard"),p("dashboard"),i("settings"),window.history.pushState({},"","/settings")},onLogout:v,onShowTasks:()=>{x("dashboard"),i("tasks"),window.history.pushState({},"","/tasks")},onShowMap:()=>{x("dashboard"),i("map"),window.history.pushState({},"","/map")}}):o==="settings"?s.jsx(Kf,{user:e,initialTab:f,onSave:g,onClose:()=>{r!=null&&r.boardId?m==="map"?(i("map"),window.history.pushState({},"","/map")):(i("dashboard"),window.history.pushState({},"","/dashboard")):window.location.href="/"},onLogout:v,importedConfig:d,onClearImportConfig:()=>h(null),viewMode:"default",onManageTasks:()=>{i("tasks-settings"),window.history.pushState({},"","/tasks/settings")},onGoToStats:()=>{x("settings"),i("stats"),window.history.pushState({},"","/stats")}}):o==="tasks-settings"?s.jsx(Kf,{user:e,initialTab:"tasks",onSave:g,onClose:()=>{r!=null&&r.enableTaskView?(i("tasks"),window.history.pushState({},"","/tasks")):r!=null&&r.boardId?(i("dashboard"),window.history.pushState({},"","/dashboard")):window.location.href="/"},onLogout:v,viewMode:"tasks"}):s.jsx(nf,{})},IC=()=>{const[e,t]=w.useState(!1);return w.useEffect(()=>{window.location.hostname!=="trellops.xyz"&&t(!0)},[]),e?s.jsx("div",{style:{width:"100%",backgroundColor:"#003366",color:"#ffffff",textAlign:"center",padding:"4px 0",fontSize:"12px",fontWeight:"bold",letterSpacing:"1px",zIndex:9999,position:"relative"},children:"PREVIEW ENVIRONMENT"}):null};nu.createRoot(document.getElementById("root")).render(s.jsx(De.StrictMode,{children:s.jsxs(W1,{children:[s.jsx(IC,{}),s.jsx(CC,{})]})}));
