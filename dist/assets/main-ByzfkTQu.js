var Sy=Object.defineProperty;var ky=(e,t,r)=>t in e?Sy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ae=(e,t,r)=>ky(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function Cu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kh={exports:{}},Ul={},Ch={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zi=Symbol.for("react.element"),Cy=Symbol.for("react.portal"),Iy=Symbol.for("react.fragment"),Ey=Symbol.for("react.strict_mode"),Dy=Symbol.for("react.profiler"),jy=Symbol.for("react.provider"),Ty=Symbol.for("react.context"),Ny=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Py=Symbol.for("react.memo"),Ly=Symbol.for("react.lazy"),sp=Symbol.iterator;function Ay(e){return e===null||typeof e!="object"?null:(e=sp&&e[sp]||e["@@iterator"],typeof e=="function"?e:null)}var Ih={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eh=Object.assign,Dh={};function Uo(e,t,r){this.props=e,this.context=t,this.refs=Dh,this.updater=r||Ih}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jh(){}jh.prototype=Uo.prototype;function Iu(e,t,r){this.props=e,this.context=t,this.refs=Dh,this.updater=r||Ih}var Eu=Iu.prototype=new jh;Eu.constructor=Iu;Eh(Eu,Uo.prototype);Eu.isPureReactComponent=!0;var cp=Array.isArray,Th=Object.prototype.hasOwnProperty,Du={current:null},Nh={key:!0,ref:!0,__self:!0,__source:!0};function Rh(e,t,r){var n,o={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Th.call(t,n)&&!Nh.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:Zi,type:e,key:i,ref:a,props:o,_owner:Du.current}}function My(e,t){return{$$typeof:Zi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ju(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zi}function Oy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var up=/\/+/g;function Ps(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Oy(""+e.key):t.toString(36)}function Ha(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Zi:case Cy:a=!0}}if(a)return a=e,o=o(a),e=n===""?"."+Ps(a,0):n,cp(o)?(r="",e!=null&&(r=e.replace(up,"$&/")+"/"),Ha(o,t,r,"",function(u){return u})):o!=null&&(ju(o)&&(o=My(o,r+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(up,"$&/")+"/")+e)),t.push(o)),1;if(a=0,n=n===""?".":n+":",cp(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ps(i,l);a+=Ha(i,t,r,c,o)}else if(c=Ay(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ps(i,l++),a+=Ha(i,t,r,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function wa(e,t,r){if(e==null)return e;var n=[],o=0;return Ha(e,n,"","",function(i){return t.call(r,i,o++)}),n}function By(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},Ga={transition:null},zy={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:Du};function Ph(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:wa,forEach:function(e,t,r){wa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wa(e,function(){t++}),t},toArray:function(e){return wa(e,function(t){return t})||[]},only:function(e){if(!ju(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Uo;ge.Fragment=Iy;ge.Profiler=Dy;ge.PureComponent=Iu;ge.StrictMode=Ey;ge.Suspense=Ry;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zy;ge.act=Ph;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Eh({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Du.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Th.call(t,c)&&!Nh.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Zi,type:e.type,key:o,ref:i,props:n,_owner:a}};ge.createContext=function(e){return e={$$typeof:Ty,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jy,_context:e},e.Consumer=e};ge.createElement=Rh;ge.createFactory=function(e){var t=Rh.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:Ny,render:e}};ge.isValidElement=ju;ge.lazy=function(e){return{$$typeof:Ly,_payload:{_status:-1,_result:e},_init:By}};ge.memo=function(e,t){return{$$typeof:Py,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Ga.transition;Ga.transition={};try{e()}finally{Ga.transition=t}};ge.unstable_act=Ph;ge.useCallback=function(e,t){return Ot.current.useCallback(e,t)};ge.useContext=function(e){return Ot.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Ot.current.useEffect(e,t)};ge.useId=function(){return Ot.current.useId()};ge.useImperativeHandle=function(e,t,r){return Ot.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Ot.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return Ot.current.useReducer(e,t,r)};ge.useRef=function(e){return Ot.current.useRef(e)};ge.useState=function(e){return Ot.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return Ot.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return Ot.current.useTransition()};ge.version="18.3.1";Ch.exports=ge;var b=Ch.exports;const Ne=Cu(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=b,Fy=Symbol.for("react.element"),_y=Symbol.for("react.fragment"),Vy=Object.prototype.hasOwnProperty,Uy=$y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wy={key:!0,ref:!0,__self:!0,__source:!0};function Lh(e,t,r){var n,o={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Vy.call(t,n)&&!Wy.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Fy,type:e,key:i,ref:a,props:o,_owner:Uy.current}}Ul.Fragment=_y;Ul.jsx=Lh;Ul.jsxs=Lh;kh.exports=Ul;var s=kh.exports,yc={},Ah={exports:{}},ir={},Mh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,H){var V=M.length;M.push(H);e:for(;0<V;){var Y=V-1>>>1,G=M[Y];if(0<o(G,H))M[Y]=H,M[V]=G,V=Y;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var H=M[0],V=M.pop();if(V!==H){M[0]=V;e:for(var Y=0,G=M.length,xe=G>>>1;Y<xe;){var he=2*(Y+1)-1,oe=M[he],N=he+1,A=M[N];if(0>o(oe,V))N<G&&0>o(A,oe)?(M[Y]=A,M[N]=V,Y=N):(M[Y]=oe,M[he]=V,Y=he);else if(N<G&&0>o(A,V))M[Y]=A,M[N]=V,Y=N;else break e}}return H}function o(M,H){var V=M.sortIndex-H.sortIndex;return V!==0?V:M.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,v=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=M)n(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=r(u)}}function w(M){if(y=!1,x(M),!v)if(r(c)!==null)v=!0,fe(I);else{var H=r(u);H!==null&&ve(w,H.startTime-M)}}function I(M,H){v=!1,y&&(y=!1,m(C),C=-1),f=!0;var V=p;try{for(x(H),d=r(c);d!==null&&(!(d.expirationTime>H)||M&&!z());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,p=d.priorityLevel;var G=Y(d.expirationTime<=H);H=e.unstable_now(),typeof G=="function"?d.callback=G:d===r(c)&&n(c),x(H)}else n(c);d=r(c)}if(d!==null)var xe=!0;else{var he=r(u);he!==null&&ve(w,he.startTime-H),xe=!1}return xe}finally{d=null,p=V,f=!1}}var D=!1,E=null,C=-1,j=5,R=-1;function z(){return!(e.unstable_now()-R<j)}function _(){if(E!==null){var M=e.unstable_now();R=M;var H=!0;try{H=E(!0,M)}finally{H?J():(D=!1,E=null)}}else D=!1}var J;if(typeof g=="function")J=function(){g(_)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ie=ae.port2;ae.port1.onmessage=_,J=function(){ie.postMessage(null)}}else J=function(){k(_,0)};function fe(M){E=M,D||(D=!0,J())}function ve(M,H){C=k(function(){M(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,fe(I))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var V=p;p=H;try{return M()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=p;p=M;try{return H()}finally{p=V}},e.unstable_scheduleCallback=function(M,H,V){var Y=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,M={id:h++,callback:H,priorityLevel:M,startTime:V,expirationTime:G,sortIndex:-1},V>Y?(M.sortIndex=V,t(u,M),r(c)===null&&M===r(u)&&(y?(m(C),C=-1):y=!0,ve(w,V-Y))):(M.sortIndex=G,t(c,M),v||f||(v=!0,fe(I))),M},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(M){var H=p;return function(){var V=p;p=H;try{return M.apply(this,arguments)}finally{p=V}}}})(Oh);Mh.exports=Oh;var Hy=Mh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy=b,or=Hy;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bh=new Set,Ti={};function ao(e,t){Lo(e,t),Lo(e+"Capture",t)}function Lo(e,t){for(Ti[e]=t,e=0;e<t.length;e++)Bh.add(t[e])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xc=Object.prototype.hasOwnProperty,qy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dp={},pp={};function Qy(e){return xc.call(pp,e)?!0:xc.call(dp,e)?!1:qy.test(e)?pp[e]=!0:(dp[e]=!0,!1)}function Yy(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ky(e,t,r,n){if(t===null||typeof t>"u"||Yy(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,r,n,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tu=/[\-:]([a-z])/g;function Nu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tu,Nu);kt[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tu,Nu);kt[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tu,Nu);kt[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ru(e,t,r,n){var o=kt.hasOwnProperty(t)?kt[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ky(t,r,o,n)&&(r=null),n||o===null?Qy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var on=Gy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sa=Symbol.for("react.element"),go=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),Pu=Symbol.for("react.strict_mode"),bc=Symbol.for("react.profiler"),zh=Symbol.for("react.provider"),$h=Symbol.for("react.context"),Lu=Symbol.for("react.forward_ref"),wc=Symbol.for("react.suspense"),Sc=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),Fh=Symbol.for("react.offscreen"),fp=Symbol.iterator;function Jo(e){return e===null||typeof e!="object"?null:(e=fp&&e[fp]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,Ls;function ui(e){if(Ls===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ls=t&&t[1]||""}return`
`+Ls+e}var As=!1;function Ms(e,t){if(!e||As)return"";As=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=n.stack.split(`
`),a=o.length-1,l=i.length-1;1<=a&&0<=l&&o[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==i[l]){var c=`
`+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{As=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ui(e):""}function Jy(e){switch(e.tag){case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 2:case 15:return e=Ms(e.type,!1),e;case 11:return e=Ms(e.type.render,!1),e;case 1:return e=Ms(e.type,!0),e;default:return""}}function kc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mo:return"Fragment";case go:return"Portal";case bc:return"Profiler";case Pu:return"StrictMode";case wc:return"Suspense";case Sc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $h:return(e.displayName||"Context")+".Consumer";case zh:return(e._context.displayName||"Context")+".Provider";case Lu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Au:return t=e.displayName||null,t!==null?t:kc(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return kc(e(t))}catch{}}return null}function Zy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kc(t);case 8:return t===Pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function En(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _h(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xy(e){var t=_h(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ka(e){e._valueTracker||(e._valueTracker=Xy(e))}function Vh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_h(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cc(e,t){var r=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=En(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Uh(e,t){t=t.checked,t!=null&&Ru(e,"checked",t,!1)}function Ic(e,t){Uh(e,t);var r=En(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ec(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ec(e,t.type,En(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ec(e,t,r){(t!=="number"||ol(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var di=Array.isArray;function Do(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+En(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Dc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(B(92));if(di(r)){if(1<r.length)throw Error(B(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:En(r)}}function Wh(e,t){var r=En(t.value),n=En(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function vp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ca,Gh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ca=Ca||document.createElement("div"),Ca.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ca.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ni(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ex=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(e){ex.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mi[t]=mi[e]})});function qh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mi.hasOwnProperty(e)&&mi[e]?(""+t).trim():t+"px"}function Qh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=qh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var tx=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tc(e,t){if(t){if(tx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Nc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=null;function Mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pc=null,jo=null,To=null;function yp(e){if(e=ta(e)){if(typeof Pc!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Ql(t),Pc(e.stateNode,e.type,t))}}function Yh(e){jo?To?To.push(e):To=[e]:jo=e}function Kh(){if(jo){var e=jo,t=To;if(To=jo=null,yp(e),t)for(e=0;e<t.length;e++)yp(t[e])}}function Jh(e,t){return e(t)}function Zh(){}var Os=!1;function Xh(e,t,r){if(Os)return e(t,r);Os=!0;try{return Jh(e,t,r)}finally{Os=!1,(jo!==null||To!==null)&&(Zh(),Kh())}}function Ri(e,t){var r=e.stateNode;if(r===null)return null;var n=Ql(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var Lc=!1;if(en)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){Lc=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Lc=!1}function rx(e,t,r,n,o,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var vi=!1,il=null,al=!1,Ac=null,nx={onError:function(e){vi=!0,il=e}};function ox(e,t,r,n,o,i,a,l,c){vi=!1,il=null,rx.apply(nx,arguments)}function ix(e,t,r,n,o,i,a,l,c){if(ox.apply(this,arguments),vi){if(vi){var u=il;vi=!1,il=null}else throw Error(B(198));al||(al=!0,Ac=u)}}function lo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xp(e){if(lo(e)!==e)throw Error(B(188))}function ax(e){var t=e.alternate;if(!t){if(t=lo(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return xp(o),e;if(i===n)return xp(o),t;i=i.sibling}throw Error(B(188))}if(r.return!==n.return)r=o,n=i;else{for(var a=!1,l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function tg(e){return e=ax(e),e!==null?rg(e):null}function rg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rg(e);if(t!==null)return t;e=e.sibling}return null}var ng=or.unstable_scheduleCallback,bp=or.unstable_cancelCallback,lx=or.unstable_shouldYield,sx=or.unstable_requestPaint,tt=or.unstable_now,cx=or.unstable_getCurrentPriorityLevel,Ou=or.unstable_ImmediatePriority,og=or.unstable_UserBlockingPriority,ll=or.unstable_NormalPriority,ux=or.unstable_LowPriority,ig=or.unstable_IdlePriority,Wl=null,Vr=null;function dx(e){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Wl,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:hx,px=Math.log,fx=Math.LN2;function hx(e){return e>>>=0,e===0?32:31-(px(e)/fx|0)|0}var Ia=64,Ea=4194304;function pi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~o;l!==0?n=pi(l):(i&=a,i!==0&&(n=pi(i)))}else a=r&~o,a!==0?n=pi(a):i!==0&&(n=pi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Rr(t),o=1<<r,n|=e[r],t&=~o;return n}function gx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mx(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Rr(i),l=1<<a,c=o[a];c===-1?(!(l&r)||l&n)&&(o[a]=gx(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Mc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ag(){var e=Ia;return Ia<<=1,!(Ia&4194240)&&(Ia=64),e}function Bs(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rr(t),e[t]=r}function vx(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Rr(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}function Bu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Rr(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var Pe=0;function lg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sg,zu,cg,ug,dg,Oc=!1,Da=[],gn=null,mn=null,vn=null,Pi=new Map,Li=new Map,dn=[],yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wp(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Xo(e,t,r,n,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ta(t),t!==null&&zu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function xx(e,t,r,n,o){switch(t){case"focusin":return gn=Xo(gn,e,t,r,n,o),!0;case"dragenter":return mn=Xo(mn,e,t,r,n,o),!0;case"mouseover":return vn=Xo(vn,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return Pi.set(i,Xo(Pi.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Li.set(i,Xo(Li.get(i)||null,e,t,r,n,o)),!0}return!1}function pg(e){var t=Gn(e.target);if(t!==null){var r=lo(t);if(r!==null){if(t=r.tag,t===13){if(t=eg(r),t!==null){e.blockedOn=t,dg(e.priority,function(){cg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Rc=n,r.target.dispatchEvent(n),Rc=null}else return t=ta(r),t!==null&&zu(t),e.blockedOn=r,!1;t.shift()}return!0}function Sp(e,t,r){qa(e)&&r.delete(t)}function bx(){Oc=!1,gn!==null&&qa(gn)&&(gn=null),mn!==null&&qa(mn)&&(mn=null),vn!==null&&qa(vn)&&(vn=null),Pi.forEach(Sp),Li.forEach(Sp)}function ei(e,t){e.blockedOn===t&&(e.blockedOn=null,Oc||(Oc=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,bx)))}function Ai(e){function t(o){return ei(o,e)}if(0<Da.length){ei(Da[0],e);for(var r=1;r<Da.length;r++){var n=Da[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gn!==null&&ei(gn,e),mn!==null&&ei(mn,e),vn!==null&&ei(vn,e),Pi.forEach(t),Li.forEach(t),r=0;r<dn.length;r++)n=dn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<dn.length&&(r=dn[0],r.blockedOn===null);)pg(r),r.blockedOn===null&&dn.shift()}var No=on.ReactCurrentBatchConfig,cl=!0;function wx(e,t,r,n){var o=Pe,i=No.transition;No.transition=null;try{Pe=1,$u(e,t,r,n)}finally{Pe=o,No.transition=i}}function Sx(e,t,r,n){var o=Pe,i=No.transition;No.transition=null;try{Pe=4,$u(e,t,r,n)}finally{Pe=o,No.transition=i}}function $u(e,t,r,n){if(cl){var o=Bc(e,t,r,n);if(o===null)qs(e,t,n,ul,r),wp(e,n);else if(xx(o,e,t,r,n))n.stopPropagation();else if(wp(e,n),t&4&&-1<yx.indexOf(e)){for(;o!==null;){var i=ta(o);if(i!==null&&sg(i),i=Bc(e,t,r,n),i===null&&qs(e,t,n,ul,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else qs(e,t,n,null,r)}}var ul=null;function Bc(e,t,r,n){if(ul=null,e=Mu(n),e=Gn(e),e!==null)if(t=lo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=eg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ul=e,null}function fg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cx()){case Ou:return 1;case og:return 4;case ll:case ux:return 16;case ig:return 536870912;default:return 16}default:return 16}}var fn=null,Fu=null,Qa=null;function hg(){if(Qa)return Qa;var e,t=Fu,r=t.length,n,o="value"in fn?fn.value:fn.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===o[i-n];n++);return Qa=o.slice(e,1<n?1-n:void 0)}function Ya(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ja(){return!0}function kp(){return!1}function ar(e){function t(r,n,o,i,a){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ja:kp,this.isPropagationStopped=kp,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=ar(Wo),ea=Ke({},Wo,{view:0,detail:0}),kx=ar(ea),zs,$s,ti,Hl=Ke({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(zs=e.screenX-ti.screenX,$s=e.screenY-ti.screenY):$s=zs=0,ti=e),zs)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),Cp=ar(Hl),Cx=Ke({},Hl,{dataTransfer:0}),Ix=ar(Cx),Ex=Ke({},ea,{relatedTarget:0}),Fs=ar(Ex),Dx=Ke({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),jx=ar(Dx),Tx=Ke({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nx=ar(Tx),Rx=Ke({},Wo,{data:0}),Ip=ar(Rx),Px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ax={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ax[e])?!!t[e]:!1}function Vu(){return Mx}var Ox=Ke({},ea,{key:function(e){if(e.key){var t=Px[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(e){return e.type==="keypress"?Ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bx=ar(Ox),zx=Ke({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ep=ar(zx),$x=Ke({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),Fx=ar($x),_x=Ke({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vx=ar(_x),Ux=Ke({},Hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wx=ar(Ux),Hx=[9,13,27,32],Uu=en&&"CompositionEvent"in window,yi=null;en&&"documentMode"in document&&(yi=document.documentMode);var Gx=en&&"TextEvent"in window&&!yi,gg=en&&(!Uu||yi&&8<yi&&11>=yi),Dp=" ",jp=!1;function mg(e,t){switch(e){case"keyup":return Hx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vo=!1;function qx(e,t){switch(e){case"compositionend":return vg(t);case"keypress":return t.which!==32?null:(jp=!0,Dp);case"textInput":return e=t.data,e===Dp&&jp?null:e;default:return null}}function Qx(e,t){if(vo)return e==="compositionend"||!Uu&&mg(e,t)?(e=hg(),Qa=Fu=fn=null,vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gg&&t.locale!=="ko"?null:t.data;default:return null}}var Yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yx[e.type]:t==="textarea"}function yg(e,t,r,n){Yh(n),t=dl(t,"onChange"),0<t.length&&(r=new _u("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var xi=null,Mi=null;function Kx(e){Tg(e,0)}function Gl(e){var t=bo(e);if(Vh(t))return e}function Jx(e,t){if(e==="change")return t}var xg=!1;if(en){var _s;if(en){var Vs="oninput"in document;if(!Vs){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),Vs=typeof Np.oninput=="function"}_s=Vs}else _s=!1;xg=_s&&(!document.documentMode||9<document.documentMode)}function Rp(){xi&&(xi.detachEvent("onpropertychange",bg),Mi=xi=null)}function bg(e){if(e.propertyName==="value"&&Gl(Mi)){var t=[];yg(t,Mi,e,Mu(e)),Xh(Kx,t)}}function Zx(e,t,r){e==="focusin"?(Rp(),xi=t,Mi=r,xi.attachEvent("onpropertychange",bg)):e==="focusout"&&Rp()}function Xx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(Mi)}function e1(e,t){if(e==="click")return Gl(t)}function t1(e,t){if(e==="input"||e==="change")return Gl(t)}function r1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:r1;function Oi(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!xc.call(t,o)||!Lr(e[o],t[o]))return!1}return!0}function Pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lp(e,t){var r=Pp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pp(r)}}function wg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sg(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ol(e.document)}return t}function Wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n1(e){var t=Sg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wg(r.ownerDocument.documentElement,r)){if(n!==null&&Wu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=Lp(r,i);var a=Lp(r,n);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var o1=en&&"documentMode"in document&&11>=document.documentMode,yo=null,zc=null,bi=null,$c=!1;function Ap(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$c||yo==null||yo!==ol(n)||(n=yo,"selectionStart"in n&&Wu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bi&&Oi(bi,n)||(bi=n,n=dl(zc,"onSelect"),0<n.length&&(t=new _u("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yo)))}function Ta(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},Us={},kg={};en&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function ql(e){if(Us[e])return Us[e];if(!xo[e])return e;var t=xo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kg)return Us[e]=t[r];return e}var Cg=ql("animationend"),Ig=ql("animationiteration"),Eg=ql("animationstart"),Dg=ql("transitionend"),jg=new Map,Mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){jg.set(e,t),ao(t,[e])}for(var Ws=0;Ws<Mp.length;Ws++){var Hs=Mp[Ws],i1=Hs.toLowerCase(),a1=Hs[0].toUpperCase()+Hs.slice(1);Tn(i1,"on"+a1)}Tn(Cg,"onAnimationEnd");Tn(Ig,"onAnimationIteration");Tn(Eg,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(Dg,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l1=new Set("cancel close invalid load scroll toggle".split(" ").concat(fi));function Op(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ix(n,t,void 0,e),e.currentTarget=null}function Tg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&o.isPropagationStopped())break e;Op(o,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&o.isPropagationStopped())break e;Op(o,l,u),i=c}}}if(al)throw e=Ac,al=!1,Ac=null,e}function _e(e,t){var r=t[Wc];r===void 0&&(r=t[Wc]=new Set);var n=e+"__bubble";r.has(n)||(Ng(t,e,2,!1),r.add(n))}function Gs(e,t,r){var n=0;t&&(n|=4),Ng(r,e,n,t)}var Na="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Na]){e[Na]=!0,Bh.forEach(function(r){r!=="selectionchange"&&(l1.has(r)||Gs(r,!1,e),Gs(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Na]||(t[Na]=!0,Gs("selectionchange",!1,t))}}function Ng(e,t,r,n){switch(fg(t)){case 1:var o=wx;break;case 4:o=Sx;break;default:o=$u}r=o.bind(null,t,r,e),o=void 0,!Lc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function qs(e,t,r,n,o){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;l!==null;){if(a=Gn(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Xh(function(){var u=i,h=Mu(r),d=[];e:{var p=jg.get(e);if(p!==void 0){var f=_u,v=e;switch(e){case"keypress":if(Ya(r)===0)break e;case"keydown":case"keyup":f=Bx;break;case"focusin":v="focus",f=Fs;break;case"focusout":v="blur",f=Fs;break;case"beforeblur":case"afterblur":f=Fs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Fx;break;case Cg:case Ig:case Eg:f=jx;break;case Dg:f=Vx;break;case"scroll":f=kx;break;case"wheel":f=Wx;break;case"copy":case"cut":case"paste":f=Nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Ep}var y=(t&4)!==0,k=!y&&e==="scroll",m=y?p!==null?p+"Capture":null:p;y=[];for(var g=u,x;g!==null;){x=g;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,m!==null&&(w=Ri(g,m),w!=null&&y.push(zi(g,w,x)))),k)break;g=g.return}0<y.length&&(p=new f(p,v,null,r,h),d.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==Rc&&(v=r.relatedTarget||r.fromElement)&&(Gn(v)||v[tn]))break e;if((f||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=u,v=v?Gn(v):null,v!==null&&(k=lo(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(y=Cp,w="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ep,w="onPointerLeave",m="onPointerEnter",g="pointer"),k=f==null?p:bo(f),x=v==null?p:bo(v),p=new y(w,g+"leave",f,r,h),p.target=k,p.relatedTarget=x,w=null,Gn(h)===u&&(y=new y(m,g+"enter",v,r,h),y.target=x,y.relatedTarget=k,w=y),k=w,f&&v)t:{for(y=f,m=v,g=0,x=y;x;x=fo(x))g++;for(x=0,w=m;w;w=fo(w))x++;for(;0<g-x;)y=fo(y),g--;for(;0<x-g;)m=fo(m),x--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=fo(y),m=fo(m)}y=null}else y=null;f!==null&&Bp(d,p,f,y,!1),v!==null&&k!==null&&Bp(d,k,v,y,!0)}}e:{if(p=u?bo(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var I=Jx;else if(Tp(p))if(xg)I=t1;else{I=Xx;var D=Zx}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=e1);if(I&&(I=I(e,u))){yg(d,I,r,h);break e}D&&D(e,p,u),e==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&Ec(p,"number",p.value)}switch(D=u?bo(u):window,e){case"focusin":(Tp(D)||D.contentEditable==="true")&&(yo=D,zc=u,bi=null);break;case"focusout":bi=zc=yo=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,Ap(d,r,h);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":Ap(d,r,h)}var E;if(Uu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else vo?mg(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(gg&&r.locale!=="ko"&&(vo||C!=="onCompositionStart"?C==="onCompositionEnd"&&vo&&(E=hg()):(fn=h,Fu="value"in fn?fn.value:fn.textContent,vo=!0)),D=dl(u,C),0<D.length&&(C=new Ip(C,e,null,r,h),d.push({event:C,listeners:D}),E?C.data=E:(E=vg(r),E!==null&&(C.data=E)))),(E=Gx?qx(e,r):Qx(e,r))&&(u=dl(u,"onBeforeInput"),0<u.length&&(h=new Ip("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=E))}Tg(d,t)})}function zi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dl(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ri(e,r),i!=null&&n.unshift(zi(e,i,o)),i=Ri(e,t),i!=null&&n.push(zi(e,i,o))),e=e.return}return n}function fo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bp(e,t,r,n,o){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,o?(c=Ri(r,i),c!=null&&a.unshift(zi(r,c,l))):o||(c=Ri(r,i),c!=null&&a.push(zi(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var s1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function zp(e){return(typeof e=="string"?e:""+e).replace(s1,`
`).replace(c1,"")}function Ra(e,t,r){if(t=zp(t),zp(e)!==t&&r)throw Error(B(425))}function pl(){}var Fc=null,_c=null;function Vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uc=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(e){return $p.resolve(null).then(e).catch(p1)}:Uc;function p1(e){setTimeout(function(){throw e})}function Qs(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Ai(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Ai(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ho,$i="__reactProps$"+Ho,tn="__reactContainer$"+Ho,Wc="__reactEvents$"+Ho,f1="__reactListeners$"+Ho,h1="__reactHandles$"+Ho;function Gn(e){var t=e[_r];if(t)return t;for(var r=e.parentNode;r;){if(t=r[tn]||r[_r]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fp(e);e!==null;){if(r=e[_r])return r;e=Fp(e)}return t}e=r,r=e.parentNode}return null}function ta(e){return e=e[_r]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Ql(e){return e[$i]||null}var Hc=[],wo=-1;function Nn(e){return{current:e}}function Ve(e){0>wo||(e.current=Hc[wo],Hc[wo]=null,wo--)}function Fe(e,t){wo++,Hc[wo]=e.current,e.current=t}var Dn={},jt=Nn(Dn),Ht=Nn(!1),Zn=Dn;function Ao(e,t){var r=e.type.contextTypes;if(!r)return Dn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Gt(e){return e=e.childContextTypes,e!=null}function fl(){Ve(Ht),Ve(jt)}function _p(e,t,r){if(jt.current!==Dn)throw Error(B(168));Fe(jt,t),Fe(Ht,r)}function Rg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(B(108,Zy(e)||"Unknown",o));return Ke({},r,n)}function hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,Zn=jt.current,Fe(jt,e),Fe(Ht,Ht.current),!0}function Vp(e,t,r){var n=e.stateNode;if(!n)throw Error(B(169));r?(e=Rg(e,t,Zn),n.__reactInternalMemoizedMergedChildContext=e,Ve(Ht),Ve(jt),Fe(jt,e)):Ve(Ht),Fe(Ht,r)}var Kr=null,Yl=!1,Ys=!1;function Pg(e){Kr===null?Kr=[e]:Kr.push(e)}function g1(e){Yl=!0,Pg(e)}function Rn(){if(!Ys&&Kr!==null){Ys=!0;var e=0,t=Pe;try{var r=Kr;for(Pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Kr=null,Yl=!1}catch(o){throw Kr!==null&&(Kr=Kr.slice(e+1)),ng(Ou,Rn),o}finally{Pe=t,Ys=!1}}return null}var So=[],ko=0,gl=null,ml=0,pr=[],fr=0,Xn=null,Jr=1,Zr="";function Un(e,t){So[ko++]=ml,So[ko++]=gl,gl=e,ml=t}function Lg(e,t,r){pr[fr++]=Jr,pr[fr++]=Zr,pr[fr++]=Xn,Xn=e;var n=Jr;e=Zr;var o=32-Rr(n)-1;n&=~(1<<o),r+=1;var i=32-Rr(t)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,Jr=1<<32-Rr(t)+o|r<<o|n,Zr=i+e}else Jr=1<<i|r<<o|n,Zr=e}function Hu(e){e.return!==null&&(Un(e,1),Lg(e,1,0))}function Gu(e){for(;e===gl;)gl=So[--ko],So[ko]=null,ml=So[--ko],So[ko]=null;for(;e===Xn;)Xn=pr[--fr],pr[fr]=null,Zr=pr[--fr],pr[fr]=null,Jr=pr[--fr],pr[fr]=null}var tr=null,Xt=null,He=!1,Er=null;function Ag(e,t){var r=hr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Up(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tr=e,Xt=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tr=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xn!==null?{id:Jr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tr=e,Xt=null,!0):!1;default:return!1}}function Gc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qc(e){if(He){var t=Xt;if(t){var r=t;if(!Up(e,t)){if(Gc(e))throw Error(B(418));t=yn(r.nextSibling);var n=tr;t&&Up(e,t)?Ag(n,r):(e.flags=e.flags&-4097|2,He=!1,tr=e)}}else{if(Gc(e))throw Error(B(418));e.flags=e.flags&-4097|2,He=!1,tr=e}}}function Wp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function Pa(e){if(e!==tr)return!1;if(!He)return Wp(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vc(e.type,e.memoizedProps)),t&&(t=Xt)){if(Gc(e))throw Mg(),Error(B(418));for(;t;)Ag(e,t),t=yn(t.nextSibling)}if(Wp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=yn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=tr?yn(e.stateNode.nextSibling):null;return!0}function Mg(){for(var e=Xt;e;)e=yn(e.nextSibling)}function Mo(){Xt=tr=null,He=!1}function qu(e){Er===null?Er=[e]:Er.push(e)}var m1=on.ReactCurrentBatchConfig;function ri(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,e));var o=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=o.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,e))}return e}function La(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hp(e){var t=e._init;return t(e._payload)}function Og(e){function t(m,g){if(e){var x=m.deletions;x===null?(m.deletions=[g],m.flags|=16):x.push(g)}}function r(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function o(m,g){return m=Sn(m,g),m.index=0,m.sibling=null,m}function i(m,g,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<g?(m.flags|=2,g):x):(m.flags|=2,g)):(m.flags|=1048576,g)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,x,w){return g===null||g.tag!==6?(g=rc(x,m.mode,w),g.return=m,g):(g=o(g,x),g.return=m,g)}function c(m,g,x,w){var I=x.type;return I===mo?h(m,g,x.props.children,w,x.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===cn&&Hp(I)===g.type)?(w=o(g,x.props),w.ref=ri(m,g,x),w.return=m,w):(w=rl(x.type,x.key,x.props,null,m.mode,w),w.ref=ri(m,g,x),w.return=m,w)}function u(m,g,x,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=nc(x,m.mode,w),g.return=m,g):(g=o(g,x.children||[]),g.return=m,g)}function h(m,g,x,w,I){return g===null||g.tag!==7?(g=Jn(x,m.mode,w,I),g.return=m,g):(g=o(g,x),g.return=m,g)}function d(m,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=rc(""+g,m.mode,x),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Sa:return x=rl(g.type,g.key,g.props,null,m.mode,x),x.ref=ri(m,null,g),x.return=m,x;case go:return g=nc(g,m.mode,x),g.return=m,g;case cn:var w=g._init;return d(m,w(g._payload),x)}if(di(g)||Jo(g))return g=Jn(g,m.mode,x,null),g.return=m,g;La(m,g)}return null}function p(m,g,x,w){var I=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:l(m,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sa:return x.key===I?c(m,g,x,w):null;case go:return x.key===I?u(m,g,x,w):null;case cn:return I=x._init,p(m,g,I(x._payload),w)}if(di(x)||Jo(x))return I!==null?null:h(m,g,x,w,null);La(m,x)}return null}function f(m,g,x,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(x)||null,l(g,m,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sa:return m=m.get(w.key===null?x:w.key)||null,c(g,m,w,I);case go:return m=m.get(w.key===null?x:w.key)||null,u(g,m,w,I);case cn:var D=w._init;return f(m,g,x,D(w._payload),I)}if(di(w)||Jo(w))return m=m.get(x)||null,h(g,m,w,I,null);La(g,w)}return null}function v(m,g,x,w){for(var I=null,D=null,E=g,C=g=0,j=null;E!==null&&C<x.length;C++){E.index>C?(j=E,E=null):j=E.sibling;var R=p(m,E,x[C],w);if(R===null){E===null&&(E=j);break}e&&E&&R.alternate===null&&t(m,E),g=i(R,g,C),D===null?I=R:D.sibling=R,D=R,E=j}if(C===x.length)return r(m,E),He&&Un(m,C),I;if(E===null){for(;C<x.length;C++)E=d(m,x[C],w),E!==null&&(g=i(E,g,C),D===null?I=E:D.sibling=E,D=E);return He&&Un(m,C),I}for(E=n(m,E);C<x.length;C++)j=f(E,m,C,x[C],w),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?C:j.key),g=i(j,g,C),D===null?I=j:D.sibling=j,D=j);return e&&E.forEach(function(z){return t(m,z)}),He&&Un(m,C),I}function y(m,g,x,w){var I=Jo(x);if(typeof I!="function")throw Error(B(150));if(x=I.call(x),x==null)throw Error(B(151));for(var D=I=null,E=g,C=g=0,j=null,R=x.next();E!==null&&!R.done;C++,R=x.next()){E.index>C?(j=E,E=null):j=E.sibling;var z=p(m,E,R.value,w);if(z===null){E===null&&(E=j);break}e&&E&&z.alternate===null&&t(m,E),g=i(z,g,C),D===null?I=z:D.sibling=z,D=z,E=j}if(R.done)return r(m,E),He&&Un(m,C),I;if(E===null){for(;!R.done;C++,R=x.next())R=d(m,R.value,w),R!==null&&(g=i(R,g,C),D===null?I=R:D.sibling=R,D=R);return He&&Un(m,C),I}for(E=n(m,E);!R.done;C++,R=x.next())R=f(E,m,C,R.value,w),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?C:R.key),g=i(R,g,C),D===null?I=R:D.sibling=R,D=R);return e&&E.forEach(function(_){return t(m,_)}),He&&Un(m,C),I}function k(m,g,x,w){if(typeof x=="object"&&x!==null&&x.type===mo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Sa:e:{for(var I=x.key,D=g;D!==null;){if(D.key===I){if(I=x.type,I===mo){if(D.tag===7){r(m,D.sibling),g=o(D,x.props.children),g.return=m,m=g;break e}}else if(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===cn&&Hp(I)===D.type){r(m,D.sibling),g=o(D,x.props),g.ref=ri(m,D,x),g.return=m,m=g;break e}r(m,D);break}else t(m,D);D=D.sibling}x.type===mo?(g=Jn(x.props.children,m.mode,w,x.key),g.return=m,m=g):(w=rl(x.type,x.key,x.props,null,m.mode,w),w.ref=ri(m,g,x),w.return=m,m=w)}return a(m);case go:e:{for(D=x.key;g!==null;){if(g.key===D)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(m,g.sibling),g=o(g,x.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else t(m,g);g=g.sibling}g=nc(x,m.mode,w),g.return=m,m=g}return a(m);case cn:return D=x._init,k(m,g,D(x._payload),w)}if(di(x))return v(m,g,x,w);if(Jo(x))return y(m,g,x,w);La(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(m,g.sibling),g=o(g,x),g.return=m,m=g):(r(m,g),g=rc(x,m.mode,w),g.return=m,m=g),a(m)):r(m,g)}return k}var Oo=Og(!0),Bg=Og(!1),vl=Nn(null),yl=null,Co=null,Qu=null;function Yu(){Qu=Co=yl=null}function Ku(e){var t=vl.current;Ve(vl),e._currentValue=t}function Qc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ro(e,t){yl=e,Qu=Co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function yr(e){var t=e._currentValue;if(Qu!==e)if(e={context:e,memoizedValue:t,next:null},Co===null){if(yl===null)throw Error(B(308));Co=e,yl.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var qn=null;function Ju(e){qn===null?qn=[e]:qn.push(e)}function zg(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Ju(t)):(r.next=o.next,o.next=r),t.interleaved=r,rn(e,n)}function rn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var un=!1;function Zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $g(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,rn(e,r)}return o=n.interleaved,o===null?(t.next=t,Ju(n)):(t.next=o.next,o.next=t),n.interleaved=t,rn(e,r)}function Ka(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bu(e,r)}}function Gp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xl(e,t,r,n){var o=e.updateQueue;un=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=o.baseState;a=0,h=u=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(p=t,f=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(f,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(f,d,p):v,p==null)break e;d=Ke({},d,p);break e;case 2:un=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=f,c=d):h=h.next=f,a|=p;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;p=l,l=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(h===null&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);to|=a,e.lanes=a,e.memoizedState=d}}function qp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(B(191,o));o.call(n)}}}var ra={},Ur=Nn(ra),Fi=Nn(ra),_i=Nn(ra);function Qn(e){if(e===ra)throw Error(B(174));return e}function Xu(e,t){switch(Fe(_i,t),Fe(Fi,e),Fe(Ur,ra),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jc(t,e)}Ve(Ur),Fe(Ur,t)}function Bo(){Ve(Ur),Ve(Fi),Ve(_i)}function Fg(e){Qn(_i.current);var t=Qn(Ur.current),r=jc(t,e.type);t!==r&&(Fe(Fi,e),Fe(Ur,r))}function ed(e){Fi.current===e&&(Ve(Ur),Ve(Fi))}var Qe=Nn(0);function bl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ks=[];function td(){for(var e=0;e<Ks.length;e++)Ks[e]._workInProgressVersionPrimary=null;Ks.length=0}var Ja=on.ReactCurrentDispatcher,Js=on.ReactCurrentBatchConfig,eo=0,Ye=null,it=null,dt=null,wl=!1,wi=!1,Vi=0,v1=0;function It(){throw Error(B(321))}function rd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lr(e[r],t[r]))return!1;return!0}function nd(e,t,r,n,o,i){if(eo=i,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=e===null||e.memoizedState===null?w1:S1,e=r(n,o),wi){i=0;do{if(wi=!1,Vi=0,25<=i)throw Error(B(301));i+=1,dt=it=null,t.updateQueue=null,Ja.current=k1,e=r(n,o)}while(wi)}if(Ja.current=Sl,t=it!==null&&it.next!==null,eo=0,dt=it=Ye=null,wl=!1,t)throw Error(B(300));return e}function od(){var e=Vi!==0;return Vi=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ye.memoizedState=dt=e:dt=dt.next=e,dt}function xr(){if(it===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=dt===null?Ye.memoizedState:dt.next;if(t!==null)dt=t,it=e;else{if(e===null)throw Error(B(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},dt===null?Ye.memoizedState=dt=e:dt=dt.next=e}return dt}function Ui(e,t){return typeof t=="function"?t(e):t}function Zs(e){var t=xr(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=it,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((eo&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=n):c=c.next=d,Ye.lanes|=h,to|=h}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Lr(n,t.memoizedState)||(Wt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do i=o.lane,Ye.lanes|=i,to|=i,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xs(e){var t=xr(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Lr(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _g(){}function Vg(e,t){var r=Ye,n=xr(),o=t(),i=!Lr(n.memoizedState,o);if(i&&(n.memoizedState=o,Wt=!0),n=n.queue,id(Hg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,Wi(9,Wg.bind(null,r,n,o,t),void 0,null),pt===null)throw Error(B(349));eo&30||Ug(r,t,o)}return o}function Ug(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Wg(e,t,r,n){t.value=r,t.getSnapshot=n,Gg(t)&&qg(e)}function Hg(e,t,r){return r(function(){Gg(t)&&qg(e)})}function Gg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lr(e,r)}catch{return!0}}function qg(e){var t=rn(e,1);t!==null&&Pr(t,e,1,-1)}function Qp(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t.queue=e,e=e.dispatch=b1.bind(null,Ye,e),[t.memoizedState,e]}function Wi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Qg(){return xr().memoizedState}function Za(e,t,r,n){var o=Fr();Ye.flags|=e,o.memoizedState=Wi(1|t,r,void 0,n===void 0?null:n)}function Kl(e,t,r,n){var o=xr();n=n===void 0?null:n;var i=void 0;if(it!==null){var a=it.memoizedState;if(i=a.destroy,n!==null&&rd(n,a.deps)){o.memoizedState=Wi(t,r,i,n);return}}Ye.flags|=e,o.memoizedState=Wi(1|t,r,i,n)}function Yp(e,t){return Za(8390656,8,e,t)}function id(e,t){return Kl(2048,8,e,t)}function Yg(e,t){return Kl(4,2,e,t)}function Kg(e,t){return Kl(4,4,e,t)}function Jg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zg(e,t,r){return r=r!=null?r.concat([e]):null,Kl(4,4,Jg.bind(null,t,e),r)}function ad(){}function Xg(e,t){var r=xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function em(e,t){var r=xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tm(e,t,r){return eo&21?(Lr(r,t)||(r=ag(),Ye.lanes|=r,to|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function y1(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var n=Js.transition;Js.transition={};try{e(!1),t()}finally{Pe=r,Js.transition=n}}function rm(){return xr().memoizedState}function x1(e,t,r){var n=wn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nm(e))om(t,r);else if(r=zg(e,t,r,n),r!==null){var o=Mt();Pr(r,e,n,o),im(r,t,n)}}function b1(e,t,r){var n=wn(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nm(e))om(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(o.hasEagerState=!0,o.eagerState=l,Lr(l,a)){var c=t.interleaved;c===null?(o.next=o,Ju(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=zg(e,t,o,n),r!==null&&(o=Mt(),Pr(r,e,n,o),im(r,t,n))}}function nm(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function om(e,t){wi=wl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function im(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bu(e,r)}}var Sl={readContext:yr,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},w1={readContext:yr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:yr,useEffect:Yp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Za(4194308,4,Jg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Za(4194308,4,e,t)},useInsertionEffect:function(e,t){return Za(4,2,e,t)},useMemo:function(e,t){var r=Fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=x1.bind(null,Ye,e),[n.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:Qp,useDebugValue:ad,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=Qp(!1),t=e[0];return e=y1.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ye,o=Fr();if(He){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),pt===null)throw Error(B(349));eo&30||Ug(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,Yp(Hg.bind(null,n,i,e),[e]),n.flags|=2048,Wi(9,Wg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Fr(),t=pt.identifierPrefix;if(He){var r=Zr,n=Jr;r=(n&~(1<<32-Rr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=v1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},S1={readContext:yr,useCallback:Xg,useContext:yr,useEffect:id,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Kg,useMemo:em,useReducer:Zs,useRef:Qg,useState:function(){return Zs(Ui)},useDebugValue:ad,useDeferredValue:function(e){var t=xr();return tm(t,it.memoizedState,e)},useTransition:function(){var e=Zs(Ui)[0],t=xr().memoizedState;return[e,t]},useMutableSource:_g,useSyncExternalStore:Vg,useId:rm,unstable_isNewReconciler:!1},k1={readContext:yr,useCallback:Xg,useContext:yr,useEffect:id,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Kg,useMemo:em,useReducer:Xs,useRef:Qg,useState:function(){return Xs(Ui)},useDebugValue:ad,useDeferredValue:function(e){var t=xr();return it===null?t.memoizedState=e:tm(t,it.memoizedState,e)},useTransition:function(){var e=Xs(Ui)[0],t=xr().memoizedState;return[e,t]},useMutableSource:_g,useSyncExternalStore:Vg,useId:rm,unstable_isNewReconciler:!1};function Cr(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Yc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jl={isMounted:function(e){return(e=e._reactInternals)?lo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mt(),o=wn(e),i=Xr(n,o);i.payload=t,r!=null&&(i.callback=r),t=xn(e,i,o),t!==null&&(Pr(t,e,o,n),Ka(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mt(),o=wn(e),i=Xr(n,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xn(e,i,o),t!==null&&(Pr(t,e,o,n),Ka(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),n=wn(e),o=Xr(r,n);o.tag=2,t!=null&&(o.callback=t),t=xn(e,o,n),t!==null&&(Pr(t,e,n,r),Ka(t,e,n))}};function Kp(e,t,r,n,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Oi(r,n)||!Oi(o,i):!0}function am(e,t,r){var n=!1,o=Dn,i=t.contextType;return typeof i=="object"&&i!==null?i=yr(i):(o=Gt(t)?Zn:jt.current,n=t.contextTypes,i=(n=n!=null)?Ao(e,o):Dn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Jp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jl.enqueueReplaceState(t,t.state,null)}function Kc(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Zu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=yr(i):(i=Gt(t)?Zn:jt.current,o.context=Ao(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Yc(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Jl.enqueueReplaceState(o,o.state,null),xl(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function zo(e,t){try{var r="",n=t;do r+=Jy(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ec(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var C1=typeof WeakMap=="function"?WeakMap:Map;function lm(e,t,r){r=Xr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cl||(Cl=!0,lu=n),Jc(e,t)},r}function sm(e,t,r){r=Xr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Jc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Jc(e,t),typeof n!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Zp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new C1;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=z1.bind(null,e,t,r),t.then(e,e))}function Xp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ef(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xr(-1,1),t.tag=2,xn(r,t,1))),r.lanes|=1),e)}var I1=on.ReactCurrentOwner,Wt=!1;function Lt(e,t,r,n){t.child=e===null?Bg(t,null,r,n):Oo(t,e.child,r,n)}function tf(e,t,r,n,o){r=r.render;var i=t.ref;return Ro(t,o),n=nd(e,t,r,n,i,o),r=od(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,nn(e,t,o)):(He&&r&&Hu(t),t.flags|=1,Lt(e,t,n,o),t.child)}function rf(e,t,r,n,o){if(e===null){var i=r.type;return typeof i=="function"&&!hd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,cm(e,t,i,n,o)):(e=rl(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Oi,r(a,n)&&e.ref===t.ref)return nn(e,t,o)}return t.flags|=1,e=Sn(i,n),e.ref=t.ref,e.return=t,t.child=e}function cm(e,t,r,n,o){if(e!==null){var i=e.memoizedProps;if(Oi(i,n)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=n=i,(e.lanes&o)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,nn(e,t,o)}return Zc(e,t,r,n,o)}function um(e,t,r){var n=t.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Eo,Zt),Zt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Eo,Zt),Zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Fe(Eo,Zt),Zt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Fe(Eo,Zt),Zt|=n;return Lt(e,t,o,r),t.child}function dm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Zc(e,t,r,n,o){var i=Gt(r)?Zn:jt.current;return i=Ao(t,i),Ro(t,o),r=nd(e,t,r,n,i,o),n=od(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,nn(e,t,o)):(He&&n&&Hu(t),t.flags|=1,Lt(e,t,r,o),t.child)}function nf(e,t,r,n,o){if(Gt(r)){var i=!0;hl(t)}else i=!1;if(Ro(t,o),t.stateNode===null)Xa(e,t),am(t,r,n),Kc(t,r,n,o),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=yr(u):(u=Gt(r)?Zn:jt.current,u=Ao(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Jp(t,a,n,u),un=!1;var p=t.memoizedState;a.state=p,xl(t,n,a,o),c=t.memoizedState,l!==n||p!==c||Ht.current||un?(typeof h=="function"&&(Yc(t,r,h,n),c=t.memoizedState),(l=un||Kp(t,r,l,n,p,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,$g(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Cr(t.type,l),a.props=u,d=t.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=yr(c):(c=Gt(r)?Zn:jt.current,c=Ao(t,c));var f=r.getDerivedStateFromProps;(h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||p!==c)&&Jp(t,a,n,c),un=!1,p=t.memoizedState,a.state=p,xl(t,n,a,o);var v=t.memoizedState;l!==d||p!==v||Ht.current||un?(typeof f=="function"&&(Yc(t,r,f,n),v=t.memoizedState),(u=un||Kp(t,r,u,n,p,v,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Xc(e,t,r,n,i,o)}function Xc(e,t,r,n,o,i){dm(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return o&&Vp(t,r,!1),nn(e,t,i);n=t.stateNode,I1.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Oo(t,e.child,null,i),t.child=Oo(t,null,l,i)):Lt(e,t,l,i),t.memoizedState=n.state,o&&Vp(t,r,!0),t.child}function pm(e){var t=e.stateNode;t.pendingContext?_p(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_p(e,t.context,!1),Xu(e,t.containerInfo)}function of(e,t,r,n,o){return Mo(),qu(o),t.flags|=256,Lt(e,t,r,n),t.child}var eu={dehydrated:null,treeContext:null,retryLane:0};function tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function fm(e,t,r){var n=t.pendingProps,o=Qe.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Fe(Qe,o&1),e===null)return qc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=es(a,n,0,null),e=Jn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tu(r),t.memoizedState=eu,e):ld(t,a));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return E1(e,t,a,n,l,o,r);if(i){i=n.fallback,a=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Sn(o,c),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Sn(l,i):(i=Jn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?tu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=eu,n}return i=e.child,e=i.sibling,n=Sn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ld(e,t){return t=es({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Aa(e,t,r,n){return n!==null&&qu(n),Oo(t,e.child,null,r),e=ld(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function E1(e,t,r,n,o,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ec(Error(B(422))),Aa(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=es({mode:"visible",children:n.children},o,0,null),i=Jn(i,o,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Oo(t,e.child,null,a),t.child.memoizedState=tu(a),t.memoizedState=eu,i);if(!(t.mode&1))return Aa(e,t,a,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(B(419)),n=ec(i,n,void 0),Aa(e,t,a,n)}if(l=(a&e.childLanes)!==0,Wt||l){if(n=pt,n!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,rn(e,o),Pr(n,e,o,-1))}return fd(),n=ec(Error(B(421))),Aa(e,t,a,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=$1.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Xt=yn(o.nextSibling),tr=t,He=!0,Er=null,e!==null&&(pr[fr++]=Jr,pr[fr++]=Zr,pr[fr++]=Xn,Jr=e.id,Zr=e.overflow,Xn=t),t=ld(t,n.children),t.flags|=4096,t)}function af(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qc(e.return,t,r)}function tc(e,t,r,n,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function hm(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(Lt(e,t,n.children,r),n=Qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&af(e,r,t);else if(e.tag===19)af(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Fe(Qe,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&bl(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),tc(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&bl(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}tc(t,!0,r,null,i);break;case"together":tc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),to|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=Sn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Sn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function D1(e,t,r){switch(t.tag){case 3:pm(t),Mo();break;case 5:Fg(t);break;case 1:Gt(t.type)&&hl(t);break;case 4:Xu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Fe(vl,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Fe(Qe,Qe.current&1),t.flags|=128,null):r&t.child.childLanes?fm(e,t,r):(Fe(Qe,Qe.current&1),e=nn(e,t,r),e!==null?e.sibling:null);Fe(Qe,Qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return hm(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Fe(Qe,Qe.current),n)break;return null;case 22:case 23:return t.lanes=0,um(e,t,r)}return nn(e,t,r)}var gm,ru,mm,vm;gm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ru=function(){};mm=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Qn(Ur.current);var i=null;switch(r){case"input":o=Cc(e,o),n=Cc(e,n),i=[];break;case"select":o=Ke({},o,{value:void 0}),n=Ke({},n,{value:void 0}),i=[];break;case"textarea":o=Dc(e,o),n=Dc(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pl)}Tc(r,n);var a;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ti.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&_e("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};vm=function(e,t,r,n){r!==n&&(t.flags|=4)};function ni(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function j1(e,t,r){var n=t.pendingProps;switch(Gu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Gt(t.type)&&fl(),Et(t),null;case 3:return n=t.stateNode,Bo(),Ve(Ht),Ve(jt),td(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Er!==null&&(uu(Er),Er=null))),ru(e,t),Et(t),null;case 5:ed(t);var o=Qn(_i.current);if(r=t.type,e!==null&&t.stateNode!=null)mm(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return Et(t),null}if(e=Qn(Ur.current),Pa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[_r]=t,n[$i]=i,e=(t.mode&1)!==0,r){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(o=0;o<fi.length;o++)_e(fi[o],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":hp(n,i),_e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},_e("invalid",n);break;case"textarea":mp(n,i),_e("invalid",n)}Tc(r,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ra(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ra(n.textContent,l,e),o=["children",""+l]):Ti.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&_e("scroll",n)}switch(r){case"input":ka(n),gp(n,i,!0);break;case"textarea":ka(n),vp(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pl)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[_r]=t,e[$i]=n,gm(e,t,!1,!1),t.stateNode=e;e:{switch(a=Nc(r,n),r){case"dialog":_e("cancel",e),_e("close",e),o=n;break;case"iframe":case"object":case"embed":_e("load",e),o=n;break;case"video":case"audio":for(o=0;o<fi.length;o++)_e(fi[o],e);o=n;break;case"source":_e("error",e),o=n;break;case"img":case"image":case"link":_e("error",e),_e("load",e),o=n;break;case"details":_e("toggle",e),o=n;break;case"input":hp(e,n),o=Cc(e,n),_e("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=Ke({},n,{value:void 0}),_e("invalid",e);break;case"textarea":mp(e,n),o=Dc(e,n),_e("invalid",e);break;default:o=n}Tc(r,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Qh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gh(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ni(e,c):typeof c=="number"&&Ni(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ti.hasOwnProperty(i)?c!=null&&i==="onScroll"&&_e("scroll",e):c!=null&&Ru(e,i,c,a))}switch(r){case"input":ka(e),gp(e,n,!1);break;case"textarea":ka(e),vp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+En(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Do(e,!!n.multiple,i,!1):n.defaultValue!=null&&Do(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=pl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)vm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(r=Qn(_i.current),Qn(Ur.current),Pa(t)){if(n=t.stateNode,r=t.memoizedProps,n[_r]=t,(i=n.nodeValue!==r)&&(e=tr,e!==null))switch(e.tag){case 3:Ra(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ra(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_r]=t,t.stateNode=n}return Et(t),null;case 13:if(Ve(Qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Xt!==null&&t.mode&1&&!(t.flags&128))Mg(),Mo(),t.flags|=98560,i=!1;else if(i=Pa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[_r]=t}else Mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),i=!1}else Er!==null&&(uu(Er),Er=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?at===0&&(at=3):fd())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return Bo(),ru(e,t),e===null&&Bi(t.stateNode.containerInfo),Et(t),null;case 10:return Ku(t.type._context),Et(t),null;case 17:return Gt(t.type)&&fl(),Et(t),null;case 19:if(Ve(Qe),i=t.memoizedState,i===null)return Et(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)ni(i,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=bl(e),a!==null){for(t.flags|=128,ni(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(Qe,Qe.current&1|2),t.child}e=e.sibling}i.tail!==null&&tt()>$o&&(t.flags|=128,n=!0,ni(i,!1),t.lanes=4194304)}else{if(!n)if(e=bl(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ni(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!He)return Et(t),null}else 2*tt()-i.renderingStartTime>$o&&r!==1073741824&&(t.flags|=128,n=!0,ni(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tt(),t.sibling=null,r=Qe.current,Fe(Qe,n?r&1|2:r&1),t):(Et(t),null);case 22:case 23:return pd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zt&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function T1(e,t){switch(Gu(t),t.tag){case 1:return Gt(t.type)&&fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bo(),Ve(Ht),Ve(jt),td(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ed(t),null;case 13:if(Ve(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Qe),null;case 4:return Bo(),null;case 10:return Ku(t.type._context),null;case 22:case 23:return pd(),null;case 24:return null;default:return null}}var Ma=!1,Dt=!1,N1=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Io(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Je(e,t,n)}else r.current=null}function nu(e,t,r){try{r()}catch(n){Je(e,t,n)}}var lf=!1;function R1(e,t){if(Fc=cl,e=Sg(),Wu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==r||o!==0&&d.nodeType!==3||(l=a+o),d!==i||n!==0&&d.nodeType!==3||(c=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)p=d,d=f;for(;;){if(d===e)break t;if(p===r&&++u===o&&(l=a),p===i&&++h===n&&(c=a),(f=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_c={focusedElem:e,selectionRange:r},cl=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,k=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Cr(t.type,y),k);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(w){Je(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return v=lf,lf=!1,v}function Si(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&nu(t,r,i)}o=o.next}while(o!==n)}}function Zl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ou(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ym(e){var t=e.alternate;t!==null&&(e.alternate=null,ym(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_r],delete t[$i],delete t[Wc],delete t[f1],delete t[h1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xm(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pl));else if(n!==4&&(e=e.child,e!==null))for(iu(e,t,r),e=e.sibling;e!==null;)iu(e,t,r),e=e.sibling}function au(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(au(e,t,r),e=e.sibling;e!==null;)au(e,t,r),e=e.sibling}var bt=null,Ir=!1;function sn(e,t,r){for(r=r.child;r!==null;)bm(e,t,r),r=r.sibling}function bm(e,t,r){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Wl,r)}catch{}switch(r.tag){case 5:Dt||Io(r,t);case 6:var n=bt,o=Ir;bt=null,sn(e,t,r),bt=n,Ir=o,bt!==null&&(Ir?(e=bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bt.removeChild(r.stateNode));break;case 18:bt!==null&&(Ir?(e=bt,r=r.stateNode,e.nodeType===8?Qs(e.parentNode,r):e.nodeType===1&&Qs(e,r),Ai(e)):Qs(bt,r.stateNode));break;case 4:n=bt,o=Ir,bt=r.stateNode.containerInfo,Ir=!0,sn(e,t,r),bt=n,Ir=o;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&nu(r,t,a),o=o.next}while(o!==n)}sn(e,t,r);break;case 1:if(!Dt&&(Io(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Je(r,t,l)}sn(e,t,r);break;case 21:sn(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,sn(e,t,r),Dt=n):sn(e,t,r);break;default:sn(e,t,r)}}function cf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new N1),t.forEach(function(n){var o=F1.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function kr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,Ir=!1;break e;case 3:bt=l.stateNode.containerInfo,Ir=!0;break e;case 4:bt=l.stateNode.containerInfo,Ir=!0;break e}l=l.return}if(bt===null)throw Error(B(160));bm(i,a,o),bt=null,Ir=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Je(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wm(t,e),t=t.sibling}function wm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kr(t,e),$r(e),n&4){try{Si(3,e,e.return),Zl(3,e)}catch(y){Je(e,e.return,y)}try{Si(5,e,e.return)}catch(y){Je(e,e.return,y)}}break;case 1:kr(t,e),$r(e),n&512&&r!==null&&Io(r,r.return);break;case 5:if(kr(t,e),$r(e),n&512&&r!==null&&Io(r,r.return),e.flags&32){var o=e.stateNode;try{Ni(o,"")}catch(y){Je(e,e.return,y)}}if(n&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Uh(o,i),Nc(l,a);var u=Nc(l,i);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];h==="style"?Qh(o,d):h==="dangerouslySetInnerHTML"?Gh(o,d):h==="children"?Ni(o,d):Ru(o,h,d,u)}switch(l){case"input":Ic(o,i);break;case"textarea":Wh(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Do(o,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?Do(o,!!i.multiple,i.defaultValue,!0):Do(o,!!i.multiple,i.multiple?[]:"",!1))}o[$i]=i}catch(y){Je(e,e.return,y)}}break;case 6:if(kr(t,e),$r(e),n&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){Je(e,e.return,y)}}break;case 3:if(kr(t,e),$r(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(y){Je(e,e.return,y)}break;case 4:kr(t,e),$r(e);break;case 13:kr(t,e),$r(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(ud=tt())),n&4&&cf(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||h,kr(t,e),Dt=u):kr(t,e),$r(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Q=e,h=e.child;h!==null;){for(d=Q=h;Q!==null;){switch(p=Q,f=p.child,p.tag){case 0:case 11:case 14:case 15:Si(4,p,p.return);break;case 1:Io(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Je(n,r,y)}}break;case 5:Io(p,p.return);break;case 22:if(p.memoizedState!==null){df(d);continue}}f!==null?(f.return=p,Q=f):df(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qh("display",a))}catch(y){Je(e,e.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Je(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kr(t,e),$r(e),n&4&&cf(e);break;case 21:break;default:kr(t,e),$r(e)}}function $r(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xm(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Ni(o,""),n.flags&=-33);var i=sf(e);au(e,i,o);break;case 3:case 4:var a=n.stateNode.containerInfo,l=sf(e);iu(e,l,a);break;default:throw Error(B(161))}}catch(c){Je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P1(e,t,r){Q=e,Sm(e)}function Sm(e,t,r){for(var n=(e.mode&1)!==0;Q!==null;){var o=Q,i=o.child;if(o.tag===22&&n){var a=o.memoizedState!==null||Ma;if(!a){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Dt;l=Ma;var u=Dt;if(Ma=a,(Dt=c)&&!u)for(Q=o;Q!==null;)a=Q,c=a.child,a.tag===22&&a.memoizedState!==null?pf(o):c!==null?(c.return=a,Q=c):pf(o);for(;i!==null;)Q=i,Sm(i),i=i.sibling;Q=o,Ma=l,Dt=u}uf(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Q=i):uf(e)}}function uf(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Zl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Cr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&qp(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qp(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ai(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Dt||t.flags&512&&ou(t)}catch(p){Je(t,t.return,p)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function df(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function pf(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zl(4,t)}catch(c){Je(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){Je(t,o,c)}}var i=t.return;try{ou(t)}catch(c){Je(t,i,c)}break;case 5:var a=t.return;try{ou(t)}catch(c){Je(t,a,c)}}}catch(c){Je(t,t.return,c)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var L1=Math.ceil,kl=on.ReactCurrentDispatcher,sd=on.ReactCurrentOwner,mr=on.ReactCurrentBatchConfig,ke=0,pt=null,nt=null,St=0,Zt=0,Eo=Nn(0),at=0,Hi=null,to=0,Xl=0,cd=0,ki=null,Ut=null,ud=0,$o=1/0,Yr=null,Cl=!1,lu=null,bn=null,Oa=!1,hn=null,Il=0,Ci=0,su=null,el=-1,tl=0;function Mt(){return ke&6?tt():el!==-1?el:el=tt()}function wn(e){return e.mode&1?ke&2&&St!==0?St&-St:m1.transition!==null?(tl===0&&(tl=ag()),tl):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:fg(e.type)),e):1}function Pr(e,t,r,n){if(50<Ci)throw Ci=0,su=null,Error(B(185));Xi(e,r,n),(!(ke&2)||e!==pt)&&(e===pt&&(!(ke&2)&&(Xl|=r),at===4&&pn(e,St)),qt(e,n),r===1&&ke===0&&!(t.mode&1)&&($o=tt()+500,Yl&&Rn()))}function qt(e,t){var r=e.callbackNode;mx(e,t);var n=sl(e,e===pt?St:0);if(n===0)r!==null&&bp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bp(r),t===1)e.tag===0?g1(ff.bind(null,e)):Pg(ff.bind(null,e)),d1(function(){!(ke&6)&&Rn()}),r=null;else{switch(lg(n)){case 1:r=Ou;break;case 4:r=og;break;case 16:r=ll;break;case 536870912:r=ig;break;default:r=ll}r=Nm(r,km.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function km(e,t){if(el=-1,tl=0,ke&6)throw Error(B(327));var r=e.callbackNode;if(Po()&&e.callbackNode!==r)return null;var n=sl(e,e===pt?St:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=El(e,n);else{t=n;var o=ke;ke|=2;var i=Im();(pt!==e||St!==t)&&(Yr=null,$o=tt()+500,Kn(e,t));do try{O1();break}catch(l){Cm(e,l)}while(!0);Yu(),kl.current=i,ke=o,nt!==null?t=0:(pt=null,St=0,t=at)}if(t!==0){if(t===2&&(o=Mc(e),o!==0&&(n=o,t=cu(e,o))),t===1)throw r=Hi,Kn(e,0),pn(e,n),qt(e,tt()),r;if(t===6)pn(e,n);else{if(o=e.current.alternate,!(n&30)&&!A1(o)&&(t=El(e,n),t===2&&(i=Mc(e),i!==0&&(n=i,t=cu(e,i))),t===1))throw r=Hi,Kn(e,0),pn(e,n),qt(e,tt()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:Wn(e,Ut,Yr);break;case 3:if(pn(e,n),(n&130023424)===n&&(t=ud+500-tt(),10<t)){if(sl(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Mt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Uc(Wn.bind(null,e,Ut,Yr),t);break}Wn(e,Ut,Yr);break;case 4:if(pn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var a=31-Rr(n);i=1<<a,a=t[a],a>o&&(o=a),n&=~i}if(n=o,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*L1(n/1960))-n,10<n){e.timeoutHandle=Uc(Wn.bind(null,e,Ut,Yr),n);break}Wn(e,Ut,Yr);break;case 5:Wn(e,Ut,Yr);break;default:throw Error(B(329))}}}return qt(e,tt()),e.callbackNode===r?km.bind(null,e):null}function cu(e,t){var r=ki;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=El(e,t),e!==2&&(t=Ut,Ut=r,t!==null&&uu(t)),e}function uu(e){Ut===null?Ut=e:Ut.push.apply(Ut,e)}function A1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!Lr(i(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pn(e,t){for(t&=~cd,t&=~Xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rr(t),n=1<<r;e[r]=-1,t&=~n}}function ff(e){if(ke&6)throw Error(B(327));Po();var t=sl(e,0);if(!(t&1))return qt(e,tt()),null;var r=El(e,t);if(e.tag!==0&&r===2){var n=Mc(e);n!==0&&(t=n,r=cu(e,n))}if(r===1)throw r=Hi,Kn(e,0),pn(e,t),qt(e,tt()),r;if(r===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wn(e,Ut,Yr),qt(e,tt()),null}function dd(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&($o=tt()+500,Yl&&Rn())}}function ro(e){hn!==null&&hn.tag===0&&!(ke&6)&&Po();var t=ke;ke|=1;var r=mr.transition,n=Pe;try{if(mr.transition=null,Pe=1,e)return e()}finally{Pe=n,mr.transition=r,ke=t,!(ke&6)&&Rn()}}function pd(){Zt=Eo.current,Ve(Eo)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,u1(r)),nt!==null)for(r=nt.return;r!==null;){var n=r;switch(Gu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fl();break;case 3:Bo(),Ve(Ht),Ve(jt),td();break;case 5:ed(n);break;case 4:Bo();break;case 13:Ve(Qe);break;case 19:Ve(Qe);break;case 10:Ku(n.type._context);break;case 22:case 23:pd()}r=r.return}if(pt=e,nt=e=Sn(e.current,null),St=Zt=t,at=0,Hi=null,cd=Xl=to=0,Ut=ki=null,qn!==null){for(t=0;t<qn.length;t++)if(r=qn[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=o,n.next=a}r.pending=n}qn=null}return e}function Cm(e,t){do{var r=nt;try{if(Yu(),Ja.current=Sl,wl){for(var n=Ye.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}wl=!1}if(eo=0,dt=it=Ye=null,wi=!1,Vi=0,sd.current=null,r===null||r.return===null){at=1,Hi=t,nt=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=St,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=Xp(a);if(f!==null){f.flags&=-257,ef(f,a,l,i,t),f.mode&1&&Zp(i,u,t),t=f,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){Zp(i,u,t),fd();break e}c=Error(B(426))}}else if(He&&l.mode&1){var k=Xp(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),ef(k,a,l,i,t),qu(zo(c,l));break e}}i=c=zo(c,l),at!==4&&(at=2),ki===null?ki=[i]:ki.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=lm(i,c,t);Gp(i,m);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(bn===null||!bn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=sm(i,l,t);Gp(i,w);break e}}i=i.return}while(i!==null)}Dm(r)}catch(I){t=I,nt===r&&r!==null&&(nt=r=r.return);continue}break}while(!0)}function Im(){var e=kl.current;return kl.current=Sl,e===null?Sl:e}function fd(){(at===0||at===3||at===2)&&(at=4),pt===null||!(to&268435455)&&!(Xl&268435455)||pn(pt,St)}function El(e,t){var r=ke;ke|=2;var n=Im();(pt!==e||St!==t)&&(Yr=null,Kn(e,t));do try{M1();break}catch(o){Cm(e,o)}while(!0);if(Yu(),ke=r,kl.current=n,nt!==null)throw Error(B(261));return pt=null,St=0,at}function M1(){for(;nt!==null;)Em(nt)}function O1(){for(;nt!==null&&!lx();)Em(nt)}function Em(e){var t=Tm(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?Dm(e):nt=t,sd.current=null}function Dm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=T1(r,t),r!==null){r.flags&=32767,nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,nt=null;return}}else if(r=j1(r,t,Zt),r!==null){nt=r;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);at===0&&(at=5)}function Wn(e,t,r){var n=Pe,o=mr.transition;try{mr.transition=null,Pe=1,B1(e,t,r,n)}finally{mr.transition=o,Pe=n}return null}function B1(e,t,r,n){do Po();while(hn!==null);if(ke&6)throw Error(B(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(vx(e,i),e===pt&&(nt=pt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Oa||(Oa=!0,Nm(ll,function(){return Po(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=mr.transition,mr.transition=null;var a=Pe;Pe=1;var l=ke;ke|=4,sd.current=null,R1(e,r),wm(r,e),n1(_c),cl=!!Fc,_c=Fc=null,e.current=r,P1(r),sx(),ke=l,Pe=a,mr.transition=i}else e.current=r;if(Oa&&(Oa=!1,hn=e,Il=o),i=e.pendingLanes,i===0&&(bn=null),dx(r.stateNode),qt(e,tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Cl)throw Cl=!1,e=lu,lu=null,e;return Il&1&&e.tag!==0&&Po(),i=e.pendingLanes,i&1?e===su?Ci++:(Ci=0,su=e):Ci=0,Rn(),null}function Po(){if(hn!==null){var e=lg(Il),t=mr.transition,r=Pe;try{if(mr.transition=null,Pe=16>e?16:e,hn===null)var n=!1;else{if(e=hn,hn=null,Il=0,ke&6)throw Error(B(331));var o=ke;for(ke|=4,Q=e.current;Q!==null;){var i=Q,a=i.child;if(Q.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Q=u;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Si(8,h,i)}var d=h.child;if(d!==null)d.return=h,Q=d;else for(;Q!==null;){h=Q;var p=h.sibling,f=h.return;if(ym(h),h===u){Q=null;break}if(p!==null){p.return=f,Q=p;break}Q=f}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}Q=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Q=a;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Si(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,Q=m;break e}Q=i.return}}var g=e.current;for(Q=g;Q!==null;){a=Q;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Q=x;else e:for(a=g;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zl(9,l)}}catch(I){Je(l,l.return,I)}if(l===a){Q=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Q=w;break e}Q=l.return}}if(ke=o,Rn(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Wl,e)}catch{}n=!0}return n}finally{Pe=r,mr.transition=t}}return!1}function hf(e,t,r){t=zo(r,t),t=lm(e,t,1),e=xn(e,t,1),t=Mt(),e!==null&&(Xi(e,1,t),qt(e,t))}function Je(e,t,r){if(e.tag===3)hf(e,e,r);else for(;t!==null;){if(t.tag===3){hf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bn===null||!bn.has(n))){e=zo(r,e),e=sm(t,e,1),t=xn(t,e,1),e=Mt(),t!==null&&(Xi(t,1,e),qt(t,e));break}}t=t.return}}function z1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&r,pt===e&&(St&r)===r&&(at===4||at===3&&(St&130023424)===St&&500>tt()-ud?Kn(e,0):cd|=r),qt(e,t)}function jm(e,t){t===0&&(e.mode&1?(t=Ea,Ea<<=1,!(Ea&130023424)&&(Ea=4194304)):t=1);var r=Mt();e=rn(e,t),e!==null&&(Xi(e,t,r),qt(e,r))}function $1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jm(e,r)}function F1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),jm(e,r)}var Tm;Tm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,D1(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,He&&t.flags&1048576&&Lg(t,ml,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xa(e,t),e=t.pendingProps;var o=Ao(t,jt.current);Ro(t,r),o=nd(null,t,n,e,o,r);var i=od();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(n)?(i=!0,hl(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Zu(t),o.updater=Jl,t.stateNode=o,o._reactInternals=t,Kc(t,n,e,r),t=Xc(null,t,n,!0,i,r)):(t.tag=0,He&&i&&Hu(t),Lt(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xa(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=V1(n),e=Cr(n,e),o){case 0:t=Zc(null,t,n,e,r);break e;case 1:t=nf(null,t,n,e,r);break e;case 11:t=tf(null,t,n,e,r);break e;case 14:t=rf(null,t,n,Cr(n.type,e),r);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Cr(n,o),Zc(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Cr(n,o),nf(e,t,n,o,r);case 3:e:{if(pm(t),e===null)throw Error(B(387));n=t.pendingProps,i=t.memoizedState,o=i.element,$g(e,t),xl(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=zo(Error(B(423)),t),t=of(e,t,n,r,o);break e}else if(n!==o){o=zo(Error(B(424)),t),t=of(e,t,n,r,o);break e}else for(Xt=yn(t.stateNode.containerInfo.firstChild),tr=t,He=!0,Er=null,r=Bg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mo(),n===o){t=nn(e,t,r);break e}Lt(e,t,n,r)}t=t.child}return t;case 5:return Fg(t),e===null&&qc(t),n=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,Vc(n,o)?a=null:i!==null&&Vc(n,i)&&(t.flags|=32),dm(e,t),Lt(e,t,a,r),t.child;case 6:return e===null&&qc(t),null;case 13:return fm(e,t,r);case 4:return Xu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Oo(t,null,n,r):Lt(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Cr(n,o),tf(e,t,n,o,r);case 7:return Lt(e,t,t.pendingProps,r),t.child;case 8:return Lt(e,t,t.pendingProps.children,r),t.child;case 12:return Lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Fe(vl,n._currentValue),n._currentValue=a,i!==null)if(Lr(i.value,a)){if(i.children===o.children&&!Ht.current){t=nn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Xr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Qc(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(B(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Qc(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Lt(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ro(t,r),o=yr(o),n=n(o),t.flags|=1,Lt(e,t,n,r),t.child;case 14:return n=t.type,o=Cr(n,t.pendingProps),o=Cr(n.type,o),rf(e,t,n,o,r);case 15:return cm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Cr(n,o),Xa(e,t),t.tag=1,Gt(n)?(e=!0,hl(t)):e=!1,Ro(t,r),am(t,n,o),Kc(t,n,o,r),Xc(null,t,n,!0,e,r);case 19:return hm(e,t,r);case 22:return um(e,t,r)}throw Error(B(156,t.tag))};function Nm(e,t){return ng(e,t)}function _1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,r,n){return new _1(e,t,r,n)}function hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V1(e){if(typeof e=="function")return hd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lu)return 11;if(e===Au)return 14}return 2}function Sn(e,t){var r=e.alternate;return r===null?(r=hr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function rl(e,t,r,n,o,i){var a=2;if(n=e,typeof e=="function")hd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case mo:return Jn(r.children,o,i,t);case Pu:a=8,o|=8;break;case bc:return e=hr(12,r,t,o|2),e.elementType=bc,e.lanes=i,e;case wc:return e=hr(13,r,t,o),e.elementType=wc,e.lanes=i,e;case Sc:return e=hr(19,r,t,o),e.elementType=Sc,e.lanes=i,e;case Fh:return es(r,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zh:a=10;break e;case $h:a=9;break e;case Lu:a=11;break e;case Au:a=14;break e;case cn:a=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=hr(a,r,t,o),t.elementType=e,t.type=n,t.lanes=i,t}function Jn(e,t,r,n){return e=hr(7,e,n,t),e.lanes=r,e}function es(e,t,r,n){return e=hr(22,e,n,t),e.elementType=Fh,e.lanes=r,e.stateNode={isHidden:!1},e}function rc(e,t,r){return e=hr(6,e,null,t),e.lanes=r,e}function nc(e,t,r){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U1(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bs(0),this.expirationTimes=Bs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bs(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function gd(e,t,r,n,o,i,a,l,c){return e=new U1(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=hr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zu(i),e}function W1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:go,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Rm(e){if(!e)return Dn;e=e._reactInternals;e:{if(lo(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var r=e.type;if(Gt(r))return Rg(e,r,t)}return t}function Pm(e,t,r,n,o,i,a,l,c){return e=gd(r,n,!0,e,o,i,a,l,c),e.context=Rm(null),r=e.current,n=Mt(),o=wn(r),i=Xr(n,o),i.callback=t??null,xn(r,i,o),e.current.lanes=o,Xi(e,o,n),qt(e,n),e}function ts(e,t,r,n){var o=t.current,i=Mt(),a=wn(o);return r=Rm(r),t.context===null?t.context=r:t.pendingContext=r,t=Xr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xn(o,t,a),e!==null&&(Pr(e,o,a,i),Ka(e,o,a)),a}function Dl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function md(e,t){gf(e,t),(e=e.alternate)&&gf(e,t)}function H1(){return null}var Lm=typeof reportError=="function"?reportError:function(e){console.error(e)};function vd(e){this._internalRoot=e}rs.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));ts(e,t,null,null)};rs.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ro(function(){ts(null,e,null,null)}),t[tn]=null}};function rs(e){this._internalRoot=e}rs.prototype.unstable_scheduleHydration=function(e){if(e){var t=ug();e={blockedOn:null,target:e,priority:t};for(var r=0;r<dn.length&&t!==0&&t<dn[r].priority;r++);dn.splice(r,0,e),r===0&&pg(e)}};function yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ns(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mf(){}function G1(e,t,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var u=Dl(a);i.call(u)}}var a=Pm(t,n,e,0,null,!1,!1,"",mf);return e._reactRootContainer=a,e[tn]=a.current,Bi(e.nodeType===8?e.parentNode:e),ro(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var u=Dl(c);l.call(u)}}var c=gd(e,0,!1,null,null,!1,!1,"",mf);return e._reactRootContainer=c,e[tn]=c.current,Bi(e.nodeType===8?e.parentNode:e),ro(function(){ts(t,c,r,n)}),c}function os(e,t,r,n,o){var i=r._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var l=o;o=function(){var c=Dl(a);l.call(c)}}ts(t,a,e,o)}else a=G1(r,t,e,o,n);return Dl(a)}sg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=pi(t.pendingLanes);r!==0&&(Bu(t,r|1),qt(t,tt()),!(ke&6)&&($o=tt()+500,Rn()))}break;case 13:ro(function(){var n=rn(e,1);if(n!==null){var o=Mt();Pr(n,e,1,o)}}),md(e,1)}};zu=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var r=Mt();Pr(t,e,134217728,r)}md(e,134217728)}};cg=function(e){if(e.tag===13){var t=wn(e),r=rn(e,t);if(r!==null){var n=Mt();Pr(r,e,t,n)}md(e,t)}};ug=function(){return Pe};dg=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}};Pc=function(e,t,r){switch(t){case"input":if(Ic(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=Ql(n);if(!o)throw Error(B(90));Vh(n),Ic(n,o)}}}break;case"textarea":Wh(e,r);break;case"select":t=r.value,t!=null&&Do(e,!!r.multiple,t,!1)}};Jh=dd;Zh=ro;var q1={usingClientEntryPoint:!1,Events:[ta,bo,Ql,Yh,Kh,dd]},oi={findFiberByHostInstance:Gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q1={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:on.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tg(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||H1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{Wl=Ba.inject(Q1),Vr=Ba}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1;ir.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yd(t))throw Error(B(200));return W1(e,t,null,r)};ir.createRoot=function(e,t){if(!yd(e))throw Error(B(299));var r=!1,n="",o=Lm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=gd(e,1,!1,null,null,r,!1,n,o),e[tn]=t.current,Bi(e.nodeType===8?e.parentNode:e),new vd(t)};ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=tg(t),e=e===null?null:e.stateNode,e};ir.flushSync=function(e){return ro(e)};ir.hydrate=function(e,t,r){if(!ns(t))throw Error(B(200));return os(null,e,t,!0,r)};ir.hydrateRoot=function(e,t,r){if(!yd(e))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",a=Lm;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Pm(t,null,e,1,r??null,o,!1,i,a),e[tn]=t.current,Bi(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new rs(t)};ir.render=function(e,t,r){if(!ns(t))throw Error(B(200));return os(null,e,t,!1,r)};ir.unmountComponentAtNode=function(e){if(!ns(e))throw Error(B(40));return e._reactRootContainer?(ro(function(){os(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1};ir.unstable_batchedUpdates=dd;ir.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ns(r))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return os(e,t,r,!1,n)};ir.version="18.3.1-next-f1338f8080-20240426";function Am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Am)}catch(e){console.error(e)}}Am(),Ah.exports=ir;var xd=Ah.exports;const Y1=Cu(xd);var du,vf=xd;du=yc.createRoot=vf.createRoot,yc.hydrateRoot=vf.hydrateRoot;const pu="558e200650487a28cf1cc0b33561cd82",Mm="https://api.trello.com/1",Ee={CURRENT_USER:"trelloCurrentUser",USER_DATA:"trelloUserData",THEME:"dashboardTheme",CLOCK_SETTING:"dashboardClockSetting_",REFRESH_INTERVAL:"dashboardRefreshInterval_",IGNORE_TEMPLATE_CARDS:"dashboardIgnoreTemplateCards_",IGNORE_COMPLETED_CARDS:"dashboardIgnoreCompletedCards_",IGNORE_NO_DESC_CARDS:"IGNORE_NO_DESC_CARDS_",RANDOM_COLORS_CACHE:"dashboardRandomColors"},jl=[{id:"all",name:"Default",listIds:[],ignoreFirstCard:!1,displayFirstCardDescription:!0,isCollapsed:!1}],yf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ue=new Date,_n=e=>{let t,r;if(e==="last_month"){t=new Date(Ue.getFullYear(),Ue.getMonth()-1,1),r=new Date(Ue.getFullYear(),Ue.getMonth(),0);const n=yf[t.getMonth()];return{start:t,end:r,label:`Last month (${n} ${t.getFullYear()})`,titleSuffix:`${n} ${t.getFullYear()}`}}else if(e==="this_month"){t=new Date(Ue.getFullYear(),Ue.getMonth(),1),r=Ue;const n=yf[Ue.getMonth()];return{start:t,end:r,label:`This month (${n} ${Ue.getFullYear()})`,titleSuffix:`${n} ${Ue.getFullYear()}`}}else if(e==="this_week"){const n=Ue.getDay(),o=n===0?6:n-1;return t=new Date(Ue),t.setDate(Ue.getDate()-o),t.setHours(0,0,0,0),r=Ue,{start:t,end:r,label:"This week (Mon-Sun)",titleSuffix:"This Week"}}else if(e==="last_week"){const n=Ue.getDay(),o=(n===0?6:n-1)+7;return t=new Date(Ue),t.setDate(Ue.getDate()-o),t.setHours(0,0,0,0),r=new Date(t),r.setDate(t.getDate()+6),r.setHours(23,59,59,999),{start:t,end:r,label:"Last week (Mon-Sun)",titleSuffix:"Last Week"}}else{if(e==="last_3m")return t=new Date(Ue),t.setMonth(Ue.getMonth()-3),t.setHours(0,0,0,0),r=Ue,{start:t,end:r,label:"Last 3 Months",titleSuffix:"Last 3 Months"};if(e==="ytd")return t=new Date(Ue.getFullYear(),0,1),r=Ue,{start:t,end:r,label:"Year to Date",titleSuffix:"YTD"};if(e==="last_year")return t=new Date(Ue.getFullYear()-1,0,1),r=new Date(Ue.getFullYear()-1,11,31,23,59,59,999),{start:t,end:r,label:"Last Year",titleSuffix:"Last Year"}}},Dr={all:{label:"All Time",minutes:0,titleSuffix:"All Time",type:"absolute"},"24h":{label:"Last 24h",minutes:60*24,titleSuffix:"Last 24h",type:"relative"},"48h":{label:"Last 48h",minutes:60*48,titleSuffix:"Last 48h",type:"relative"},"72h":{label:"Last 72h",minutes:60*72,titleSuffix:"Last 72h",type:"relative"},"7d":{label:"Last 7 days",minutes:60*24*7,titleSuffix:"Last 7 Days",type:"relative"},this_week:{..._n("this_week"),type:"calendar"},last_week:{..._n("last_week"),type:"calendar"},last_30d:{label:"Last 30 days",minutes:60*24*30,titleSuffix:"Last 30 Days",type:"relative"},this_month:{..._n("this_month"),type:"calendar"},last_month:{..._n("last_month"),type:"calendar"},last_3m:{..._n("last_3m"),type:"calendar"},ytd:{..._n("ytd"),type:"calendar"},last_year:{..._n("last_year"),type:"calendar"}},Yn={login:(e="read")=>{const t="Trello Stats Dashboard",r=window.location.href.split("#")[0],n=`https://trello.com/1/authorize?expiration=never&name=${encodeURIComponent(t)}&scope=${e}&response_type=token&key=${pu}&return_url=${encodeURIComponent(r)}`;window.location.href=n},getTokenFromUrl:()=>{const e=window.location.hash.substring(1);if(e.startsWith("token=")){const t=e.substring(6);return history.pushState("",document.title,window.location.pathname+window.location.search),t}return null},logout:e=>{e&&e()},checkTokenScopes:async e=>{if(!e)return[];try{const t=await fetch(`${Mm}/tokens/${e}?key=${pu}&token=${e}`);if(t.ok){const r=await t.json();return r.permissions?r.permissions.map(n=>n.read===!0?"read":"").concat(r.permissions.map(n=>n.write===!0?"write":"")).filter(Boolean):[]}}catch(t){console.warn("Failed to check token scopes",t)}return[]}},We=async(e,t,r={})=>{if(!t)throw new Error("Trello authentication token not provided.");const n=r.apiKey||pu,o=`${Mm}${e}${e.includes("?")?"&":"?"}key=${n}&token=${t}`;console.log(`[TrelloAPI] ${r.method||"GET"} ${e}`,{options:r,url:o});const i=await fetch(o,r);if(i.ok)console.log(`[TrelloAPI] Response OK ${i.status} for ${e}`);else{const a=await i.text();console.error(`[TrelloAPI] Error ${i.status}:`,a);let l=a;try{const c=JSON.parse(a);c&&c.message&&(l=c.message)}catch{}throw i.status===429?new Error("Rate limit exceeded (429): Trello API requests too fast/frequent."):i.status===401?new Error(`Invalid or expired token. Please log in again. (Details: ${l})`):new Error(l||`Trello API error: ${i.status}`)}return i.json()},K1=async e=>{if(!e)throw new Error("No token provided");const t=We("/members/me/organizations?fields=id,displayName,name",e),r=We("/members/me/boards?filter=open&fields=id,name,idOrganization,shortUrl,prefs",e),n=We("/members/me/cards?filter=visible&fields=id,name,due,dueComplete,idBoard,idList,url,shortUrl,desc,idMembers,labels&checklists=all&checklist_fields=all",e),o=We("/search?query=checklist:me is:open&modelTypes=cards&cards_limit=1000&card_fields=id",e),[i,a,l,c]=await Promise.all([t,r,n,o]),u=new Set(l.map(w=>w.id)),d=(c.cards||[]).map(w=>w.id).filter(w=>!u.has(w));let p=[];if(d.length>0){const I=[];for(let R=0;R<d.length;R+=10)I.push(d.slice(R,R+10));const D="id,name,due,dueComplete,idBoard,idList,url,shortUrl,desc,idMembers,labels",E="checklists=all&checklist_fields=all",C=I.map(R=>{const z=R.map(_=>`/cards/${_}?fields=${D}&${E}`).join(",");return We(`/batch?urls=${z}`,e)});(await Promise.all(C)).forEach(R=>{Array.isArray(R)&&R.forEach(z=>{z[200]&&p.push(z[200])})})}const f=[...l,...p],v=new Set(a.map(w=>w.id)),k=[...new Set(f.map(w=>w.idBoard))].filter(w=>w&&!v.has(w));if(k.length>0){const I=[];for(let C=0;C<k.length;C+=10)I.push(k.slice(C,C+10));const D=I.map(C=>{const j=C.map(R=>`/boards/${R}?fields=id,name,idOrganization,shortUrl,prefs`).join(",");return We(`/batch?urls=${j}`,e)});(await Promise.all(D)).forEach(C=>{Array.isArray(C)&&C.forEach(j=>{j[200]&&a.push(j[200])})})}const m=new Set(i.map(w=>w.id)),g=new Set;a.forEach(w=>{w.idOrganization&&g.add(w.idOrganization)});const x=[...g].filter(w=>!m.has(w));if(x.length>0){const I=[];for(let C=0;C<x.length;C+=10)I.push(x.slice(C,C+10));const D=I.map(C=>{const j=C.map(R=>`/organizations/${R}?fields=id,displayName,name`).join(",");return We(`/batch?urls=${j}`,e)});(await Promise.all(D)).forEach(C=>{Array.isArray(C)&&C.forEach(j=>{j[200]&&i.push(j[200])})})}return{orgs:i,boards:a,cards:f}},J1=()=>localStorage.getItem(Ee.CURRENT_USER),oc=e=>{e?localStorage.setItem(Ee.CURRENT_USER,e):localStorage.removeItem(Ee.CURRENT_USER)},is=(e,t)=>e?((JSON.parse(localStorage.getItem(Ee.USER_DATA))||{})[e]||{})[t]:null,Ii=(e,t,r)=>{if(!e)return;const n=JSON.parse(localStorage.getItem(Ee.USER_DATA))||{};n[e]||(n[e]={}),n[e][t]=r,localStorage.setItem(Ee.USER_DATA,JSON.stringify(n))},Tl=e=>{try{return is(e,"listColors")||{}}catch{return{}}},Z1=(e,t,r)=>{const n=Tl(e);n[t]=r,Ii(e,"listColors",n)},bd=(e,t)=>{try{return((is(e,"dashboardLayout")||{})[t]||jl).map(o=>({...o,isCollapsed:o.isCollapsed||!1,ignoreFirstCard:o.ignoreFirstCard||!1,displayFirstCardDescription:o.displayFirstCardDescription!==!1,includeOnMap:o.includeOnMap===!0}))}catch(r){return console.error("Error parsing dashboard layout:",r),jl}},Om=(e,t,r)=>{try{const n=is(e,"dashboardLayout")||{};n[t]=r,Ii(e,"dashboardLayout",n)}catch(n){console.error("Error saving dashboard layout:",n)}},Bm=b.createContext(),so=()=>b.useContext(Bm),X1=({children:e})=>{const[t,r]=b.useState(()=>localStorage.getItem(Ee.THEME)||"system");b.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),i=l=>{const c=l==="system"?o.matches?"dark":"light":l;document.documentElement.setAttribute("data-theme",c)};i(t);const a=()=>i(t);return o.addEventListener("change",a),()=>o.removeEventListener("change",a)},[t]);const n=o=>{const i=o||(t==="light"?"dark":"light");r(i),localStorage.setItem(Ee.THEME,i)};return s.jsx(Bm.Provider,{value:{theme:t,toggleTheme:n},children:e})},xf=()=>{const e=t=>{t.preventDefault(),Yn.login()};return s.jsxs("div",{className:"landing-page",children:[s.jsxs("header",{className:"landing-header",children:[s.jsx("div",{className:"logo",children:"Trellops"}),s.jsx("img",{src:"powerupicon2.png",alt:"Trellops Logo",style:{width:"120px",height:"120px",marginBottom:"20px"}}),s.jsx("h1",{children:"Transform Your Trello Boards into Real-Time Operational Dashboards."}),s.jsx("p",{className:"subtitle",children:"From Kanban to Command Centre. Visualize your workload on a Wallboard or a Map."}),s.jsx("a",{href:"#login",className:"cta-button",onClick:e,children:"Try Trellops Now!"})]}),s.jsxs("section",{className:"features",children:[s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"icon",children:""}),s.jsx("h3",{children:"Real-Time Wallboard"}),s.jsx("p",{children:"See instant, close-to-realtime workload metrics. Perfect for office wall screens and operations centres. Group lists into custom blocks to focus on what matters."})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"icon",children:""}),s.jsx("h3",{children:"Live Map View"}),s.jsxs("p",{children:[s.jsx("strong",{children:"New!"})," Visualize your cards geographically. Trellops automatically plots cards based on their address description or coordinates. Track field ops at a glance."]})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"icon",children:""}),s.jsx("h3",{children:"Drag-and-Drop Control"}),s.jsxs("p",{children:[s.jsx("strong",{children:"New!"})," Organise your dashboard in seconds. Simply drag lists between blocks and reorder your view with an intuitive new interface."]})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"icon",children:""}),s.jsx("h3",{children:"Privacy by Design"}),s.jsx("p",{children:'We believe in "Local First." Your dashboard configuration lives on your device. Server storage is only used if you explicitly choose to share a configuration link with a colleague.'})]})]}),s.jsxs("section",{className:"details",children:[s.jsx("h2",{children:"Why Trellops?"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Custom Icons:"})," Assign specific icons to blocks or override them based on Trello labels."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Smart Filters:"})," Filter card totals by creation date to spot trends."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Actionable Map:"})," Move cards to different lists directly from the map interface (requires write permission)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Effortless Sharing:"})," Share your exact setup with your team via a unique, secure link."]})]})]}),s.jsxs("footer",{children:[s.jsx("button",{id:"login-btn",onClick:e,children:"Login with Trello"}),s.jsxs("p",{children:[s.jsx("a",{href:"help.html",children:"User Guide"})," | ",s.jsx("a",{href:"privacy.html",children:"Privacy Disclaimer"})]})]})]})},zm=(e,t)=>{const r=parseInt(e)||0;return t==="seconds"?r:t==="minutes"?r*60:t==="hours"?r*3600:30},e0=(e,t)=>{let r=JSON.parse(localStorage.getItem(Ee.RANDOM_COLORS_CACHE))||{},n=r[e];const o="#dcdcdc";if(!n){let i,a,l;do i=Math.floor(Math.random()*101),a=Math.floor(Math.random()*101),l=Math.floor(Math.random()*101),n="#"+((1<<24)+(i<<16)+(a<<8)+l).toString(16).slice(1).padStart(6,"0");while(t instanceof Set&&t.has(n));r[e]=n,localStorage.setItem(Ee.RANDOM_COLORS_CACHE,JSON.stringify(r))}return n||o},$m=e=>(e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e)==="dark"?"#ffffff":"#222222",Nl=e=>e==null?"":e<=60?`${e}s`:e<3600?`${Math.ceil(e/60)}m`:`${Math.round(e/3600)}h`,wd=({boardId:e,compact:t=!1})=>{const[r,n]=b.useState(""),[o,i]=b.useState(()=>localStorage.getItem(Ee.CLOCK_SETTING+e)!=="false");return b.useEffect(()=>{const a=setInterval(()=>{n(new Date().toLocaleTimeString(void 0,{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}))},1e3);return()=>clearInterval(a)},[]),b.useEffect(()=>{const a=localStorage.getItem(Ee.CLOCK_SETTING+e);i(a!=="false")},[e]),o?s.jsx("div",{className:t?"compact-clock":"large-clock",style:t?{fontSize:"1.2em",fontWeight:"bold",color:"var(--text-primary)"}:{},children:r||"--:--:--"}):null},Fm=({listId:e,listName:t,color:r,token:n,onClose:o,sectionsLayout:i,ignoreTemplateCards:a,ignoreNoDescCards:l})=>{const[c,u]=b.useState([]),[h,d]=b.useState(!0),[p,f]=b.useState(""),{theme:v}=so(),y=i.find(m=>m.listIds.includes(e)),k=(y==null?void 0:y.ignoreFirstCard)||!1;return b.useEffect(()=>{d(!0),f(""),We(`/lists/${e}/cards?fields=id,name,shortUrl,labels,isTemplate,desc`,n).then(m=>{let g=m;a&&(g=g.filter(w=>!w.isTemplate));const x=k?g.slice(1):g;u(x)}).catch(m=>{console.error("Card fetch error:",m),f(`Failed to load cards for this list: ${m.message}`)}).finally(()=>d(!1))},[e,n,k,a]),s.jsx("div",{className:"modal-overlay",onClick:o,children:s.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[s.jsx("span",{className:"modal-close",onClick:o,style:{float:"right",fontSize:"1.5em",cursor:"pointer"},children:""}),s.jsxs("h3",{style:{color:r,borderColor:r},children:["Cards in: ",t," (",c.length,")"]}),h&&s.jsx("p",{children:"Loading cards..."}),p&&s.jsx("p",{className:"error",children:p}),!h&&c.length===0&&s.jsx("p",{children:"No cards found in this list."}),!h&&c.length>0&&s.jsx("div",{children:c.map(m=>{var w;const g=l&&(!m.desc||!m.desc.trim()),x=g?{color:"lightgrey",fontStyle:"italic"}:{};return s.jsxs("div",{className:"card-list-item",style:x,children:[(w=m.labels)==null?void 0:w.map(I=>s.jsx("span",{className:"card-label",style:{backgroundColor:I.color||"#999",color:$m(v),opacity:g?.6:1},children:I.name||I.color},I.id)),s.jsxs("a",{href:m.shortUrl,target:"_blank",rel:"noopener noreferrer",title:m.name,style:x,children:[m.name," ",g&&s.jsx("span",{style:{fontSize:"0.8em"},children:" (no description)"})]})]},m.id)})})]})})},fu=({labels:e,selectedLabelIds:t,onChange:r,labelLogic:n,onLabelLogicChange:o})=>{const[i,a]=b.useState(!1),l=b.useRef(null),{theme:c}=so(),u=t==null;b.useEffect(()=>{const d=p=>{l.current&&!l.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const h=d=>{if(u){const p=new Set(e.filter(f=>f.id!==d).map(f=>f.id));r(p)}else{const p=new Set(t);p.has(d)?p.delete(d):p.add(d),r(p)}};return s.jsxs("div",{style:{position:"relative",display:"inline-block",marginLeft:"10px"},ref:l,children:[s.jsxs("button",{className:"settings-button",onClick:()=>a(!i),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",fontSize:"0.9em",backgroundColor:c==="dark"?"var(--bg-secondary)":"#ffffff",color:"var(--text-primary)",border:"1px solid var(--border-color)"},children:["Labels",!u&&t.size>0&&s.jsx("span",{style:{background:"var(--accent-color)",color:"white",borderRadius:"10px",padding:"0 6px",fontSize:"0.8em"},children:t.size}),!u&&t.size===0&&s.jsx("span",{style:{fontSize:"0.8em",color:"var(--text-secondary)"},children:"(None)"}),s.jsx("span",{style:{fontSize:"0.8em"},children:""})]}),i&&s.jsxs("div",{style:{position:"absolute",top:"100%",left:0,marginTop:"5px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",boxShadow:"0 4px 12px var(--shadow-color)",zIndex:1e3,width:"320px",display:"flex",flexDirection:"column",maxHeight:"500px"},children:[s.jsxs("div",{style:{padding:"10px",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.9em",fontWeight:"bold",color:"var(--text-primary)"},children:[s.jsx("span",{children:"Filter by Labels"}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{onClick:()=>r(null),style:{background:"transparent",border:"none",color:"var(--accent-color)",cursor:"pointer",fontSize:"0.9em",textDecoration:"underline"},children:"All"}),s.jsx("button",{onClick:()=>r(new Set),style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9em",textDecoration:"underline"},children:"None"})]})]}),s.jsx("div",{style:{padding:"8px 10px",background:"var(--bg-tertiary)",borderBottom:"1px solid var(--border-color)",display:"flex",alignItems:"center",fontSize:"0.85em",color:"var(--text-secondary)"},children:s.jsxs("div",{style:{display:"flex",gap:"15px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"labelLogic",value:"OR",checked:n==="OR",onChange:()=>o("OR"),style:{marginRight:"5px"}}),"Match any"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"labelLogic",value:"AND",checked:n==="AND",onChange:()=>o("AND"),style:{marginRight:"5px"}}),"Match all"]})]})}),s.jsx("div",{style:{overflowY:"auto",padding:"10px",flex:1},children:e.map(d=>{const p=u||t.has(d.id);return s.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"6px 0",cursor:"pointer",color:"var(--text-primary)"},children:[s.jsx("input",{type:"checkbox",checked:p,onChange:()=>h(d.id),style:{marginRight:"10px"}}),s.jsx("span",{style:{display:"inline-block",width:"12px",height:"12px",borderRadius:"50%",backgroundColor:d.color||"#ccc",marginRight:"8px"}}),s.jsx("span",{style:{fontSize:"0.9em"},children:d.name||(d.color?d.color:"No Name")})]},d.id)})})]})]})},no={star:'<path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>',heart:'<path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>',flag:'<path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"/>',bookmark:'<path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/>',circle:'<circle cx="12" cy="12" r="10" />',"map-marker":'<path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>',user:'<path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>',"check-circle":'<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>',"alert-triangle":'<path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>',"info-circle":'<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>',clock:'<path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>',calendar:'<path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>',home:'<path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>',truck:'<path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>',trash:'<path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>',cloud:'<path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"/>',sun:'<path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"/>',moon:'<path d="M6 14c0-3.31 2.69-6 6-6 1.05 0 2.03.28 2.89.76-.74-2.67-2.92-4.7-5.63-5.22-4.07-.78-8.08 1.84-8.86 5.91-.78 4.07 1.84 8.08 5.91 8.86 2.37.45 4.68-.31 6.36-1.87C9.31 20.3 6 17.58 6 14z"/>',flash:'<path d="M7 2v11h3v9l7-12h-4l4-8z"/>',edit:'<path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>',lock:'<path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3 3.1-3 1.71 0 3.1 1.29 3.1 3v2z"/>',unlock:'<path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3 3.1-3 1.71 0 3.1 1.29 3.1 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"/>',bell:'<path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"/>',car:'<path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/>',bus:'<path d="M4 16c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-3.5-3.58-4-8-4s-8 .5-8 4v10zm3.5 1c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 6h14v5H5V6z"/>',bike:'<path d="M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10l2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1.2-.4-1.6 0l-1.6 1.6 1.6 1.6zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"/>',train:'<path d="M12 2c-4 0-8 .5-8 4v9.5c0 .95.38 1.81 1 2.44V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.56c.62-.63 1-1.49 1-2.44V6c0-3.5-3.58-4-8-4zm0 2c3.5 0 6 .5 6 1v5H6V5c0-.5 2.5-1 6-1zm6 11H6v-3h12v3z"/>',flight:'<path d="M10.18 9l-5.8-5.8L3 4.61v21.61L4.38 27.6l5.8-5.8h11.61L22.6 19.82 2.62.6 1.41 1.41l8.77 8.77z" fill="transparent" /><path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/>',boat:'<path d="M20 21c-1.39 0-2.78-.47-4-1.32-2.44 1.71-5.56 1.71-8 0C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 2.52 1.29 5.48 1.29 8 0 1.26.65 2.62.99 4 .99h2v-2h-2zM3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.39-.6-.39H2.72c-.26 0-.5.15-.6.39s-.14.52-.06.78L3.95 19zM6 6h12v2H6zm0 4h12v2H6z"/>',walk:'<path d="M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"/>',play:'<path d="M8 5v14l11-7z"/>',pause:'<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>',stop:'<path d="M6 6h12v12H6z"/>',forward:'<path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/>',backward:'<path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/>',fingerprint:'<path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.03-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"/>',verified:'<path d="M23 12l-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72l-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"/>',"shopping-cart":'<path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>',gavel:'<path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.83 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z"/>',build:'<path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>',"external-link":'<path d="M19 19H5V5h7V3H5c-1.11 0-2 .89-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.89 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>',"street-view":'<path d="M12.56 14.33c-.34.27-.56.7-.56 1.17V21h7c1.1 0 2-.9 2-2v-5.98c-.94-.33-1.95-.52-3-.52-2.03 0-3.93.7-5.44 1.83z"/> <circle cx="18" cy="6" r="5"/> <path d="M11.5 6c0-1.08.27-2.1.74-3H5c-1.1 0-2 .9-2 2v14c0 .55.23 1.05.59 1.41l9.82-9.82C12.23 9.42 11.5 7.8 11.5 6z"/>'},ic=({selectedIcon:e,onChange:t,color:r="#444"})=>s.jsx("div",{className:"icon-picker-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(36px, 1fr))",gap:"8px",padding:"8px",border:"1px solid var(--border-color)",borderRadius:"6px",marginTop:"8px",maxHeight:"160px",overflowY:"auto"},children:Object.keys(no).map(n=>s.jsx("div",{title:n,onClick:()=>t(n),style:{padding:"6px",cursor:"pointer",borderRadius:"4px",border:e===n?"2px solid #579aff":"1px solid transparent",backgroundColor:e===n?"rgba(87, 154, 255, 0.1)":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:r,dangerouslySetInnerHTML:{__html:no[n]}})},n))}),bf=({blocks:e,lists:t,allLabels:r,cards:n,markerRules:o,visibleListIds:i,visibleRuleIds:a,onToggleList:l,onToggleBlock:c,onToggleRule:u,onToggleAllBlocks:h,onToggleAllRules:d,homeLocation:p,showHomeLocation:f,onToggleHome:v})=>{const[y,k]=b.useState(!1),m=C=>n?n.filter(j=>j.idList===C&&j.coordinates&&j.coordinates.lat).length:0,g=C=>!n||!C?0:n.filter(j=>C.listIds.includes(j.idList)&&j.coordinates&&j.coordinates.lat).length,x=(C,j)=>{if(!n)return 0;const R=n.filter(z=>z.coordinates&&z.coordinates.lat);return j?R.filter(z=>{for(const _ of o)if(z.labels&&z.labels.some(J=>J.id===_.labelId))return!1;return!0}).length:R.filter(z=>z.labels&&z.labels.some(_=>_.id===C.labelId)).length},w=C=>s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor",style:{marginRight:"6px",verticalAlign:"middle"},dangerouslySetInnerHTML:{__html:no[C?C.toLowerCase():"map-marker"]||no["map-marker"]}}),I=C=>{const R={blue:"#3388ff",red:"#ff6b6b",green:"#51cf66",orange:"#ffa94d",yellow:"#ffd43b",grey:"#868e96",black:"#343a40",purple:"#9c27b0"}[C]||C;return s.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:R,display:"inline-block",marginRight:"8px",verticalAlign:"middle",border:"1px solid rgba(0,0,0,0.2)"}})};if(!y)return s.jsxs("div",{className:"map-filters-overlay collapsed",onClick:()=>k(!0),children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"filter-icon",children:[s.jsx("path",{d:"M3 6H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M7 12H17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M10 18H14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Filters"]});const D=e.filter(C=>C.includeOnMap!==!1).flatMap(C=>C.listIds);D.length>0&&D.every(C=>i.has(C)),D.some(C=>i.has(C));const E=o.map(C=>C.id).concat(["default"]);return E.every(C=>a.has(C)),E.some(C=>a.has(C)),s.jsxs("div",{className:"map-filters-overlay expanded",children:[s.jsxs("div",{className:"filters-header",onClick:()=>k(!1),children:[s.jsx("h3",{children:"Filters"}),s.jsx("span",{className:"close-filters",children:""})]}),s.jsxs("div",{className:"filters-content",children:[s.jsxs("div",{className:"filter-section",children:[s.jsx("div",{className:"section-header-row",children:s.jsx("h4",{children:"Blocks"})}),e.filter(C=>C.includeOnMap!==!1).map(C=>{const j=C.listIds,R=j.every(_=>i.has(_)),z=j.some(_=>i.has(_));return s.jsxs("div",{className:"filter-group",children:[s.jsx("div",{className:"filter-row block-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:R,ref:_=>{_&&(_.indeterminate=z&&!R)},onChange:_=>c(C.id,_.target.checked)}),s.jsxs("span",{className:"label-text",children:[w(C.mapIcon),C.name," ",s.jsxs("span",{style:{opacity:.6,marginLeft:"4px"},children:["(",g(C),")"]})]})]})}),s.jsx("div",{className:"nested-lists",children:C.listIds.map(_=>{const J=t.find(ae=>ae.id===_);return J?s.jsx("div",{className:"filter-row list-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:i.has(_),onChange:()=>l(_)}),s.jsxs("span",{className:"label-text",children:[J.name," ",s.jsxs("span",{style:{opacity:.6,marginLeft:"4px"},children:["(",m(_),")"]})]})]})},_):null})})]},C.id)})]}),s.jsxs("div",{className:"filter-section",children:[s.jsx("div",{className:"section-header-row",children:s.jsx("h4",{children:"Marker Variants"})}),s.jsx("div",{className:"filter-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:a.has("default"),onChange:()=>u("default")}),s.jsxs("span",{className:"label-text",children:[I("blue"),"Default / No Rule ",s.jsxs("span",{style:{opacity:.6,marginLeft:"4px"},children:["(",x(null,!0),")"]})]})]})}),o.map(C=>s.jsx("div",{className:"filter-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:a.has(C.id),onChange:()=>u(C.id)}),s.jsxs("span",{className:"label-text",children:[C.overrideType==="color"?I(C.overrideValue):w(C.overrideValue),(()=>{const j=r?r.find(R=>R.id===C.labelId):null;return j?j.name:C.labelName||"Unknown Label"})(),s.jsxs("span",{style:{opacity:.6,marginLeft:"4px"},children:["(",x(C,!1),")"]})]})]})},C.id))]}),p&&s.jsx("div",{className:"filter-section",style:{borderTop:"1px solid #eee",paddingTop:"10px"},children:s.jsx("div",{className:"filter-row",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f,onChange:v}),s.jsxs("span",{className:"label-text",children:[w(p.icon),s.jsx("strong",{children:"Home"})]})]})})})]})]})},_m=()=>Promise.reject(new Error("Google Maps API Key is missing. Please check VITE_GOOGLE_MAPS_API_KEY env var.")),t0=Object.freeze(Object.defineProperty({__proto__:null,loadGoogleMaps:_m},Symbol.toStringTag,{value:"Module"}));function Sd(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var co=Sd();function Vm(e){co=e}var Ei={exec:()=>null};function De(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(o,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(At.caret,"$1"),r=r.replace(o,a),n},getRegex:()=>new RegExp(r,t)};return n}var r0=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),At={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},n0=/^(?:[ \t]*(?:\n|$))+/,o0=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,i0=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,na=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,a0=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,kd=/(?:[*+-]|\d{1,9}[.)])/,Um=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Wm=De(Um).replace(/bull/g,kd).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),l0=De(Um).replace(/bull/g,kd).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Cd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,s0=/^[^\n]+/,Id=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,c0=De(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Id).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),u0=De(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,kd).getRegex(),as="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ed=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,d0=De("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ed).replace("tag",as).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Hm=De(Cd).replace("hr",na).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",as).getRegex(),p0=De(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Hm).getRegex(),Dd={blockquote:p0,code:o0,def:c0,fences:i0,heading:a0,hr:na,html:d0,lheading:Wm,list:u0,newline:n0,paragraph:Hm,table:Ei,text:s0},wf=De("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",na).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",as).getRegex(),f0={...Dd,lheading:l0,table:wf,paragraph:De(Cd).replace("hr",na).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",wf).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",as).getRegex()},h0={...Dd,html:De(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ed).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ei,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:De(Cd).replace("hr",na).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Wm).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},g0=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,m0=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Gm=/^( {2,}|\\)\n(?!\s*$)/,v0=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ls=/[\p{P}\p{S}]/u,jd=/[\s\p{P}\p{S}]/u,qm=/[^\s\p{P}\p{S}]/u,y0=De(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,jd).getRegex(),Qm=/(?!~)[\p{P}\p{S}]/u,x0=/(?!~)[\s\p{P}\p{S}]/u,b0=/(?:[^\s\p{P}\p{S}]|~)/u,w0=De(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",r0?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Ym=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,S0=De(Ym,"u").replace(/punct/g,ls).getRegex(),k0=De(Ym,"u").replace(/punct/g,Qm).getRegex(),Km="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",C0=De(Km,"gu").replace(/notPunctSpace/g,qm).replace(/punctSpace/g,jd).replace(/punct/g,ls).getRegex(),I0=De(Km,"gu").replace(/notPunctSpace/g,b0).replace(/punctSpace/g,x0).replace(/punct/g,Qm).getRegex(),E0=De("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,qm).replace(/punctSpace/g,jd).replace(/punct/g,ls).getRegex(),D0=De(/\\(punct)/,"gu").replace(/punct/g,ls).getRegex(),j0=De(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),T0=De(Ed).replace("(?:-->|$)","-->").getRegex(),N0=De("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",T0).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Rl=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,R0=De(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Rl).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Jm=De(/^!?\[(label)\]\[(ref)\]/).replace("label",Rl).replace("ref",Id).getRegex(),Zm=De(/^!?\[(ref)\](?:\[\])?/).replace("ref",Id).getRegex(),P0=De("reflink|nolink(?!\\()","g").replace("reflink",Jm).replace("nolink",Zm).getRegex(),Sf=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Td={_backpedal:Ei,anyPunctuation:D0,autolink:j0,blockSkip:w0,br:Gm,code:m0,del:Ei,emStrongLDelim:S0,emStrongRDelimAst:C0,emStrongRDelimUnd:E0,escape:g0,link:R0,nolink:Zm,punctuation:y0,reflink:Jm,reflinkSearch:P0,tag:N0,text:v0,url:Ei},L0={...Td,link:De(/^!?\[(label)\]\((.*?)\)/).replace("label",Rl).getRegex(),reflink:De(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Rl).getRegex()},hu={...Td,emStrongRDelimAst:I0,emStrongLDelim:k0,url:De(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Sf).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:De(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Sf).getRegex()},A0={...hu,br:De(Gm).replace("{2,}","*").getRegex(),text:De(hu.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},za={normal:Dd,gfm:f0,pedantic:h0},ii={normal:Td,gfm:hu,breaks:A0,pedantic:L0},M0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kf=e=>M0[e];function Qr(e,t){if(t){if(At.escapeTest.test(e))return e.replace(At.escapeReplace,kf)}else if(At.escapeTestNoEncode.test(e))return e.replace(At.escapeReplaceNoEncode,kf);return e}function Cf(e){try{e=encodeURI(e).replace(At.percentDecode,"%")}catch{return null}return e}function If(e,t){var i;let r=e.replace(At.findPipe,(a,l,c)=>{let u=!1,h=l;for(;--h>=0&&c[h]==="\\";)u=!u;return u?"|":" |"}),n=r.split(At.splitPipe),o=0;if(n[0].trim()||n.shift(),n.length>0&&!((i=n.at(-1))!=null&&i.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(At.slashPipe,"|");return n}function ai(e,t,r){let n=e.length;if(n===0)return"";let o=0;for(;o<n&&e.charAt(n-o-1)===t;)o++;return e.slice(0,n-o)}function O0(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function Ef(e,t,r,n,o){let i=t.href,a=t.title||null,l=e[1].replace(o.other.outputLinkReplace,"$1");n.state.inLink=!0;let c={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:i,title:a,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,c}function B0(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let o=n[1];return t.split(`
`).map(i=>{let a=i.match(r.other.beginningSpace);if(a===null)return i;let[l]=a;return l.length>=o.length?i.slice(o.length):i}).join(`
`)}var Pl=class{constructor(t){Ae(this,"options");Ae(this,"rules");Ae(this,"lexer");this.options=t||co}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:ai(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],o=B0(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:o}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let o=ai(n,"#");(this.options.pedantic||!o||this.rules.other.endingSpaceChar.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:ai(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=ai(r[0],`
`).split(`
`),o="",i="",a=[];for(;n.length>0;){let l=!1,c=[],u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))c.push(n[u]),l=!0;else if(!l)c.push(n[u]);else break;n=n.slice(u);let h=c.join(`
`),d=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");o=o?`${o}
${h}`:h,i=i?`${i}
${d}`:d;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,a,!0),this.lexer.state.top=p,n.length===0)break;let f=a.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){let v=f,y=v.raw+`
`+n.join(`
`),k=this.blockquote(y);a[a.length-1]=k,o=o.substring(0,o.length-v.raw.length)+k.raw,i=i.substring(0,i.length-v.text.length)+k.text;break}else if((f==null?void 0:f.type)==="list"){let v=f,y=v.raw+`
`+n.join(`
`),k=this.list(y);a[a.length-1]=k,o=o.substring(0,o.length-f.raw.length)+k.raw,i=i.substring(0,i.length-v.raw.length)+k.raw,n=y.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:o,tokens:a,text:i}}}list(t){var n,o;let r=this.rules.block.list.exec(t);if(r){let i=r[1].trim(),a=i.length>1,l={type:"list",raw:"",ordered:a,start:a?+i.slice(0,-1):"",loose:!1,items:[]};i=a?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=a?i:"[*+-]");let c=this.rules.other.listItemRegex(i),u=!1;for(;t;){let d=!1,p="",f="";if(!(r=c.exec(t))||this.rules.block.hr.test(t))break;p=r[0],t=t.substring(p.length);let v=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,g=>" ".repeat(3*g.length)),y=t.split(`
`,1)[0],k=!v.trim(),m=0;if(this.options.pedantic?(m=2,f=v.trimStart()):k?m=r[1].length+1:(m=r[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,f=v.slice(m),m+=r[1].length),k&&this.rules.other.blankLine.test(y)&&(p+=y+`
`,t=t.substring(y.length+1),d=!0),!d){let g=this.rules.other.nextBulletRegex(m),x=this.rules.other.hrRegex(m),w=this.rules.other.fencesBeginRegex(m),I=this.rules.other.headingBeginRegex(m),D=this.rules.other.htmlBeginRegex(m);for(;t;){let E=t.split(`
`,1)[0],C;if(y=E,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),C=y):C=y.replace(this.rules.other.tabCharGlobal,"    "),w.test(y)||I.test(y)||D.test(y)||g.test(y)||x.test(y))break;if(C.search(this.rules.other.nonSpaceChar)>=m||!y.trim())f+=`
`+C.slice(m);else{if(k||v.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||w.test(v)||I.test(v)||x.test(v))break;f+=`
`+y}!k&&!y.trim()&&(k=!0),p+=E+`
`,t=t.substring(E.length+1),v=C.slice(m)}}l.loose||(u?l.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(u=!0)),l.items.push({type:"list_item",raw:p,task:!!this.options.gfm&&this.rules.other.listIsTask.test(f),loose:!1,text:f,tokens:[]}),l.raw+=p}let h=l.items.at(-1);if(h)h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let d of l.items){if(this.lexer.state.top=!1,d.tokens=this.lexer.blockTokens(d.text,[]),d.task){if(d.text=d.text.replace(this.rules.other.listReplaceTask,""),((n=d.tokens[0])==null?void 0:n.type)==="text"||((o=d.tokens[0])==null?void 0:o.type)==="paragraph"){d.tokens[0].raw=d.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),d.tokens[0].text=d.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let f=this.lexer.inlineQueue.length-1;f>=0;f--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[f].src)){this.lexer.inlineQueue[f].src=this.lexer.inlineQueue[f].src.replace(this.rules.other.listReplaceTask,"");break}}let p=this.rules.other.listTaskCheckbox.exec(d.raw);if(p){let f={type:"checkbox",raw:p[0]+" ",checked:p[0]!=="[ ]"};d.checked=f.checked,l.loose?d.tokens[0]&&["paragraph","text"].includes(d.tokens[0].type)&&"tokens"in d.tokens[0]&&d.tokens[0].tokens?(d.tokens[0].raw=f.raw+d.tokens[0].raw,d.tokens[0].text=f.raw+d.tokens[0].text,d.tokens[0].tokens.unshift(f)):d.tokens.unshift({type:"paragraph",raw:f.raw,text:f.raw,tokens:[f]}):d.tokens.unshift(f)}}if(!l.loose){let p=d.tokens.filter(v=>v.type==="space"),f=p.length>0&&p.some(v=>this.rules.other.anyLine.test(v.raw));l.loose=f}}if(l.loose)for(let d of l.items){d.loose=!0;for(let p of d.tokens)p.type==="text"&&(p.type="paragraph")}return l}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),o=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){var l;let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=If(r[1]),o=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(l=r[3])!=null&&l.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===o.length){for(let c of o)this.rules.other.tableAlignRight.test(c)?a.align.push("right"):this.rules.other.tableAlignCenter.test(c)?a.align.push("center"):this.rules.other.tableAlignLeft.test(c)?a.align.push("left"):a.align.push(null);for(let c=0;c<n.length;c++)a.header.push({text:n[c],tokens:this.lexer.inline(n[c]),header:!0,align:a.align[c]});for(let c of i)a.rows.push(If(c,a.header.length).map((u,h)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:a.align[h]})));return a}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let a=ai(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{let a=O0(r[2],"()");if(a===-2)return;if(a>-1){let l=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(o);a&&(o=a[1],i=a[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),this.rules.other.startAngleBracket.test(o)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?o=o.slice(1):o=o.slice(1,-1)),Ef(r,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=r[o.toLowerCase()];if(!i){let a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return Ef(n,i,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrongLDelim.exec(t);if(!(!o||o[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(o[1]||o[2])||!n||this.rules.inline.punctuation.exec(n))){let i=[...o[0]].length-1,a,l,c=i,u=0,h=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+i);(o=h.exec(r))!=null;){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}else if((o[5]||o[6])&&i%3&&!((i+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);let d=[...o[0]][0].length,p=t.slice(0,i+o.index+d+l);if(Math.min(i,l)%2){let v=p.slice(1,-1);return{type:"em",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}let f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),o=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return o&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,o;return r[2]==="@"?(n=r[1],o="mailto:"+n):(n=r[1],o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let o,i;if(r[2]==="@")o=r[0],i="mailto:"+o;else{let a;do a=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(a!==r[0]);o=r[0],r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},jr=class gu{constructor(t){Ae(this,"tokens");Ae(this,"options");Ae(this,"state");Ae(this,"inlineQueue");Ae(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||co,this.options.tokenizer=this.options.tokenizer||new Pl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:At,block:za.normal,inline:ii.normal};this.options.pedantic?(r.block=za.pedantic,r.inline=ii.pedantic):this.options.gfm&&(r.block=za.gfm,this.options.breaks?r.inline=ii.breaks:r.inline=ii.gfm),this.tokenizer.rules=r}static get rules(){return{block:za,inline:ii}}static lex(t,r){return new gu(r).lex(t)}static lexInline(t,r){return new gu(r).inlineTokens(t)}lex(t){t=t.replace(At.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var o,i,a;for(this.options.pedantic&&(t=t.replace(At.tabCharGlobal,"    ").replace(At.spaceLine,""));t;){let l;if((i=(o=this.options.extensions)==null?void 0:o.block)!=null&&i.some(u=>(l=u.call({lexer:this},t,r))?(t=t.substring(l.raw.length),r.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);let u=r.at(-1);l.raw.length===1&&u!==void 0?u.raw+=`
`:r.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+l.raw,u.text+=`
`+l.text,this.inlineQueue.at(-1).src=u.text):r.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+l.raw,u.text+=`
`+l.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title},r.push(l));continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),r.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),r.push(l);continue}let c=t;if((a=this.options.extensions)!=null&&a.startBlock){let u=1/0,h=t.slice(1),d;this.options.extensions.startBlock.forEach(p=>{d=p.call({lexer:this},h),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(c=t.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(c))){let u=r.at(-1);n&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):r.push(l),n=c.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+l.raw,u.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):r.push(l);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var c,u,h,d,p;let n=t,o=null;if(this.tokens.links){let f=Object.keys(this.tokens.links);if(f.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)f.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,o.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(o=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)i=o[2]?o[2].length:0,n=n.slice(0,o.index+i)+"["+"a".repeat(o[0].length-i-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((u=(c=this.options.hooks)==null?void 0:c.emStrongMask)==null?void 0:u.call({lexer:this},n))??n;let a=!1,l="";for(;t;){a||(l=""),a=!1;let f;if((d=(h=this.options.extensions)==null?void 0:h.inline)!=null&&d.some(y=>(f=y.call({lexer:this},t,r))?(t=t.substring(f.raw.length),r.push(f),!0):!1))continue;if(f=this.tokenizer.escape(t)){t=t.substring(f.raw.length),r.push(f);continue}if(f=this.tokenizer.tag(t)){t=t.substring(f.raw.length),r.push(f);continue}if(f=this.tokenizer.link(t)){t=t.substring(f.raw.length),r.push(f);continue}if(f=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(f.raw.length);let y=r.at(-1);f.type==="text"&&(y==null?void 0:y.type)==="text"?(y.raw+=f.raw,y.text+=f.text):r.push(f);continue}if(f=this.tokenizer.emStrong(t,n,l)){t=t.substring(f.raw.length),r.push(f);continue}if(f=this.tokenizer.codespan(t)){t=t.substring(f.raw.length),r.push(f);continue}if(f=this.tokenizer.br(t)){t=t.substring(f.raw.length),r.push(f);continue}if(f=this.tokenizer.del(t)){t=t.substring(f.raw.length),r.push(f);continue}if(f=this.tokenizer.autolink(t)){t=t.substring(f.raw.length),r.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(t))){t=t.substring(f.raw.length),r.push(f);continue}let v=t;if((p=this.options.extensions)!=null&&p.startInline){let y=1/0,k=t.slice(1),m;this.options.extensions.startInline.forEach(g=>{m=g.call({lexer:this},k),typeof m=="number"&&m>=0&&(y=Math.min(y,m))}),y<1/0&&y>=0&&(v=t.substring(0,y+1))}if(f=this.tokenizer.inlineText(v)){t=t.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(l=f.raw.slice(-1)),a=!0;let y=r.at(-1);(y==null?void 0:y.type)==="text"?(y.raw+=f.raw,y.text+=f.text):r.push(f);continue}if(t){let y="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return r}},Ll=class{constructor(e){Ae(this,"options");Ae(this,"parser");this.options=e||co}space(e){return""}code({text:e,lang:t,escaped:r}){var i;let n=(i=(t||"").match(At.notSpaceStart))==null?void 0:i[0],o=e.replace(At.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Qr(n)+'">'+(r?o:Qr(o,!0))+`</code></pre>
`:"<pre><code>"+(r?o:Qr(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,r=e.start,n="";for(let a=0;a<e.items.length;a++){let l=e.items[a];n+=this.listitem(l)}let o=t?"ol":"ul",i=t&&r!==1?' start="'+r+'"':"";return"<"+o+i+`>
`+n+"</"+o+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let o=0;o<e.header.length;o++)r+=this.tablecell(e.header[o]);t+=this.tablerow({text:r});let n="";for(let o=0;o<e.rows.length;o++){let i=e.rows[o];r="";for(let a=0;a<i.length;a++)r+=this.tablecell(i[a]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Qr(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let n=this.parser.parseInline(r),o=Cf(e);if(o===null)return n;e=o;let i='<a href="'+e+'"';return t&&(i+=' title="'+Qr(t)+'"'),i+=">"+n+"</a>",i}image({href:e,title:t,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));let o=Cf(e);if(o===null)return Qr(r);e=o;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${Qr(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Qr(e.text)}},Nd=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},Tr=class mu{constructor(t){Ae(this,"options");Ae(this,"renderer");Ae(this,"textRenderer");this.options=t||co,this.options.renderer=this.options.renderer||new Ll,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Nd}static parse(t,r){return new mu(r).parse(t)}static parseInline(t,r){return new mu(r).parseInline(t)}parse(t){var n,o;let r="";for(let i=0;i<t.length;i++){let a=t[i];if((o=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&o[a.type]){let c=a,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=u||"";continue}}let l=a;switch(l.type){case"space":{r+=this.renderer.space(l);break}case"hr":{r+=this.renderer.hr(l);break}case"heading":{r+=this.renderer.heading(l);break}case"code":{r+=this.renderer.code(l);break}case"table":{r+=this.renderer.table(l);break}case"blockquote":{r+=this.renderer.blockquote(l);break}case"list":{r+=this.renderer.list(l);break}case"checkbox":{r+=this.renderer.checkbox(l);break}case"html":{r+=this.renderer.html(l);break}case"def":{r+=this.renderer.def(l);break}case"paragraph":{r+=this.renderer.paragraph(l);break}case"text":{r+=this.renderer.text(l);break}default:{let c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(t,r=this.renderer){var o,i;let n="";for(let a=0;a<t.length;a++){let l=t[a];if((i=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&i[l.type]){let u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){n+=u||"";continue}}let c=l;switch(c.type){case"escape":{n+=r.text(c);break}case"html":{n+=r.html(c);break}case"link":{n+=r.link(c);break}case"image":{n+=r.image(c);break}case"checkbox":{n+=r.checkbox(c);break}case"strong":{n+=r.strong(c);break}case"em":{n+=r.em(c);break}case"codespan":{n+=r.codespan(c);break}case"br":{n+=r.br(c);break}case"del":{n+=r.del(c);break}case"text":{n+=r.text(c);break}default:{let u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}},Wa,hi=(Wa=class{constructor(e){Ae(this,"options");Ae(this,"block");this.options=e||co}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?jr.lex:jr.lexInline}provideParser(){return this.block?Tr.parse:Tr.parseInline}},Ae(Wa,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Ae(Wa,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Wa),z0=class{constructor(...t){Ae(this,"defaults",Sd());Ae(this,"options",this.setOptions);Ae(this,"parse",this.parseMarkdown(!0));Ae(this,"parseInline",this.parseMarkdown(!1));Ae(this,"Parser",Tr);Ae(this,"Renderer",Ll);Ae(this,"TextRenderer",Nd);Ae(this,"Lexer",jr);Ae(this,"Tokenizer",Pl);Ae(this,"Hooks",hi);this.use(...t)}walkTokens(t,r){var o,i;let n=[];for(let a of t)switch(n=n.concat(r.call(this,a)),a.type){case"table":{let l=a;for(let c of l.header)n=n.concat(this.walkTokens(c.tokens,r));for(let c of l.rows)for(let u of c)n=n.concat(this.walkTokens(u.tokens,r));break}case"list":{let l=a;n=n.concat(this.walkTokens(l.items,r));break}default:{let l=a;(i=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&i[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{let u=l[c].flat(1/0);n=n.concat(this.walkTokens(u,r))}):l.tokens&&(n=n.concat(this.walkTokens(l.tokens,r)))}}return n}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let a=r.renderers[i.name];a?r.renderers[i.name]=function(...l){let c=i.renderer.apply(this,l);return c===!1&&(c=a.apply(this,l)),c}:r.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=r[i.level];a?a.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&(i.level==="block"?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:i.level==="inline"&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){let i=this.defaults.renderer||new Ll(this.defaults);for(let a in n.renderer){if(!(a in i))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let l=a,c=n.renderer[l],u=i[l];i[l]=(...h)=>{let d=c.apply(i,h);return d===!1&&(d=u.apply(i,h)),d||""}}o.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new Pl(this.defaults);for(let a in n.tokenizer){if(!(a in i))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let l=a,c=n.tokenizer[l],u=i[l];i[l]=(...h)=>{let d=c.apply(i,h);return d===!1&&(d=u.apply(i,h)),d}}o.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new hi;for(let a in n.hooks){if(!(a in i))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let l=a,c=n.hooks[l],u=i[l];hi.passThroughHooks.has(a)?i[l]=h=>{if(this.defaults.async&&hi.passThroughHooksRespectAsync.has(a))return(async()=>{let p=await c.call(i,h);return u.call(i,p)})();let d=c.call(i,h);return u.call(i,d)}:i[l]=(...h)=>{if(this.defaults.async)return(async()=>{let p=await c.apply(i,h);return p===!1&&(p=await u.apply(i,h)),p})();let d=c.apply(i,h);return d===!1&&(d=u.apply(i,h)),d}}o.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,a=n.walkTokens;o.walkTokens=function(l){let c=[];return c.push(a.call(this,l)),i&&(c=c.concat(i.call(this,l))),c}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return jr.lex(t,r??this.defaults)}parser(t,r){return Tr.parse(t,r??this.defaults)}parseMarkdown(t){return(r,n)=>{let o={...n},i={...this.defaults,...o},a=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&o.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=t),i.async)return(async()=>{let l=i.hooks?await i.hooks.preprocess(r):r,c=await(i.hooks?await i.hooks.provideLexer():t?jr.lex:jr.lexInline)(l,i),u=i.hooks?await i.hooks.processAllTokens(c):c;i.walkTokens&&await Promise.all(this.walkTokens(u,i.walkTokens));let h=await(i.hooks?await i.hooks.provideParser():t?Tr.parse:Tr.parseInline)(u,i);return i.hooks?await i.hooks.postprocess(h):h})().catch(a);try{i.hooks&&(r=i.hooks.preprocess(r));let l=(i.hooks?i.hooks.provideLexer():t?jr.lex:jr.lexInline)(r,i);i.hooks&&(l=i.hooks.processAllTokens(l)),i.walkTokens&&this.walkTokens(l,i.walkTokens);let c=(i.hooks?i.hooks.provideParser():t?Tr.parse:Tr.parseInline)(l,i);return i.hooks&&(c=i.hooks.postprocess(c)),c}catch(l){return a(l)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let o="<p>An error occurred:</p><pre>"+Qr(n.message+"",!0)+"</pre>";return r?Promise.resolve(o):o}if(r)return Promise.reject(n);throw n}}},oo=new z0;function Re(e,t){return oo.parse(e,t)}Re.options=Re.setOptions=function(e){return oo.setOptions(e),Re.defaults=oo.defaults,Vm(Re.defaults),Re};Re.getDefaults=Sd;Re.defaults=co;Re.use=function(...e){return oo.use(...e),Re.defaults=oo.defaults,Vm(Re.defaults),Re};Re.walkTokens=function(e,t){return oo.walkTokens(e,t)};Re.parseInline=oo.parseInline;Re.Parser=Tr;Re.parser=Tr.parse;Re.Renderer=Ll;Re.TextRenderer=Nd;Re.Lexer=jr;Re.lexer=jr.lex;Re.Tokenizer=Pl;Re.Hooks=hi;Re.parse=Re;Re.options;Re.setOptions;Re.use;Re.walkTokens;Re.parseInline;Tr.parse;jr.lex;const Rd=({children:e})=>{const[t,r]=b.useState(!1),n=b.useRef(null),o=()=>r(!t);return b.useEffect(()=>{const i=a=>{n.current&&!n.current.contains(a.target)&&r(!1)};return t&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[t]),s.jsxs("div",{className:"hamburger-menu-container",ref:n,children:[s.jsx("button",{className:"hamburger-button",onClick:o,"aria-label":"Menu",children:""}),t&&s.jsx("div",{className:"hamburger-dropdown",children:e})]})},$0=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],Df=e=>{const t={blue:"#3388ff",red:"#ff6b6b",green:"#51cf66",orange:"#ffa94d",yellow:"#ffd43b",grey:"#868e96",black:"#343a40",purple:"#9c27b0"},r=t[e.color]||t.blue,n=(e.icon||"map-marker").toLowerCase(),o=no[n]||no["map-marker"],i=`<path d="M14 0C8 0 3 5 3 11c0 8 11 21 11 21s11-13 11-21C25 5 20 0 14 0z" fill="${r}"/>`,a=`<g transform="translate(7, 4) scale(0.58)" fill="#fff">${o}</g>`,l=`
    <svg width="28" height="42" viewBox="0 0 28 42" xmlns="http://www.w3.org/2000/svg" style="filter:drop-shadow(0 3px 4px rgba(0,0,0,0.4));">
        ${i}
        ${a}
    </svg>`;return{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(l),scaledSize:new window.google.maps.Size(28,42),anchor:new window.google.maps.Point(14,42),labelOrigin:new window.google.maps.Point(14,15)}},jf=(e,t,r)=>{let n=t.mapIcon||"map-marker",o="blue";const i=["default"];let a=!1,l=!1;if(r&&r.length>0)for(const c of r){if(a&&l)break;e.labels&&e.labels.some(u=>u.id===c.labelId)&&(c.overrideType==="icon"&&!a?(n=c.overrideValue,a=!0,i.push(c.id)):c.overrideType==="color"&&!l&&(o=c.overrideValue,l=!0,i.push(c.id)))}if(i.length>1){const c=i.indexOf("default");c>-1&&i.splice(c,1)}return{icon:n,color:o,activeRuleIds:i}};function F0(e){if(!e)return e;let t=e;return t=t.replace(/^(?:CNR|Corner)\s+/i,"Corner of "),[[/\bRd\b/gi,"Road"],[/\bAv\b/gi,"Avenue"],[/\bAve\b/gi,"Avenue"],[/\bSt\b/gi,"Street"],[/\bDr\b/gi,"Drive"],[/\bLn\b/gi,"Lane"],[/\bCt\b/gi,"Court"],[/\bPl\b/gi,"Place"],[/\bCres\b/gi,"Crescent"],[/\bBlvd\b/gi,"Boulevard"],[/\bPde\b/gi,"Parade"],[/\bHwy\b/gi,"Highway"],[/\bFwy\b/gi,"Freeway"]].forEach(([n,o])=>{t=t.replace(n,o)}),t}const ac=e=>{if(!e||!e.trim())return null;const t=e.match(/https?:\/\/(?:www\.)?google\.[^\/\s]+\/maps\/place\/([^\s)]+)/i);if(t){const i=t[1];try{return decodeURIComponent(i.replace(/\+/g," "))}catch{return i.replace(/\+/g," ")}}const r=e.match(/(-?\d+\.\d+)\s*,\s*(-?\d+\.\d+)/);if(r)return`${r[1]},${r[2]}`;const n=[/^\d+\s+[A-Za-z\s]+(?:St|Street|Ave|Avenue|Rd|Road|Ln|Lane|Dr|Drive|Way|Court|Ct|Place|Pl|Parkway|Crescent|Cres|Boulevard|Blvd)[^\n]*/i,/(?:CNR|Corner)\s+[A-Za-z\s]+[&\/]\s+[A-Za-z\s]+[^\n]*/i,/[A-Za-z\s]+(?:VIC|NSW|QLD|SA|WA|TAS|ACT)\s+\d{4}/i];for(const i of n){const a=e.match(i);if(a){const l=a[0].trim();if(l.length>5)return l}}const o=e.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);return o.length>0&&o[0].length>5&&!/^S\d+|^[A-Z]{2}\d+/.test(o[0])?o[0]:null},_0=({error:e,onDismiss:t,onApply:r})=>{const[n,o]=b.useState(""),[i,a]=b.useState([]),l=b.useRef(null);b.useEffect(()=>{window.google&&window.google.maps&&window.google.maps.places&&(l.current=new window.google.maps.places.AutocompleteService)},[]);const c=d=>{const p=d.target.value;if(o(p),!p||p.length<3){a([]);return}l.current&&l.current.getPlacePredictions({input:p},(f,v)=>{v===window.google.maps.places.PlacesServiceStatus.OK&&f?a(f):a([])})},u=d=>{new window.google.maps.Geocoder().geocode({placeId:d.place_id},(f,v)=>{if(v==="OK"&&f[0]){const y=f[0].geometry.location;r(e.cardId,{lat:y.lat(),lng:y.lng(),display_name:f[0].formatted_address})}else alert("Failed to get details for this location.")})},h=e.cardDesc?e.cardDesc.length>100?e.cardDesc.substring(0,100)+"...":e.cardDesc:"No description";return s.jsxs("div",{className:"status-message error-toast",style:{borderColor:"#ff6b6b",width:"350px",flexDirection:"column",alignItems:"flex-start",padding:"12px",gap:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",marginBottom:"10px",animation:"slideIn 0.3s ease-out",pointerEvents:"auto"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[s.jsx("span",{style:{color:"#c92a2a",fontWeight:"bold",fontSize:"0.95em"},children:"Geocoding Error"}),e.cardUrl?s.jsx("a",{href:e.cardUrl,target:"_blank",rel:"noreferrer",style:{color:"#0057d9",fontWeight:"bold",textDecoration:"none",fontSize:"1em"},children:e.cardName||"View Card"}):s.jsx("span",{style:{fontWeight:"bold"},children:e.cardName||"Unknown Card"})]}),s.jsx("button",{onClick:()=>t(e.cardId),style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.5em",lineHeight:"1",color:"#888"},children:""})]}),s.jsx("div",{style:{fontSize:"0.85em",color:"var(--text-secondary)",background:"rgba(0,0,0,0.03)",padding:"6px",borderRadius:"4px",width:"100%",marginTop:"4px"},children:h}),s.jsxs("div",{style:{fontSize:"0.9em",color:"#c92a2a",marginTop:"4px"},children:["Failed Address: ",e.failedAddress]}),s.jsxs("div",{style:{width:"100%",marginTop:"8px",borderTop:"1px solid #eee",paddingTop:"8px"},children:[s.jsx("label",{style:{fontSize:"0.85em",fontWeight:"bold",display:"block",marginBottom:"4px"},children:"Manual Fix (Search):"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:n,onChange:c,placeholder:"Search address...",style:{width:"100%",padding:"6px",borderRadius:"4px",border:"1px solid #ccc"}}),i.length>0&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:3e3,background:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",maxHeight:"150px",overflowY:"auto",color:"black"},children:i.map(d=>s.jsx("div",{onClick:()=>u(d),style:{padding:"8px",cursor:"pointer",borderBottom:"1px solid #eee",fontSize:"0.9em"},onMouseEnter:p=>p.currentTarget.style.backgroundColor="#f0f0f0",onMouseLeave:p=>p.currentTarget.style.backgroundColor="white",children:d.description},d.place_id))})]})]})]})},Tf=({card:e,listName:t,blockName:r,blocks:n,lists:o,onMove:i,enableStreetView:a,onZoom:l})=>{const c=n.reduce((v,y)=>{if(y.includeOnMap===!1)return v;v[y.id]={name:y.name,lists:[]};const k=y.listIds;return o.forEach(m=>{k.includes(m.id)&&v[y.id].lists.push(m)}),v},{}),u=new Date(1e3*parseInt(e.id.substring(0,8),16)),d=new Date-u,p=Math.floor(d/6e4);let f="";if(p<60)f=`${p} min${p!==1?"s":""}`;else if(p<1440){const v=Math.round(p/60);f=`${v} hour${v!==1?"s":""}`}else{const v=Math.round(p/1440);f=`${v} day${v!==1?"s":""}`}return s.jsxs("div",{style:{padding:"5px",minWidth:"240px",maxWidth:"300px",fontFamily:"sans-serif"},children:[s.jsxs("a",{href:e.shortUrl,target:"_blank",rel:"noreferrer",style:{fontSize:"1.2em",display:"block",marginBottom:"4px",color:"var(--text-color)",fontWeight:"bold",textDecoration:"none"},children:[e.name," "]}),s.jsxs("div",{style:{fontSize:"1.05em",color:"#555",marginBottom:"8px",fontWeight:"500"},children:[r?s.jsxs("span",{style:{fontWeight:"700"},children:[r,"  "]}):"",t]}),e.desc&&e.desc.trim()!==""&&s.jsx("div",{className:"popup-desc",style:{marginBottom:"10px",fontSize:"0.95em",color:"#111",lineHeight:"1.5"},dangerouslySetInnerHTML:{__html:Re.parse(e.desc)}}),e.labels&&e.labels.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginBottom:"10px"},children:e.labels.map(v=>s.jsx("span",{style:{backgroundColor:v.color?v.color==="sky"?"#00c2e0":v.color:"#ccc",color:$m(v.color),padding:"3px 8px",borderRadius:"12px",fontSize:"0.75em",fontWeight:"bold",border:"1px solid rgba(0,0,0,0.1)"},children:v.name},v.id))}),s.jsxs("div",{style:{fontSize:"0.9em",color:"#555",marginBottom:"10px",display:"flex",alignItems:"center",gap:"5px"},children:[s.jsx("span",{style:{fontWeight:"bold"},children:"Active for:"})," ",f]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"12px",paddingTop:"10px",borderTop:"1px solid #eee"},children:[s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.coordinates&&a&&s.jsx("button",{title:"Open in Street View",onClick:()=>window.open(`https://www.google.com/maps?layer=c&cbll=${e.coordinates.lat},${e.coordinates.lng}`,"_blank"),style:{background:"none",border:"none",cursor:"pointer",color:"#666",padding:"4px"},children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",dangerouslySetInnerHTML:{__html:no["street-view"]}})}),s.jsx("button",{title:"Zoom to Card",onClick:()=>l&&l(e),style:{background:"none",border:"none",cursor:"pointer",color:"#666",padding:"4px"},children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"22",y1:"12",x2:"18",y2:"12"}),s.jsx("line",{x1:"6",y1:"12",x2:"2",y2:"12"}),s.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),s.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"18"})]})})]}),i&&o.length>0&&s.jsxs("select",{onChange:v=>i(e.id,v.target.value),value:"",style:{maxWidth:"140px",fontSize:"0.9em",padding:"4px",borderRadius:"4px",borderColor:"#dfe1e6"},children:[s.jsx("option",{value:"",disabled:!0,children:"Move to..."}),Object.values(c).map(v=>v.lists.length>0&&s.jsx("optgroup",{label:v.name,children:v.lists.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))},v.name))]})]})]})},Xm=({user:e,settings:t,onClose:r,onShowSettings:n,onLogout:o,onShowTasks:i,onShowDashboard:a,isEmbedded:l,slideshowContent:c,onStopSlideshow:u,onStartSlideshow:h})=>{const[d,p]=b.useState([]),[f,v]=b.useState([]),[y,k]=b.useState([]),[m,g]=b.useState(""),[x,w]=b.useState(!0),[I,D]=b.useState([]),[E,C]=b.useState([]),[j,R]=b.useState(new Set),[z,_]=b.useState(new Set(["default"])),[J,ae]=b.useState(!0),[ie,fe]=b.useState("roadmap"),[ve,M]=b.useState([]),[H,V]=b.useState([]),[Y,G]=b.useState(null),[xe,he]=b.useState(null),[oe,N]=b.useState(!1),[A,L]=b.useState(!1),U=b.useRef(null),q=b.useRef(null),le=b.useRef(0),{theme:Ce,toggleTheme:Ze}=so(),be=b.useRef(null),me=b.useRef(null),Be=b.useRef({}),ye=b.useRef(null),Tt=b.useRef(null),de=(()=>{var W;if(!e)return{};try{return((W=JSON.parse(localStorage.getItem("trelloUserData")||"{}")[e.id])==null?void 0:W.settings)||{}}catch{return{}}})(),te=(t==null?void 0:t.boardId)||de.boardId,mt=t&&t.boardName?t.boardName:de.boardName||"Trello Board";t&&t.mapGeocodeMode||de!=null&&de.mapGeocodeMode;const ce=localStorage.getItem(Ee.IGNORE_TEMPLATE_CARDS+te)!=="false",je=localStorage.getItem(Ee.IGNORE_COMPLETED_CARDS+te)==="true",we=localStorage.getItem(Ee.IGNORE_NO_DESC_CARDS+te)==="true",Ge=localStorage.getItem("updateTrelloCoordinates_"+te)==="true",Qt=localStorage.getItem("enableCardMove_"+te)==="true",Mr=localStorage.getItem("enableStreetView_"+te)==="true",br=localStorage.getItem(Ee.REFRESH_INTERVAL+te),Me=br?JSON.parse(br):{value:1,unit:"minutes"},sr=zm(Me.value,Me.unit),zt=localStorage.getItem(Ee.CLOCK_SETTING+te)!=="false";b.useEffect(()=>{oe&&(U.current=new window.google.maps.InfoWindow,U.current.addListener("closeclick",()=>{q.current=null}))},[oe]);const lt=()=>{if(!me.current)return;const W=new window.google.maps.LatLngBounds;let K=0;Object.values(Be.current).forEach(X=>{X.getMap()&&(W.extend(X.getPosition()),K++)}),ye.current&&ye.current.getMap()&&(W.extend(ye.current.getPosition()),K++),K===1?(me.current.setCenter(W.getCenter()),me.current.setZoom(14)):K>1?me.current.fitBounds(W,{top:80,bottom:80,left:50,right:50}):Y&&Y.coords?(me.current.setCenter({lat:Y.coords.lat,lng:Y.coords.lon}),me.current.setZoom(14)):(me.current.setCenter({lat:-25.2744,lng:133.7751}),me.current.setZoom(4))},Yt=b.useRef(null);b.useEffect(()=>{!me.current||!oe||(ie==="traffic"?(me.current.setMapTypeId("roadmap"),Yt.current||(Yt.current=new window.google.maps.TrafficLayer),Yt.current.setMap(me.current)):(Yt.current&&Yt.current.setMap(null),ie!=="dark"&&ie!=="traffic"?me.current.setMapTypeId(ie):ie==="dark"&&me.current.setMapTypeId("dark_mode")))},[ie,oe]);const[Or,Br]=b.useState(!1),[Ln,Wr]=b.useState(!1),[$t,wr]=b.useState(0),[Sr,Ct]=b.useState(0);b.useEffect(()=>{_m().then(W=>{if(!be.current)return;const X={center:{lat:0,lng:0},zoom:2,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,styles:[{featureType:"poi",stylers:[{visibility:"off"}]}],gestureHandling:"cooperative"},ue=new W.Map(be.current,X);ue.addListener("click",()=>{U.current&&U.current.close(),q.current=null}),me.current=ue,Tt.current=new W.Geocoder,N(!0);const Te=new W.StyledMapType($0,{name:"Dark"});ue.mapTypes.set("dark_mode",Te)}).catch(console.error)},[]),b.useEffect(()=>{const W=K=>{K.key==="Escape"&&(U.current&&U.current.close(),q.current=null)};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[]);const Nt=b.useRef(!1),Ft=b.useCallback(async(W=!1)=>{if(!(!e||!te||Nt.current)){Nt.current=!0,W||(w(!0),g("Loading cards..."));try{const K=bd(e.id,te);C(K);const X=`TRELLO_MARKER_RULES_${te}`,ue=localStorage.getItem(X);if(V(ue?JSON.parse(ue):[]),localStorage.getItem(`enableHomeLocation_${te}`)==="true"){const se=JSON.parse(localStorage.getItem(`homeCoordinates_${te}`)||"null"),vt=localStorage.getItem(`homeIcon_${te}`)||"home",ut=localStorage.getItem(`homeAddress_${te}`)||"";G(se?{coords:se,icon:vt,address:ut}:null)}else G(null);if(!W){const se=K.filter(ut=>ut.includeOnMap!==!1).flatMap(ut=>ut.listIds);R(new Set(se));const vt=(ue?JSON.parse(ue):[]).map(ut=>ut.id).concat(["default"]);_(new Set(vt))}const[ze,ot,Rt]=await Promise.all([We(`/boards/${te}/lists?cards=none&fields=id,name`,e.token),We(`/boards/${te}/labels`,e.token),We(`/boards/${te}/cards?fields=id,name,desc,idList,labels,shortUrl,isTemplate,pos,coordinates,due,dueComplete&_=${Date.now()}`,e.token)]);v(ze),k(ot);const $e=`MAP_GEOCODING_CACHE_${te}`,re=JSON.parse(localStorage.getItem($e)||"{}"),qe=localStorage.getItem(Ee.IGNORE_COMPLETED_CARDS+te)==="true",st=localStorage.getItem("IGNORE_NO_DESC_CARDS_"+te)==="true",ct={};Rt.forEach(se=>{(ct[se.idList]===void 0||se.pos<ct[se.idList])&&(ct[se.idList]=se.pos)});const rt=Rt.filter(se=>!(ce&&se.isTemplate||qe&&se.dueComplete||st&&(!se.desc||!se.desc.trim()))).map(se=>{let vt=null;if(se.coordinates){if(typeof se.coordinates=="string"&&se.coordinates.includes(",")){const zr=se.coordinates.split(",");zr.length===2&&(vt={lat:parseFloat(zr[0]),lng:parseFloat(zr[1])})}else if(typeof se.coordinates=="object"){const zr=se.coordinates.lat||se.coordinates.latitude,zn=se.coordinates.lng||se.coordinates.long||se.coordinates.longitude;zr&&zn&&(vt={lat:parseFloat(zr),lng:parseFloat(zn)})}}(!vt||!vt.lat)&&re[se.id]&&(vt=re[se.id]);const ut=se.pos===ct[se.idList];return{...se,coordinates:vt,isFirstInList:ut}});p(rt)}catch(K){console.error(K),g(`Error: ${K.message}`)}finally{Nt.current=!1,W?Ct(K=>K+1):(w(!1),g(""))}}},[e,te,ce]);b.useEffect(()=>{if(!d.length)return;const W=[],K=d.filter(X=>{const ue=E.find(ot=>ot.listIds.includes(X.idList));return!ue||ue.includeOnMap===!1||ue.ignoreFirstCard&&X.isFirstInList?!1:!X.desc||!X.desc.trim()?(W.push({cardId:X.id,cardName:X.name,cardDesc:X.desc,cardUrl:X.shortUrl,failedAddress:"No description found"}),!1):X.coordinates&&X.coordinates.lat?!1:ac(X.desc)?!0:(W.push({cardId:X.id,cardName:X.name,cardDesc:X.desc,cardUrl:X.shortUrl,failedAddress:"No valid address found"}),!1)});K.length>0&&D(K),W.length>0&&M(X=>{const ue=[...X];let Te=!1;return W.forEach(ze=>{ue.some(ot=>ot.cardId===ze.cardId)||(ue.push(ze),Te=!0)}),Te?ue:X})},[d,E]),b.useEffect(()=>{if(I.length===0||!oe)return;const K=setTimeout(async()=>{const X=I[0],ue=ac(X.desc),Te=F0(ue),ze=`Geocoding: ${X.name}`;g(ze.length>30?ze.substring(0,30)+"...":ze),Tt.current&&Tt.current.geocode({address:Te},async(ot,Rt)=>{if(Rt==="OK"&&ot[0]){const $e=ot[0].geometry.location,re={lat:$e.lat(),lng:$e.lng(),display_name:ot[0].formatted_address};p(ct=>ct.map(rt=>rt.id===X.id?{...rt,coordinates:re}:rt));const qe=`MAP_GEOCODING_CACHE_${te}`,st=JSON.parse(localStorage.getItem(qe)||"{}");if(st[X.id]=re,localStorage.setItem(qe,JSON.stringify(st)),Ge)try{await We(`/cards/${X.id}`,e.token,{method:"PUT",body:JSON.stringify({coordinates:`${re.lat},${re.lng}`}),headers:{"Content-Type":"application/json"}})}catch(ct){console.error("Trello update failed",ct)}}else if(console.warn(`Geocoding failed for ${X.name}: ${Rt}`),Rt==="OVER_QUERY_LIMIT"){g("Rate limited. Retrying in 2s..."),await new Promise($e=>setTimeout($e,2e3)),D($e=>[...$e]);return}else M($e=>[...$e,{cardId:X.id,cardName:X.name,cardDesc:X.desc,cardUrl:X.shortUrl,failedAddress:Te}]);D($e=>$e.slice(1)),I.length===1&&g("")})},1200);return()=>clearTimeout(K)},[I,oe,Ge,te,e,d]);const Hr=b.useRef(null),an=b.useRef(null);b.useEffect(()=>{Ft(!1)},[Ft]),b.useEffect(()=>(an.current&&clearInterval(an.current),Hr.current&&clearInterval(Hr.current),I.length===0&&!x?(he(sr),an.current=setInterval(()=>he(W=>W!==null&&W>0?W-1:W),1e3),Hr.current=setInterval(()=>{Ft(!0),he(sr)},sr*1e3)):he(null),()=>{clearInterval(an.current),clearInterval(Hr.current)}),[I.length,x,sr,Ft]);const Yo=async(W,K)=>{p(Te=>Te.map(ze=>ze.id===W?{...ze,coordinates:K}:ze));const X=`MAP_GEOCODING_CACHE_${te}`,ue=JSON.parse(localStorage.getItem(X)||"{}");if(ue[W]=K,localStorage.setItem(X,JSON.stringify(ue)),M(Te=>Te.filter(ze=>ze.cardId!==W)),Ge)try{await We(`/cards/${W}`,e.token,{method:"PUT",body:JSON.stringify({coordinates:`${K.lat},${K.lng}`}),headers:{"Content-Type":"application/json"}})}catch(Te){console.error("Trello manual update failed",Te)}},Ko=W=>M(K=>K.filter(X=>X.cardId!==W)),An=W=>{const K=new Set(j);K.has(W)?K.delete(W):K.add(W),R(K)},ln=(W,K)=>{const X=E.find(Te=>Te.id===W);if(!X)return;const ue=new Set(j);X.listIds.forEach(Te=>K?ue.add(Te):ue.delete(Te)),R(ue)},Mn=W=>{const K=new Set(j);E.filter(ue=>ue.includeOnMap!==!1).flatMap(ue=>ue.listIds).forEach(ue=>W?K.add(ue):K.delete(ue)),R(K)},uo=W=>{const K=new Set(z);K.has(W)?K.delete(W):K.add(W),_(K)},On=W=>{const K=H.map(ue=>ue.id).concat(["default"]),X=new Set(W?K:[]);_(X)},Bn=async(W,K)=>{if(Qt)try{if(await We(`/cards/${W}`,e.token,{method:"PUT",body:JSON.stringify({idList:K}),headers:{"Content-Type":"application/json"}}),p(X=>X.map(ue=>ue.id===W?{...ue,idList:K}:ue)),q.current===W&&Be.current[W]&&U.current){const ue={...d.find(qe=>qe.id===W),idList:K},Te=f.find(qe=>qe.id===K),ze=Te?Te.name:"Unknown",ot=E.find(qe=>qe.listIds.includes(K)),Rt=ot?ot.name:"",$e=document.createElement("div");du($e).render(s.jsx(Tf,{card:ue,listName:ze,blockName:Rt,blocks:E,lists:f,onMove:Bn,enableStreetView:Mr})),U.current.setContent($e)}}catch(X){console.error("Failed to move card",X),alert("Failed to move card.")}},po=b.useRef(0),[ga,js]=b.useState(0);return b.useEffect(()=>{if(!me.current||!oe)return;const W=me.current;let K=0,X=0,ue=0;const Te=d.filter(re=>{if(ce&&re.isTemplate||je&&re.dueComplete||we&&(!re.desc||!re.desc.trim()))return K++,!1;if(!j.has(re.idList))return X++,!1;const qe=E.find(rt=>rt.listIds.includes(re.idList));if(!qe)return!0;if(qe.ignoreFirstCard&&re.isFirstInList)return!1;const{activeRuleIds:st}=jf(re,qe,H),ct=[...st].some(rt=>z.has(rt));return ct||ue++,ct});console.log(`[MapView Debug] Total: ${d.length} | Potential: ${Te.length} | Dropped: Global=${K}, List=${X}, Rule=${ue}`),js(Te.length);const ze=Te.filter(re=>re.coordinates&&re.coordinates.lat),ot=Te.filter(re=>!re.coordinates||!re.coordinates.lat);ot.length>0&&(console.log(`[MapView Debug] Missing Coordinates for ${ot.length} cards:`),ot.forEach(re=>{const qe=ac(re.desc);console.log(` - "${re.name}" (ID: ${re.id}) | Desc len: ${re.desc?re.desc.length:0} | Parsed Addr: "${qe}" | Queue Status: ${I.some(st=>st.id===re.id)?"In Queue":"Not in Queue"} | Error Status: ${ve.some(st=>st.cardId===re.id)?"Has Error":"No Error"}`)})),wr(ze.length);const Rt=ze,$e={};if(Rt.forEach(re=>{const qe=E.find(se=>se.listIds.includes(re.idList))||{mapIcon:"map-marker"},st=jf(re,qe,H),ct=Df(st),rt={lat:re.coordinates.lat,lng:re.coordinates.lng};if(Be.current[re.id]){const se=Be.current[re.id];se.setPosition(rt),se.setIcon(ct),se.set("cardData",re),$e[re.id]=se}else{const se=new window.google.maps.Marker({position:rt,map:W,icon:ct,title:re.name});se.set("cardData",re),se.addListener("click",()=>{const vt=se.get("cardData"),ut=document.createElement("div"),zr=du(ut),zn=f.find(Gr=>Gr.id===vt.idList),Ts=zn?zn.name:"Unknown List",ma=E.find(Gr=>Gr.listIds.includes(vt.idList)),va=ma?ma.name:"";q.current=vt.id,zr.render(s.jsx(Tf,{card:vt,listName:Ts,blockName:va,blocks:E,lists:Qt?f:[],onMove:Bn,enableStreetView:Mr,onZoom:Gr=>{if(me.current&&Gr.coordinates){me.current.setCenter({lat:Gr.coordinates.lat,lng:Gr.coordinates.lng});const Ns=me.current.getZoom();me.current.setZoom(Math.min(Ns+2,21))}}})),U.current.setContent(ut),U.current.open(W,se)}),$e[re.id]=se}}),wr(Object.keys($e).length),Object.keys(Be.current).forEach(re=>{$e[re]||Be.current[re].setMap(null)}),Be.current=$e,Y&&Y.coords&&J){const re={lat:Y.coords.lat,lng:Y.coords.lon},qe=Df({icon:Y.icon||"home",color:"purple"});if(ye.current)ye.current.setPosition(re),ye.current.setIcon(qe),ye.current.setMap(W);else{const st=new window.google.maps.Marker({position:re,map:W,icon:qe,zIndex:1e3,title:"Home Location"});st.addListener("click",()=>{const ct=`
                        <div style="padding: 5px;">
                            <strong>Home Address</strong><br/>
                            ${Y.address||Y.coords.display_name||"No address set"}
                        </div>
                    `;U.current.setContent(ct),U.current.open(W,st)}),ye.current=st}}else ye.current&&ye.current.setMap(null);Rt.length>0&&!A?(lt(),L(!0),le.current=ze.length,po.current=Sr):Sr!==po.current?(Rt.length>0&&lt(),po.current=Sr,le.current=ze.length):A&&ze.length!==le.current&&(lt(),le.current=ze.length)},[d,j,z,E,H,Y,J,oe,f,Sr]),l?s.jsxs("div",{style:{flex:1,position:"relative",height:"100%",overflow:"hidden"},children:[s.jsx("div",{style:{position:"absolute",top:10,left:10,zIndex:5},children:s.jsx(bf,{lists:f,cards:d,allLabels:y,visibleListIds:j,onToggleList:An,blocks:E,onToggleBlock:ln,onToggleAllBlocks:Mn,markerRules:H,visibleRuleIds:z,onToggleRule:uo,onToggleAllRules:On,homeLocation:Y,showHomeLocation:J,onToggleHome:()=>ae(!J)})}),s.jsx("div",{style:{position:"absolute",top:"5px",right:"20px",zIndex:800,backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#333"},onClick:lt,title:"Fit Map to Markers",children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"22",y1:"12",x2:"18",y2:"12"}),s.jsx("line",{x1:"6",y1:"12",x2:"2",y2:"12"}),s.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),s.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"18"})]})}),s.jsxs("div",{style:{flexGrow:1,position:"relative",background:"#e0e0e0",height:"100%"},children:[s.jsx("div",{ref:be,style:{width:"100%",height:"100%"}}),!oe&&s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},children:"Loading Google Maps..."})]})]}):s.jsxs("div",{className:"map-view-container",children:[s.jsxs("div",{className:"map-header",children:[s.jsxs("div",{className:"map-header-title-area",children:[zt&&s.jsx(wd,{boardId:te}),s.jsx("h1",{style:{marginLeft:zt?"15px":"0"},children:mt})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"15px"},children:[!oe&&s.jsx("span",{className:"spinner"}),s.jsxs("div",{className:"desktop-only",style:{display:"flex",alignItems:"center",gap:"15px"},children:[!u&&s.jsx(s.Fragment,{children:s.jsxs("select",{value:ie,onChange:W=>fe(W.target.value),className:"time-filter-select",children:[s.jsx("option",{value:"roadmap",children:"Roadmap"}),s.jsx("option",{value:"traffic",children:"Traffic"}),s.jsx("option",{value:"satellite",children:"Satellite"}),s.jsx("option",{value:"hybrid",children:"Hybrid"}),s.jsx("option",{value:"terrain",children:"Terrain"}),s.jsx("option",{value:"dark",children:"Dark Mode"})]})}),s.jsx("button",{className:"theme-toggle-button",onClick:()=>Ze(),children:Ce==="dark"?"":""})]}),s.jsx("div",{className:"mobile-only",children:s.jsxs(Rd,{children:[s.jsxs("div",{className:"hamburger-section",children:[s.jsx("strong",{children:"Map Settings"}),s.jsxs("select",{value:ie,onChange:W=>fe(W.target.value),className:"time-filter-select",style:{width:"100%",margin:0},children:[s.jsx("option",{value:"roadmap",children:"Roadmap"}),s.jsx("option",{value:"traffic",children:"Traffic"}),s.jsx("option",{value:"satellite",children:"Satellite"}),s.jsx("option",{value:"hybrid",children:"Hybrid"}),s.jsx("option",{value:"terrain",children:"Terrain"}),s.jsx("option",{value:"dark",children:"Dark Mode"})]})]}),s.jsxs("div",{className:"hamburger-section",children:[s.jsx("strong",{children:"Actions"}),s.jsxs("div",{style:{padding:"10px 0",fontSize:"0.9em",color:"var(--text-secondary)"},children:["Mapped: ",$t," / ",ga," cards"]}),!u&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"button-secondary",onClick:()=>{he(sr),Ft(!0)},children:["Refresh Now (",Nl(xe),")"]}),s.jsx("button",{className:"button-secondary",onClick:()=>r(),children:"Dashboard View"}),s.jsx("button",{className:"button-secondary",onClick:()=>i(),children:"Tasks View"}),s.jsx("button",{className:"button-secondary",onClick:()=>n("board"),children:"Settings"}),s.jsx("button",{className:"logout-button",onClick:o,children:"Logout"})]})]})]})})]})]}),s.jsx("div",{style:{position:"fixed",top:"80px",right:"20px",zIndex:9999,pointerEvents:"none"},children:s.jsx("div",{style:{pointerEvents:"auto",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:ve.map(W=>s.jsx(_0,{error:W,onDismiss:Ko,onApply:Yo},W.cardId))})}),s.jsx("div",{style:{display:"flex",flexGrow:1,position:"relative"},children:c==="dashboard"?s.jsx("div",{style:{width:"100%",height:"100%",overflow:"hidden"},children:s.jsx(ev,{isEmbedded:!0,user:e,settings:t})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"absolute",top:"5px",right:"20px",zIndex:800,backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#333"},onClick:lt,title:"Fit Map to Markers",children:s.jsxs("svg",{width:"60",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("line",{x1:"22",y1:"12",x2:"18",y2:"12"}),s.jsx("line",{x1:"6",y1:"12",x2:"2",y2:"12"}),s.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),s.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"18"})]})}),s.jsx("div",{className:"map-sidebar",children:s.jsx(bf,{lists:f,cards:d,allLabels:y,visibleListIds:j,onToggleList:An,blocks:E,onToggleBlock:ln,onToggleAllBlocks:Mn,markerRules:H,visibleRuleIds:z,onToggleRule:uo,onToggleAllRules:On,homeLocation:Y,showHomeLocation:J,onToggleHome:()=>ae(!J)})}),s.jsxs("div",{style:{flexGrow:1,position:"relative",background:"#e0e0e0"},children:[s.jsx("div",{ref:be,style:{width:"100%",height:"100%"}}),!oe&&s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},children:"Loading Google Maps..."})]})]})}),s.jsxs("div",{className:"map-footer",children:[s.jsx("div",{className:"map-footer-left",children:s.jsx("div",{style:{fontSize:"0.8em",color:"#888"},children:"Powered by Google Maps & Trello"})}),u&&s.jsx("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)"},children:s.jsx("button",{onClick:u,style:{backgroundColor:"#d32f2f",color:"white",border:"none",padding:"5px 15px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Stop Slideshow"})}),s.jsxs("div",{className:"map-footer-right",children:[!u&&s.jsxs("span",{className:"desktop-only",style:{marginRight:"20px",fontWeight:"500",color:"var(--text-color)"},children:[m||"Ready"," ",I.length>0&&s.jsxs("span",{children:["(Geocoding ",I.length,"...)"]})]}),s.jsxs("button",{className:"button-secondary",onClick:()=>{he(sr),Ft(!0)},children:["Refresh ",Nl(xe)]}),!u&&s.jsxs("div",{className:"desktop-only",style:{display:"flex",gap:"15px",alignItems:"center"},children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex"},children:[s.jsx("button",{className:"button-secondary",onClick:()=>r(),children:"Dashboard View"}),s.jsx("button",{className:"button-secondary dropdown-arrow",style:{marginLeft:"-1px",borderLeft:"none",padding:"0 5px"},onClick:()=>Br(!Or),children:""})]}),Or&&s.jsxs("div",{className:"context-menu",style:{position:"absolute",bottom:"100%",left:0,background:"var(--bg-primary)",border:"1px solid #ccc",borderRadius:"4px",padding:"10px",minWidth:"250px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:[s.jsx("div",{className:"menu-item",style:{marginBottom:"8px",padding:"4px",cursor:"pointer",borderRadius:"4px"},onClick:()=>{window.open("/dashboard","_blank"),Br(!1)},children:"Open in New Tab"}),h&&!u&&s.jsxs("div",{className:"menu-item",style:{padding:"4px",cursor:"pointer",borderRadius:"4px"},onClick:()=>{h(),Br(!1)},children:["Start Slideshow (",(t==null?void 0:t.slideshowInterval)||10,"s)"]})]})]}),s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex"},children:[s.jsx("button",{className:"button-secondary",onClick:()=>i(),children:"Tasks View"}),s.jsx("button",{className:"button-secondary dropdown-arrow",style:{marginLeft:"-1px",borderLeft:"none",padding:"0 5px"},onClick:()=>Wr(!Ln),children:""})]}),Ln&&s.jsx("div",{className:"context-menu",style:{position:"absolute",bottom:"100%",left:0,background:"var(--bg-primary)",border:"1px solid #ccc",borderRadius:"4px",padding:"5px",minWidth:"150px"},children:s.jsx("div",{className:"menu-item",onClick:()=>{window.open("/tasks","_blank"),Wr(!1)},children:"Open in New Tab"})})]}),s.jsx("button",{className:"button-secondary",onClick:()=>n("board"),children:"Settings"}),s.jsx("button",{className:"button-secondary",onClick:o,children:"Logout"})]})]})]}),(Or||Ln)&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>{Br(!1),Wr(!1)}})]})},ev=({user:e,settings:t,onShowSettings:r,onLogout:n,onShowTasks:o,onShowMap:i,onGoToStats:a,isEmbedded:l,slideshowContent:c,onStopSlideshow:u,onStartSlideshow:h})=>{var te,mt;const[d,p]=b.useState([]),[f,v]=b.useState(new Map),[y,k]=b.useState([]),[m,g]=b.useState(!0),[x,w]=b.useState(""),[I,D]=b.useState(30),[E,C]=b.useState("all"),[j,R]=b.useState(null),[z,_]=b.useState(()=>{if(t&&t.enableMapView!==void 0)return t.enableMapView;const ce=t==null?void 0:t.boardId;return ce?localStorage.getItem(`ENABLE_MAP_VIEW_${ce}`)==="true":!1}),J=b.useRef(null),[ae,ie]=b.useState(!1),[fe,ve]=b.useState(!1),{theme:M,toggleTheme:H}=so();b.useEffect(()=>{if(t){if(t.enableMapView!==void 0)_(t.enableMapView);else if(t.boardId)try{const ce=localStorage.getItem(`ENABLE_MAP_VIEW_${t.boardId}`);_(ce==="true")}catch{}}},[t]);const[V,Y]=b.useState(null),G=t==null?void 0:t.boardId,xe=t==null?void 0:t.boardName,he=(t==null?void 0:t.selectedLists)||[],oe=G?bd(e.id,G):jl,N=Tl(e.id),A=new Map(oe.map(ce=>[ce.id,ce])),L=ce=>{const je=oe.map(we=>we.id===ce?{...we,isCollapsed:!we.isCollapsed}:we);Om(e.id,G,je)},U=b.useMemo(()=>{try{const ce=localStorage.getItem(Ee.REFRESH_INTERVAL+G),we=ce?JSON.parse(ce):{value:1,unit:"minutes"},Ge=zm(we.value,we.unit);return Ge<15?15:Ge}catch{return 60}},[G]),q=localStorage.getItem(Ee.IGNORE_TEMPLATE_CARDS+G)!=="false",le=localStorage.getItem(Ee.IGNORE_COMPLETED_CARDS+G)==="true",Ce=localStorage.getItem("IGNORE_NO_DESC_CARDS_"+G)==="true",Ze=b.useRef(!1),be=b.useCallback(async(ce=!1)=>{if((ce||m)&&g(!0),!Ze.current){Ze.current=!0,w("");try{if(!G)throw new Error("No Board ID configured");const[je,we,Ge]=await Promise.all([We(`/boards/${G}/lists?cards=none&fields=id,name,color`,e.token),We(`/boards/${G}/labels`,e.token),We(`/boards/${G}/cards?fields=id,idList,pos,name,desc,isTemplate,dateLastActivity,dueComplete,labels`,e.token)]),Qt=new Map;je.forEach(Mr=>Qt.set(Mr.id,Mr)),v(Qt),k(we),p(Ge)}catch(je){console.error("Dashboard fetch error:",je),je.message&&je.message.includes("429")?w("Trello API Limit Exceeded. Refresh paused."):w(je.message)}finally{Ze.current=!1,g(!1)}}},[G,e.token,m]);b.useEffect(()=>{J.current&&clearInterval(J.current);const ce=setInterval(()=>{D(je=>je<=1?(be(),U):je-1)},1e3);return J.current=ce,D(U),be(),()=>clearInterval(ce)},[be,U]),b.useCallback(()=>{D(U),be(!0)},[U,be]);const me=b.useMemo(()=>{const ce=new Map;if(d.length===0)return ce;const je=new Map;d.forEach(Me=>{je.has(Me.idList)||je.set(Me.idList,[]),je.get(Me.idList).push(Me)});const we=Dr[E];let Ge=null,Qt=null;if(we)if(we.type==="relative"&&E!=="all"){const Me=new Date;Me.setMinutes(Me.getMinutes()-we.minutes),Ge=Me}else we.type==="calendar"&&(we.start&&(Ge=we.start),we.end&&E!=="this_month"&&E!=="this_week"&&(Qt=we.end));const Mr=Tl(e.id),br=new Set(Object.values(Mr).flatMap(Me=>Object.values(Me)));return new Set(oe.flatMap(Me=>Me.listIds)).forEach(Me=>{var Sr;if(!f.has(Me))return;const sr=(je.get(Me)||[]).sort((Ct,Nt)=>Ct.pos-Nt.pos),zt=oe.find(Ct=>Ct.listIds.includes(Me)),lt=zt==null?void 0:zt.ignoreFirstCard,Yt=zt==null?void 0:zt.displayFirstCardDescription;let Or=null,Br=sr;lt&&sr.length>0&&(Or=sr[0],Br=sr.slice(1));const Ln=Br.filter(Ct=>{if(q&&Ct.isTemplate||le&&Ct.dueComplete||Ce&&(!Ct.desc||!Ct.desc.trim()))return!1;if(Ge||Qt){const Nt=new Date(Ct.dateLastActivity);if(Ge&&Nt<Ge||Qt&&Nt>=Qt)return!1}if(j!==null&&j.size>0){if(!Ct.labels||Ct.labels.length===0||!Ct.labels.some(Ft=>j.has(Ft.id)))return!1}else if(j!==null&&j.size===0)return!1;return!0}).length;let Wr="";lt&&Or&&Yt&&(Wr=Or.name);const $t=f.get(Me);let wr=((Sr=N[G])==null?void 0:Sr[Me])||($t==null?void 0:$t.color);(!wr||wr==="#cccccc")&&(wr=e0(Me,br)),ce.set(Me,{listId:Me,count:Ln,name:($t==null?void 0:$t.name)||"Unknown List",displayColor:wr,firstCardName:Wr})}),ce},[d,E,j,f,oe,e.id,G,q,le,Ce]),Be=(ce,je,we)=>{Y({listId:ce,listName:je,color:we,sectionsLayout:oe})},ye=()=>{Y(null)},Tt=Dr[E].titleSuffix,de=localStorage.getItem(Ee.CLOCK_SETTING+G)!=="false";return m&&d.length===0?s.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"50px"},children:"Loading dashboard data..."}):!xe||he.length===0?s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"header",children:[s.jsx("h1",{children:"Trellops Dashboard"}),s.jsx("button",{className:"logout-button",onClick:n,children:"Logout"})]}),s.jsx("p",{style:{textAlign:"center",marginTop:"50px"},children:"No Trello Board configured. Please go to settings to set up your first dashboard."}),s.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:s.jsx("button",{className:"settings-button",onClick:r,children:"Go to Settings"})})]}):l?s.jsx(Nf,{sectionsLayout:oe,blocksMap:A,counts:me,allListsMap:f,handleTileClick:Be,handleToggleCollapse:L,handleCloseModal:ye,user:e,ignoreTemplateCards:q,ignoreNoDescCards:Ce,modalList:V}):s.jsxs("div",{className:"map-view-container",children:[s.jsxs("div",{className:"map-header",children:[s.jsxs("div",{className:"map-header-title-area",children:[de&&s.jsx(wd,{boardId:G}),s.jsxs("h1",{style:{marginLeft:de?"15px":"0"},children:[xe," ",s.jsx("span",{style:{marginLeft:"15px"},children:Tt})]})]}),s.jsxs("div",{className:"map-header-actions",style:{display:"flex",alignItems:"center"},children:[s.jsxs("div",{className:"desktop-only",style:{display:"flex",alignItems:"center"},children:[!u&&s.jsxs(s.Fragment,{children:[s.jsx(fu,{labels:y,selectedLabelIds:j,onChange:R}),s.jsx("select",{className:"time-filter-select",value:E,onChange:ce=>C(ce.target.value),style:{marginLeft:"10px"},children:Object.keys(Dr).map(ce=>s.jsx("option",{value:ce,children:Dr[ce].label},ce))}),((te=t==null?void 0:t.statistics)==null?void 0:te.enabled)&&s.jsx("button",{className:"button-secondary",onClick:a||(()=>window.open("/stats","_self")),style:{marginLeft:"10px",height:"34px",padding:"0 15px",display:"flex",alignItems:"center"},children:"Stats"})]}),s.jsx("button",{className:"theme-toggle-button",onClick:()=>H(),style:{marginLeft:"10px"},children:M==="dark"?"":""})]}),s.jsx("div",{className:"mobile-only",children:s.jsxs(Rd,{children:[!u&&s.jsxs("div",{className:"hamburger-section",children:[s.jsx("strong",{children:"Filters"}),s.jsx(fu,{labels:y,selectedLabelIds:j,onChange:R}),s.jsx("select",{className:"time-filter-select",value:E,onChange:ce=>C(ce.target.value),style:{width:"100%",margin:0},children:Object.keys(Dr).map(ce=>s.jsx("option",{value:ce,children:Dr[ce].label},ce))})]}),s.jsxs("div",{className:"hamburger-section",children:[s.jsx("strong",{children:"Actions"}),((mt=t==null?void 0:t.statistics)==null?void 0:mt.enabled)&&s.jsx("button",{className:"menu-link",onClick:a||(()=>window.open("/stats","_self")),children:"Statistics View"}),z&&s.jsx("button",{className:"menu-link",onClick:i||(()=>window.open("/map","_blank")),children:"Map View"}),(t==null?void 0:t.enableTaskView)&&s.jsx("button",{className:"menu-link",onClick:o||(()=>window.open("/tasks","_blank")),children:"Tasks View"}),s.jsx("button",{className:"menu-link",onClick:r,children:"Settings"}),s.jsx("button",{className:"menu-link",onClick:n,children:"Logout"})]})]})})]})]}),c==="map"?s.jsx("div",{style:{flex:1,position:"relative",width:"100%",overflow:"hidden"},children:s.jsx(Xm,{isEmbedded:!0,user:e,settings:t})}):s.jsx(Nf,{sectionsLayout:oe,blocksMap:A,counts:me,allListsMap:f,handleTileClick:Be,handleToggleCollapse:L,handleCloseModal:ye,user:e,ignoreTemplateCards:q,ignoreNoDescCards:Ce,modalList:V}),!1,V&&s.jsx(Fm,{listId:V.listId,listName:V.listName,color:V.color,token:e.token,onClose:ye,sectionsLayout:oe,ignoreTemplateCards:q,ignoreNoDescCards:Ce}),s.jsxs("div",{className:"map-footer",children:[s.jsx("div",{className:"map-footer-left",children:u&&s.jsx("button",{onClick:u,style:{backgroundColor:"#d32f2f",color:"white",border:"none",padding:"5px 15px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Stop Slideshow"})}),s.jsxs("div",{className:"map-footer-right",style:{display:"flex",gap:"15px",alignItems:"center"},children:[s.jsxs("button",{className:"button-secondary",onClick:()=>{D(U),be(!0)},children:["Refresh ",Nl(I)]}),!u&&s.jsxs("div",{className:"desktop-only",style:{display:"flex",gap:"15px",alignItems:"center"},children:[z&&s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex"},children:[s.jsx("button",{className:"button-secondary",onClick:i||(()=>window.open("/map","_blank")),children:"Map View"}),s.jsx("button",{className:"button-secondary dropdown-arrow",style:{marginLeft:"-1px",borderLeft:"none",padding:"0 5px"},onClick:()=>ie(!ae),children:""})]}),ae&&s.jsxs("div",{className:"context-menu",style:{position:"absolute",bottom:"100%",left:0,background:"var(--bg-primary)",border:"1px solid #ccc",borderRadius:"4px",padding:"10px",minWidth:"250px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:[s.jsx("div",{className:"menu-item",style:{marginBottom:"8px",padding:"4px",cursor:"pointer",borderRadius:"4px"},onClick:()=>{window.open("/map","_blank"),ie(!1)},children:"Open in New Tab"}),h&&!u&&s.jsxs("div",{className:"menu-item",style:{padding:"4px",cursor:"pointer",borderRadius:"4px"},onClick:()=>{h(),ie(!1)},children:["Start Slideshow (",(t==null?void 0:t.slideshowInterval)||10,"s)"]})]})]}),(t==null?void 0:t.enableTaskView)&&s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex"},children:[s.jsx("button",{className:"button-secondary",onClick:o||(()=>window.open("/tasks","_blank")),children:"Tasks View"}),s.jsx("button",{className:"button-secondary dropdown-arrow",style:{marginLeft:"-1px",borderLeft:"none",padding:"0 5px"},onClick:()=>ve(!fe),children:""})]}),fe&&s.jsx("div",{className:"context-menu",style:{position:"absolute",bottom:"100%",left:0,background:"var(--bg-primary)",border:"1px solid #ccc",borderRadius:"4px",padding:"5px",minWidth:"150px"},children:s.jsx("div",{className:"menu-item",onClick:()=>{window.open("/tasks","_blank"),ve(!1)},children:"Open in New Tab"})})]}),s.jsx("button",{className:"button-secondary",onClick:r,children:"Settings"}),s.jsx("button",{className:"button-secondary",onClick:n,children:"Log Out"})]})]})]}),(fe||ae)&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>{ve(!1),ie(!1)}})]})},Nf=({sectionsLayout:e,blocksMap:t,counts:r,allListsMap:n,handleTileClick:o,handleToggleCollapse:i,handleCloseModal:a,user:l,ignoreTemplateCards:c,ignoreNoDescCards:u,modalList:h})=>s.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"10px",paddingBottom:"80px",position:"relative",zIndex:1},children:[e.map(d=>{var v;const p=d.listIds.map(y=>{const k=r.get(y);if(!k){const m=n.get(y);return m?{listId:m.id,name:m.name,count:"...",displayColor:"#ccc",firstCardName:""}:void 0}return k}).filter(y=>y!==void 0),f=((v=t.get(d.id))==null?void 0:v.isCollapsed)||!1;return p.length===0&&!f?null:s.jsxs("div",{className:"dashboard-block",children:[s.jsxs("div",{className:"block-header-row",children:[s.jsx("div",{className:"block-header",children:d.name}),s.jsx("button",{className:"collapse-toggle",onClick:()=>i(d.id),title:f?"Show Tiles":"Hide Tiles",children:f?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.02 18.02 0 0 1 5.06-5.06"}),s.jsx("path",{d:"M4.22 4.22L12 12m5.07-5.07A10.07 10.07 0 0 1 23 12s-4 8-11 8c-1.85 0-3.61-.5-5.17-1.42"}),s.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):s.jsxs("svg",{className:"icon-eye",viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8-11-8-11-8-11-8-11-8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),!f&&s.jsx("div",{className:"dashboard-grid",children:p.map(y=>s.jsxs("div",{className:"dashboard-tile",style:{backgroundColor:y.displayColor,color:"white"},onClick:()=>o(y.listId,y.name,y.displayColor),children:[s.jsx("div",{className:"card-count",children:y.count}),s.jsx("div",{className:"list-name",children:y.name}),y.firstCardName&&s.jsx("div",{className:"card-description",title:y.firstCardName,children:y.firstCardName})]},y.listId))})]},d.id)}),h&&s.jsx(Fm,{listId:h.listId,listName:h.listName,color:h.color,token:l.token,onClose:a,sectionsLayout:e,ignoreTemplateCards:c,ignoreNoDescCards:u})]}),V0="modulepreload",U0=function(e){return"/"+e},Rf={},W0=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(r.map(c=>{if(c=U0(c),c in Rf)return;Rf[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":V0,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((p,f)=>{d.addEventListener("load",p),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function vu(e,t){return vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},vu(e,t)}function tv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vu(e,t)}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(null,arguments)}function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function H0(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G0(e){var t=H0(e,"string");return Gi(t)=="symbol"?t:t+""}function q0(e,t,r){return(t=G0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pf(Object(r),!0).forEach(function(n){q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Af=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Mf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Of={INIT:"@@redux/INIT"+Mf(),REPLACE:"@@redux/REPLACE"+Mf()};function Q0(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function rv(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Vt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Vt(1));return r(rv)(e,t)}if(typeof e!="function")throw new Error(Vt(2));var o=e,i=t,a=[],l=a,c=!1;function u(){l===a&&(l=a.slice())}function h(){if(c)throw new Error(Vt(3));return i}function d(y){if(typeof y!="function")throw new Error(Vt(4));if(c)throw new Error(Vt(5));var k=!0;return u(),l.push(y),function(){if(k){if(c)throw new Error(Vt(6));k=!1,u();var g=l.indexOf(y);l.splice(g,1),a=null}}}function p(y){if(!Q0(y))throw new Error(Vt(7));if(typeof y.type>"u")throw new Error(Vt(8));if(c)throw new Error(Vt(9));try{c=!0,i=o(i,y)}finally{c=!1}for(var k=a=l,m=0;m<k.length;m++){var g=k[m];g()}return y}function f(y){if(typeof y!="function")throw new Error(Vt(10));o=y,p({type:Of.REPLACE})}function v(){var y,k=d;return y={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Vt(11));function x(){g.next&&g.next(h())}x();var w=k(x);return{unsubscribe:w}}},y[Af]=function(){return this},y}return p({type:Of.INIT}),n={dispatch:p,subscribe:d,getState:h,replaceReducer:f},n[Af]=v,n}function Bf(e,t){return function(){return t(e.apply(this,arguments))}}function zf(e,t){if(typeof e=="function")return Bf(e,t);if(typeof e!="object"||e===null)throw new Error(Vt(16));var r={};for(var n in e){var o=e[n];typeof o=="function"&&(r[n]=Bf(o,t))}return r}function nv(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,o){return function(){return n(o.apply(void 0,arguments))}})}function Y0(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var o=n.apply(void 0,arguments),i=function(){throw new Error(Vt(15))},a={getState:o.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(a)});return i=nv.apply(void 0,l)(o.dispatch),Lf(Lf({},o),{},{dispatch:i})}}}var ov=Ne.createContext(null);function K0(e){e()}var iv=K0,J0=function(t){return iv=t},Z0=function(){return iv};function X0(){var e=Z0(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var o=t;o;)o.callback(),o=o.next})},get:function(){for(var o=[],i=t;i;)o.push(i),i=i.next;return o},subscribe:function(o){var i=!0,a=r={callback:o,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var $f={notify:function(){},get:function(){return[]}};function av(e,t){var r,n=$f;function o(d){return c(),n.subscribe(d)}function i(){n.notify()}function a(){h.onStateChange&&h.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=X0())}function u(){r&&(r(),r=void 0,n.clear(),n=$f)}var h={addNestedSub:o,notifyNestedSubs:i,handleChangeWrapper:a,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return h}var lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect;function eb(e){var t=e.store,r=e.context,n=e.children,o=b.useMemo(function(){var l=av(t);return{store:t,subscription:l}},[t]),i=b.useMemo(function(){return t.getState()},[t]);lv(function(){var l=o.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[o,i]);var a=r||ov;return Ne.createElement(a.Provider,{value:o},n)}function Al(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sv={exports:{}},Le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=typeof Symbol=="function"&&Symbol.for,Pd=gt?Symbol.for("react.element"):60103,Ld=gt?Symbol.for("react.portal"):60106,ss=gt?Symbol.for("react.fragment"):60107,cs=gt?Symbol.for("react.strict_mode"):60108,us=gt?Symbol.for("react.profiler"):60114,ds=gt?Symbol.for("react.provider"):60109,ps=gt?Symbol.for("react.context"):60110,Ad=gt?Symbol.for("react.async_mode"):60111,fs=gt?Symbol.for("react.concurrent_mode"):60111,hs=gt?Symbol.for("react.forward_ref"):60112,gs=gt?Symbol.for("react.suspense"):60113,tb=gt?Symbol.for("react.suspense_list"):60120,ms=gt?Symbol.for("react.memo"):60115,vs=gt?Symbol.for("react.lazy"):60116,rb=gt?Symbol.for("react.block"):60121,nb=gt?Symbol.for("react.fundamental"):60117,ob=gt?Symbol.for("react.responder"):60118,ib=gt?Symbol.for("react.scope"):60119;function lr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Pd:switch(e=e.type,e){case Ad:case fs:case ss:case us:case cs:case gs:return e;default:switch(e=e&&e.$$typeof,e){case ps:case hs:case vs:case ms:case ds:return e;default:return t}}case Ld:return t}}}function cv(e){return lr(e)===fs}Le.AsyncMode=Ad;Le.ConcurrentMode=fs;Le.ContextConsumer=ps;Le.ContextProvider=ds;Le.Element=Pd;Le.ForwardRef=hs;Le.Fragment=ss;Le.Lazy=vs;Le.Memo=ms;Le.Portal=Ld;Le.Profiler=us;Le.StrictMode=cs;Le.Suspense=gs;Le.isAsyncMode=function(e){return cv(e)||lr(e)===Ad};Le.isConcurrentMode=cv;Le.isContextConsumer=function(e){return lr(e)===ps};Le.isContextProvider=function(e){return lr(e)===ds};Le.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pd};Le.isForwardRef=function(e){return lr(e)===hs};Le.isFragment=function(e){return lr(e)===ss};Le.isLazy=function(e){return lr(e)===vs};Le.isMemo=function(e){return lr(e)===ms};Le.isPortal=function(e){return lr(e)===Ld};Le.isProfiler=function(e){return lr(e)===us};Le.isStrictMode=function(e){return lr(e)===cs};Le.isSuspense=function(e){return lr(e)===gs};Le.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ss||e===fs||e===us||e===cs||e===gs||e===tb||typeof e=="object"&&e!==null&&(e.$$typeof===vs||e.$$typeof===ms||e.$$typeof===ds||e.$$typeof===ps||e.$$typeof===hs||e.$$typeof===nb||e.$$typeof===ob||e.$$typeof===ib||e.$$typeof===rb)};Le.typeOf=lr;sv.exports=Le;var ab=sv.exports,Md=ab,lb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sb={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},cb={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Od={};Od[Md.ForwardRef]=cb;Od[Md.Memo]=uv;function Ff(e){return Md.isMemo(e)?uv:Od[e.$$typeof]||lb}var ub=Object.defineProperty,db=Object.getOwnPropertyNames,_f=Object.getOwnPropertySymbols,pb=Object.getOwnPropertyDescriptor,fb=Object.getPrototypeOf,Vf=Object.prototype;function dv(e,t,r){if(typeof t!="string"){if(Vf){var n=fb(t);n&&n!==Vf&&dv(e,n,r)}var o=db(t);_f&&(o=o.concat(_f(t)));for(var i=Ff(e),a=Ff(t),l=0;l<o.length;++l){var c=o[l];if(!sb[c]&&!(r&&r[c])&&!(a&&a[c])&&!(i&&i[c])){var u=pb(t,c);try{ub(e,c,u)}catch{}}}}return e}var hb=dv;const Uf=Cu(hb);var pv={exports:{}},Oe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=60103,xs=60106,oa=60107,ia=60108,aa=60114,la=60109,sa=60110,ca=60112,ua=60113,Bd=60120,da=60115,pa=60116,fv=60121,hv=60122,gv=60117,mv=60129,vv=60131;if(typeof Symbol=="function"&&Symbol.for){var xt=Symbol.for;ys=xt("react.element"),xs=xt("react.portal"),oa=xt("react.fragment"),ia=xt("react.strict_mode"),aa=xt("react.profiler"),la=xt("react.provider"),sa=xt("react.context"),ca=xt("react.forward_ref"),ua=xt("react.suspense"),Bd=xt("react.suspense_list"),da=xt("react.memo"),pa=xt("react.lazy"),fv=xt("react.block"),hv=xt("react.server.block"),gv=xt("react.fundamental"),mv=xt("react.debug_trace_mode"),vv=xt("react.legacy_hidden")}function Ar(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ys:switch(e=e.type,e){case oa:case aa:case ia:case ua:case Bd:return e;default:switch(e=e&&e.$$typeof,e){case sa:case ca:case pa:case da:case la:return e;default:return t}}case xs:return t}}}var gb=la,mb=ys,vb=ca,yb=oa,xb=pa,bb=da,wb=xs,Sb=aa,kb=ia,Cb=ua;Oe.ContextConsumer=sa;Oe.ContextProvider=gb;Oe.Element=mb;Oe.ForwardRef=vb;Oe.Fragment=yb;Oe.Lazy=xb;Oe.Memo=bb;Oe.Portal=wb;Oe.Profiler=Sb;Oe.StrictMode=kb;Oe.Suspense=Cb;Oe.isAsyncMode=function(){return!1};Oe.isConcurrentMode=function(){return!1};Oe.isContextConsumer=function(e){return Ar(e)===sa};Oe.isContextProvider=function(e){return Ar(e)===la};Oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ys};Oe.isForwardRef=function(e){return Ar(e)===ca};Oe.isFragment=function(e){return Ar(e)===oa};Oe.isLazy=function(e){return Ar(e)===pa};Oe.isMemo=function(e){return Ar(e)===da};Oe.isPortal=function(e){return Ar(e)===xs};Oe.isProfiler=function(e){return Ar(e)===aa};Oe.isStrictMode=function(e){return Ar(e)===ia};Oe.isSuspense=function(e){return Ar(e)===ua};Oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===oa||e===aa||e===mv||e===ia||e===ua||e===Bd||e===vv||typeof e=="object"&&e!==null&&(e.$$typeof===pa||e.$$typeof===da||e.$$typeof===la||e.$$typeof===sa||e.$$typeof===ca||e.$$typeof===gv||e.$$typeof===fv||e[0]===hv)};Oe.typeOf=Ar;pv.exports=Oe;var Ib=pv.exports,Eb=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Db=["reactReduxForwardedRef"],jb=[],Tb=[null,null];function Nb(e,t){var r=e[1];return[t.payload,r+1]}function Wf(e,t,r){lv(function(){return e.apply(void 0,t)},r)}function Rb(e,t,r,n,o,i,a){e.current=n,t.current=o,r.current=!1,i.current&&(i.current=null,a())}function Pb(e,t,r,n,o,i,a,l,c,u){if(e){var h=!1,d=null,p=function(){if(!h){var y=t.getState(),k,m;try{k=n(y,o.current)}catch(g){m=g,d=g}m||(d=null),k===i.current?a.current||c():(i.current=k,l.current=k,a.current=!0,u({type:"STORE_UPDATED",payload:{error:m}}))}};r.onStateChange=p,r.trySubscribe(),p();var f=function(){if(h=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d};return f}}var Lb=function(){return[null,0]};function Ab(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,o=n===void 0?function(x){return"ConnectAdvanced("+x+")"}:n,i=r.methodName,a=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,u=r.shouldHandleStateChanges,h=u===void 0?!0:u,d=r.storeKey,p=d===void 0?"store":d;r.withRef;var f=r.forwardRef,v=f===void 0?!1:f,y=r.context,k=y===void 0?ov:y,m=Al(r,Eb),g=k;return function(w){var I=w.displayName||w.name||"Component",D=o(I),E=ne({},m,{getDisplayName:o,methodName:a,renderCountProp:c,shouldHandleStateChanges:h,storeKey:p,displayName:D,wrappedComponentName:I,WrappedComponent:w}),C=m.pure;function j(ae){return e(ae.dispatch,E)}var R=C?b.useMemo:function(ae){return ae()};function z(ae){var ie=b.useMemo(function(){var Z=ae.reactReduxForwardedRef,de=Al(ae,Db);return[ae.context,Z,de]},[ae]),fe=ie[0],ve=ie[1],M=ie[2],H=b.useMemo(function(){return fe&&fe.Consumer&&Ib.isContextConsumer(Ne.createElement(fe.Consumer,null))?fe:g},[fe,g]),V=b.useContext(H),Y=!!ae.store&&!!ae.store.getState&&!!ae.store.dispatch;V&&V.store;var G=Y?ae.store:V.store,xe=b.useMemo(function(){return j(G)},[G]),he=b.useMemo(function(){if(!h)return Tb;var Z=av(G,Y?null:V.subscription),de=Z.notifyNestedSubs.bind(Z);return[Z,de]},[G,Y,V]),oe=he[0],N=he[1],A=b.useMemo(function(){return Y?V:ne({},V,{subscription:oe})},[Y,V,oe]),L=b.useReducer(Nb,jb,Lb),U=L[0],q=U[0],le=L[1];if(q&&q.error)throw q.error;var Ce=b.useRef(),Ze=b.useRef(M),be=b.useRef(),me=b.useRef(!1),Be=R(function(){return be.current&&M===Ze.current?be.current:xe(G.getState(),M)},[G,q,M]);Wf(Rb,[Ze,Ce,me,M,Be,be,N]),Wf(Pb,[h,G,oe,xe,Ze,Ce,me,be,N,le],[G,oe,xe]);var ye=b.useMemo(function(){return Ne.createElement(w,ne({},Be,{ref:ve}))},[ve,w,Be]),Tt=b.useMemo(function(){return h?Ne.createElement(H.Provider,{value:A},ye):ye},[H,ye,A]);return Tt}var _=C?Ne.memo(z):z;if(_.WrappedComponent=w,_.displayName=z.displayName=D,v){var J=Ne.forwardRef(function(ie,fe){return Ne.createElement(_,ne({},ie,{reactReduxForwardedRef:fe}))});return J.displayName=D,J.WrappedComponent=w,Uf(J,w)}return Uf(_,w)}}function Hf(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function lc(e,t){if(Hf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!Hf(e[r[o]],t[r[o]]))return!1;return!0}function Mb(e,t){var r={},n=function(a){var l=e[a];typeof l=="function"&&(r[a]=function(){return t(l.apply(void 0,arguments))})};for(var o in e)n(o);return r}function zd(e){return function(r,n){var o=e(r,n);function i(){return o}return i.dependsOnOwnProps=!1,i}}function Gf(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function yv(e,t){return function(n,o){o.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Gf(e);var u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=Gf(u),u=i(l,c)),u},i}}function Ob(e){return typeof e=="function"?yv(e):void 0}function Bb(e){return e?void 0:zd(function(t){return{dispatch:t}})}function zb(e){return e&&typeof e=="object"?zd(function(t){return Mb(e,t)}):void 0}const $b=[Ob,Bb,zb];function Fb(e){return typeof e=="function"?yv(e):void 0}function _b(e){return e?void 0:zd(function(){return{}})}const Vb=[Fb,_b];function Ub(e,t,r){return ne({},r,e,t)}function Wb(e){return function(r,n){n.displayName;var o=n.pure,i=n.areMergedPropsEqual,a=!1,l;return function(u,h,d){var p=e(u,h,d);return a?(!o||!i(p,l))&&(l=p):(a=!0,l=p),l}}}function Hb(e){return typeof e=="function"?Wb(e):void 0}function Gb(e){return e?void 0:function(){return Ub}}const qb=[Hb,Gb];var Qb=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Yb(e,t,r,n){return function(i,a){return r(e(i,a),t(n,a),a)}}function Kb(e,t,r,n,o){var i=o.areStatesEqual,a=o.areOwnPropsEqual,l=o.areStatePropsEqual,c=!1,u,h,d,p,f;function v(x,w){return u=x,h=w,d=e(u,h),p=t(n,h),f=r(d,p,h),c=!0,f}function y(){return d=e(u,h),t.dependsOnOwnProps&&(p=t(n,h)),f=r(d,p,h),f}function k(){return e.dependsOnOwnProps&&(d=e(u,h)),t.dependsOnOwnProps&&(p=t(n,h)),f=r(d,p,h),f}function m(){var x=e(u,h),w=!l(x,d);return d=x,w&&(f=r(d,p,h)),f}function g(x,w){var I=!a(w,h),D=!i(x,u,w,h);return u=x,h=w,I&&D?y():I?k():D?m():f}return function(w,I){return c?g(w,I):v(w,I)}}function Jb(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=Al(t,Qb),a=r(e,i),l=n(e,i),c=o(e,i),u=i.pure?Kb:Yb;return u(a,l,c,e,i)}var Zb=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function sc(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(i,a){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+a.wrappedComponentName+".")}}function Xb(e,t){return e===t}function ew(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?Ab:r,o=t.mapStateToPropsFactories,i=o===void 0?Vb:o,a=t.mapDispatchToPropsFactories,l=a===void 0?$b:a,c=t.mergePropsFactories,u=c===void 0?qb:c,h=t.selectorFactory,d=h===void 0?Jb:h;return function(f,v,y,k){k===void 0&&(k={});var m=k,g=m.pure,x=g===void 0?!0:g,w=m.areStatesEqual,I=w===void 0?Xb:w,D=m.areOwnPropsEqual,E=D===void 0?lc:D,C=m.areStatePropsEqual,j=C===void 0?lc:C,R=m.areMergedPropsEqual,z=R===void 0?lc:R,_=Al(m,Zb),J=sc(f,i,"mapStateToProps"),ae=sc(v,l,"mapDispatchToProps"),ie=sc(y,u,"mergeProps");return n(d,ne({methodName:"connect",getDisplayName:function(ve){return"Connect("+ve+")"},shouldHandleStateChanges:!!f,initMapStateToProps:J,initMapDispatchToProps:ae,initMergeProps:ie,pure:x,areStatesEqual:I,areOwnPropsEqual:E,areStatePropsEqual:j,areMergedPropsEqual:z},_))}}const xv=ew();J0(xd.unstable_batchedUpdates);function tw(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function bv(e,t){var r=b.useState(function(){return{inputs:t,result:e()}})[0],n=b.useRef(!0),o=b.useRef(r),i=n.current||!!(t&&o.current.inputs&&tw(t,o.current.inputs)),a=i?o.current:{inputs:t,result:e()};return b.useEffect(function(){n.current=!1,o.current=a},[a]),a.result}function rw(e,t){return bv(function(){return e},t)}var Se=bv,ee=rw,nw="Invariant failed";function ow(e,t){throw new Error(nw)}var Nr=function(t){var r=t.top,n=t.right,o=t.bottom,i=t.left,a=n-i,l=o-r,c={top:r,right:n,bottom:o,left:i,width:a,height:l,x:i,y:r,center:{x:(n+i)/2,y:(o+r)/2}};return c},$d=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},qf=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},iw=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},cc={top:0,right:0,bottom:0,left:0},Fd=function(t){var r=t.borderBox,n=t.margin,o=n===void 0?cc:n,i=t.border,a=i===void 0?cc:i,l=t.padding,c=l===void 0?cc:l,u=Nr($d(r,o)),h=Nr(qf(r,a)),d=Nr(qf(h,c));return{marginBox:u,borderBox:Nr(r),paddingBox:h,contentBox:d,margin:o,border:a,padding:c}},dr=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var o=Number(r);return isNaN(o)&&ow(),o},aw=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ml=function(t,r){var n=t.borderBox,o=t.border,i=t.margin,a=t.padding,l=iw(n,r);return Fd({borderBox:l,border:o,margin:i,padding:a})},Ol=function(t,r){return r===void 0&&(r=aw()),Ml(t,r)},wv=function(t,r){var n={top:dr(r.marginTop),right:dr(r.marginRight),bottom:dr(r.marginBottom),left:dr(r.marginLeft)},o={top:dr(r.paddingTop),right:dr(r.paddingRight),bottom:dr(r.paddingBottom),left:dr(r.paddingLeft)},i={top:dr(r.borderTopWidth),right:dr(r.borderRightWidth),bottom:dr(r.borderBottomWidth),left:dr(r.borderLeftWidth)};return Fd({borderBox:t,margin:n,padding:o,border:i})},Sv=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return wv(r,n)},Qf=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function lw(e,t){return!!(e===t||Qf(e)&&Qf(t))}function sw(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!lw(e[r],t[r]))return!1;return!0}function ft(e,t){t===void 0&&(t=sw);var r,n=[],o,i=!1;function a(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,n)||(o=e.apply(this,l),i=!0,r=this,n=l),o}return a}var qi=function(t){var r=[],n=null,o=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};function kv(e,t){}kv.bind(null,"warn");kv.bind(null,"error");function kn(){}function cw(e,t){return ne({},e,{},t)}function gr(e,t,r){var n=t.map(function(o){var i=cw(r,o.options);return e.addEventListener(o.eventName,o.fn,i),function(){e.removeEventListener(o.eventName,o.fn,i)}});return function(){n.forEach(function(i){i()})}}var uw="Invariant failed";function Bl(e){this.message=e}Bl.prototype.toString=function(){return this.message};function $(e,t){throw new Bl(uw)}var dw=function(e){tv(t,e);function t(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=kn,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof Bl&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=gr(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(o){if(o instanceof Bl){this.setState({});return}throw o},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Ne.Component),pw=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,zl=function(t){return t+1},fw=function(t){return`
  You have lifted an item in position `+zl(t.source.index)+`
`},Cv=function(t,r){var n=t.droppableId===r.droppableId,o=zl(t.index),i=zl(r.index);return n?`
      You have moved the item from position `+o+`
      to position `+i+`
    `:`
    You have moved the item from position `+o+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},Iv=function(t,r,n){var o=r.droppableId===n.droppableId;return o?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},hw=function(t){var r=t.destination;if(r)return Cv(t.source,r);var n=t.combine;return n?Iv(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Yf=function(t){return`
  The item has returned to its starting position
  of `+zl(t.index)+`
`},gw=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Yf(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+Cv(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+Iv(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Yf(t.source)+`
  `},nl={dragHandleUsageInstructions:pw,onDragStart:fw,onDragUpdate:hw,onDragEnd:gw},ht={x:0,y:0},wt=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},er=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Cn=function(t,r){return t.x===r.x&&t.y===r.y},Go=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},io=function(t,r,n){var o;return n===void 0&&(n=0),o={},o[t]=r,o[t==="x"?"y":"x"]=n,o},Qi=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Kf=function(t,r){return Math.min.apply(Math,r.map(function(n){return Qi(t,n)}))},Ev=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},mw=function(e,t){var r=Nr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},fa=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Jf=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},vw={top:0,right:0,bottom:0,left:0},yw=function(t,r){return r?fa(t,r.scroll.diff.displacement):t},xw=function(t,r,n){if(n&&n.increasedBy){var o;return ne({},t,(o={},o[r.end]=t[r.end]+n.increasedBy[r.line],o))}return t},bw=function(t,r){return r&&r.shouldClipSubject?mw(r.pageMarginBox,t):Nr(t)},Fo=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,o=e.frame,i=yw(t.marginBox,o),a=xw(i,n,r),l=bw(a,o);return{page:t,withPlaceholder:r,active:l}},_d=function(e,t){e.frame||$();var r=e.frame,n=er(t,r.scroll.initial),o=Go(n),i=ne({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}}),a=Fo({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=ne({},e,{frame:i,subject:a});return l};function $l(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Vd(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Pn(e,t){if(e.find)return e.find(t);var r=Vd(e,t);if(r!==-1)return e[r]}function Dv(e){return Array.prototype.slice.call(e)}var jv=ft(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Tv=ft(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),bs=ft(function(e){return $l(e)}),ww=ft(function(e){return $l(e)}),qo=ft(function(e,t){var r=ww(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,o){return n.descriptor.index-o.descriptor.index});return r});function Ud(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function ws(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ss=ft(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Sw=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var a=Ud(i);if(!a)return null;function l(y){var k={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return ne({},i,{at:k})}var c=i.displaced.all,u=c.length?c[0]:null;if(t)return u?l(u):null;var h=Ss(r,o);if(!u){if(!h.length)return null;var d=h[h.length-1];return l(d.descriptor.id)}var p=Vd(h,function(y){return y.descriptor.id===u});p===-1&&$();var f=p-1;if(f<0)return null;var v=h[f];return l(v.descriptor.id)},Qo=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Nv={point:ht,value:0},Yi={invisible:{},visible:{},all:[]},kw={displaced:Yi,displacedBy:Nv,at:null},vr=function(e,t){return function(r){return e<=r&&r<=t}},Rv=function(e){var t=vr(e.top,e.bottom),r=vr(e.left,e.right);return function(n){var o=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(o)return!0;var i=t(n.top)||t(n.bottom),a=r(n.left)||r(n.right),l=i&&a;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,h=c&&u;if(h)return!0;var d=c&&a||u&&i;return d}},Cw=function(e){var t=vr(e.top,e.bottom),r=vr(e.left,e.right);return function(n){var o=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return o}},Wd={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Pv={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Iw=function(e){return function(t){var r=vr(t.top,t.bottom),n=vr(t.left,t.right);return function(o){return e===Wd?r(o.top)&&r(o.bottom):n(o.left)&&n(o.right)}}},Ew=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:ht;return fa(t,n)},Dw=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},jw=function(t,r,n){return n(r)(t)},Hd=function(t){var r=t.target,n=t.destination,o=t.viewport,i=t.withDroppableDisplacement,a=t.isVisibleThroughFrameFn,l=i?Ew(r,n):r;return Dw(l,n,a)&&jw(l,o,a)},Tw=function(t){return Hd(ne({},t,{isVisibleThroughFrameFn:Rv}))},Lv=function(t){return Hd(ne({},t,{isVisibleThroughFrameFn:Cw}))},Nw=function(t){return Hd(ne({},t,{isVisibleThroughFrameFn:Iw(t.destination.axis)}))},Rw=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var o=r.invisible,i=r.visible;if(o[t])return!1;var a=i[t];return a?a.shouldAnimate:!0};function Pw(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Nr($d(r,n))}function Ki(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce(function(c,u){var h=Pw(u,n),d=u.descriptor.id;c.all.push(d);var p=Tw({target:h,destination:r,viewport:o,withDroppableDisplacement:!0});if(!p)return c.invisible[u.descriptor.id]=!0,c;var f=Rw(d,a,i),v={draggableId:d,shouldAnimate:f};return c.visible[d]=v,c},{all:[],visible:{},invisible:{}})}function Lw(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Zf(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,o=e.destination,i=Lw(t,{inHomeList:r});return{displaced:Yi,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function Fl(e){var t=e.draggable,r=e.insideDestination,n=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,l=e.index,c=e.forceShouldAnimate,u=Qo(t,n);if(l==null)return Zf({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var h=Pn(r,function(y){return y.descriptor.index===l});if(!h)return Zf({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var d=Ss(t,r),p=r.indexOf(h),f=d.slice(p),v=Ki({afterDragging:f,destination:n,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:c});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function jn(e,t){return!!t.effected[e]}var Aw=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,o=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var a=o.draggableId,l=n[a],c=l.descriptor.index,u=jn(a,i);return u?t?c:c-1:t?c+1:c},Mw=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,o=e.location;if(!n.length)return null;var i=o.index,a=t?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return a<l||a>u?null:a},Ow=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,l=e.previousImpact,c=e.viewport,u=e.afterCritical,h=l.at;if(h||$(),h.type==="REORDER"){var d=Mw({isMovingForward:t,isInHomeList:r,location:h.destination,insideDestination:a});return d==null?null:Fl({draggable:n,insideDestination:a,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:d})}var p=Aw({isMovingForward:t,destination:i,displaced:l.displaced,draggables:o,combine:h.combine,afterCritical:u});return p==null?null:Fl({draggable:n,insideDestination:a,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:p})},Bw=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,o=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return jn(n,r)?i?ht:Go(o.point):i?o.point:ht},zw=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,o=ws(r);o||$();var i=o.draggableId,a=n[i].page.borderBox.center,l=Bw({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return wt(a,l)},Av=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},$w=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Gd=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Xf=function(t){var r=t.axis,n=t.moveRelativeTo,o=t.isMoving;return io(r.line,n.marginBox[r.end]+Av(r,o),Gd(r,n.marginBox,o))},eh=function(t){var r=t.axis,n=t.moveRelativeTo,o=t.isMoving;return io(r.line,n.marginBox[r.start]-$w(r,o),Gd(r,n.marginBox,o))},Fw=function(t){var r=t.axis,n=t.moveInto,o=t.isMoving;return io(r.line,n.contentBox[r.start]+Av(r,o),Gd(r,n.contentBox,o))},_w=function(e){var t=e.impact,r=e.draggable,n=e.draggables,o=e.droppable,i=e.afterCritical,a=qo(o.descriptor.id,n),l=r.page,c=o.axis;if(!a.length)return Fw({axis:c,moveInto:o.page,isMoving:l});var u=t.displaced,h=t.displacedBy,d=u.all[0];if(d){var p=n[d];if(jn(d,i))return eh({axis:c,moveRelativeTo:p.page,isMoving:l});var f=Ml(p.page,h.point);return eh({axis:c,moveRelativeTo:f,isMoving:l})}var v=a[a.length-1];if(v.descriptor.id===r.descriptor.id)return l.borderBox.center;if(jn(v.descriptor.id,i)){var y=Ml(v.page,Go(i.displacedBy.point));return Xf({axis:c,moveRelativeTo:y,isMoving:l})}return Xf({axis:c,moveRelativeTo:v.page,isMoving:l})},yu=function(e,t){var r=e.frame;return r?wt(t,r.scroll.diff.displacement):t},Vw=function(t){var r=t.impact,n=t.draggable,o=t.droppable,i=t.draggables,a=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!o||!c?l:c.type==="REORDER"?_w({impact:r,draggable:n,draggables:i,droppable:o,afterCritical:a}):zw({impact:r,draggables:i,afterCritical:a})},ks=function(e){var t=Vw(e),r=e.droppable,n=r?yu(r,t):t;return n},Mv=function(e,t){var r=er(t,e.scroll.initial),n=Go(r),o=Nr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:o,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function th(e,t){return e.map(function(r){return t[r]})}function Uw(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Ww=function(e){var t=e.impact,r=e.viewport,n=e.destination,o=e.draggables,i=e.maxScrollChange,a=Mv(r,wt(r.scroll.current,i)),l=n.frame?_d(n,wt(n.frame.scroll.current,i)):n,c=t.displaced,u=Ki({afterDragging:th(c.all,o),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),h=Ki({afterDragging:th(c.all,o),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),d={},p={},f=[c,u,h];c.all.forEach(function(y){var k=Uw(y,f);if(k){p[y]=k;return}d[y]=!0});var v=ne({},t,{displaced:{all:c.all,invisible:d,visible:p}});return v},Hw=function(e,t){return wt(e.scroll.diff.displacement,t)},qd=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,o=Hw(n,t),i=er(o,r.page.borderBox.center);return wt(r.client.borderBox.center,i)},Ov=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=a===void 0?!1:a,c=er(n,t.page.borderBox.center),u=fa(t.page.borderBox,c),h={target:u,destination:r,withDroppableDisplacement:i,viewport:o};return l?Nw(h):Lv(h)},Gw=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var h=qo(n.descriptor.id,o),d=Qo(r,n),p=Sw({isMovingForward:t,draggable:r,destination:n,insideDestination:h,previousImpact:i})||Ow({isMovingForward:t,isInHomeList:d,draggable:r,draggables:o,destination:n,insideDestination:h,previousImpact:i,viewport:a,afterCritical:u});if(!p)return null;var f=ks({impact:p,draggable:r,droppable:n,draggables:o,afterCritical:u}),v=Ov({draggable:r,destination:n,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var y=qd({pageBorderBoxCenter:f,draggable:r,viewport:a});return{clientSelection:y,impact:p,scrollJumpRequest:null}}var k=er(f,l),m=Ww({impact:p,viewport:a,destination:n,draggables:o,maxScrollChange:k});return{clientSelection:c,impact:m,scrollJumpRequest:k}},Pt=function(t){var r=t.subject.active;return r||$(),r},qw=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,o=e.droppables,i=e.viewport,a=n.subject.active;if(!a)return null;var l=n.axis,c=vr(a[l.start],a[l.end]),u=bs(o).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return Rv(i.frame)(Pt(d))}).filter(function(d){var p=Pt(d);return t?a[l.crossAxisEnd]<p[l.crossAxisEnd]:p[l.crossAxisStart]<a[l.crossAxisStart]}).filter(function(d){var p=Pt(d),f=vr(p[l.start],p[l.end]);return c(p[l.start])||c(p[l.end])||f(a[l.start])||f(a[l.end])}).sort(function(d,p){var f=Pt(d)[l.crossAxisStart],v=Pt(p)[l.crossAxisStart];return t?f-v:v-f}).filter(function(d,p,f){return Pt(d)[l.crossAxisStart]===Pt(f[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var h=u.filter(function(d){var p=vr(Pt(d)[l.start],Pt(d)[l.end]);return p(r[l.line])});return h.length===1?h[0]:h.length>1?h.sort(function(d,p){return Pt(d)[l.start]-Pt(p)[l.start]})[0]:u.sort(function(d,p){var f=Kf(r,Jf(Pt(d))),v=Kf(r,Jf(Pt(p)));return f!==v?f-v:Pt(d)[l.start]-Pt(p)[l.start]})[0]},rh=function(t,r){var n=t.page.borderBox.center;return jn(t.descriptor.id,r)?er(n,r.displacedBy.point):n},Qw=function(t,r){var n=t.page.borderBox;return jn(t.descriptor.id,r)?fa(n,Go(r.displacedBy.point)):n},Yw=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,o=e.insideDestination,i=e.afterCritical,a=o.filter(function(l){return Lv({target:Qw(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=Qi(t,yu(n,rh(l,i))),h=Qi(t,yu(n,rh(c,i)));return u<h?-1:h<u?1:l.descriptor.index-c.descriptor.index});return a[0]||null},ha=ft(function(t,r){var n=r[t.line];return{value:n,point:io(t.line,n)}}),Kw=function(t,r,n){var o=t.axis;if(t.descriptor.mode==="virtual")return io(o.line,r[o.line]);var i=t.subject.page.contentBox[o.size],a=qo(t.descriptor.id,n),l=a.reduce(function(h,d){return h+d.client.marginBox[o.size]},0),c=l+r[o.line],u=c-i;return u<=0?null:io(o.line,u)},Bv=function(t,r){return ne({},t,{scroll:ne({},t.scroll,{max:r})})},zv=function(t,r,n){var o=t.frame;Qo(r,t)&&$(),t.subject.withPlaceholder&&$();var i=ha(t.axis,r.displaceBy).point,a=Kw(t,i,n),l={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!o){var c=Fo({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return ne({},t,{subject:c})}var u=a?wt(o.scroll.max,a):o.scroll.max,h=Bv(o,u),d=Fo({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:h});return ne({},t,{subject:d,frame:h})},Jw=function(t){var r=t.subject.withPlaceholder;r||$();var n=t.frame;if(!n){var o=Fo({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ne({},t,{subject:o})}var i=r.oldFrameMaxScroll;i||$();var a=Bv(n,i),l=Fo({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return ne({},t,{subject:l,frame:a})},Zw=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:Yi,displacedBy:Nv,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},h=ks({impact:u,draggable:o,droppable:a,draggables:i,afterCritical:c}),d=Qo(o,a)?a:zv(a,o,i),p=Ov({draggable:o,destination:d,newPageBorderBoxCenter:h,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?u:null}var f=t[a.axis.line]<=r.page.borderBox.center[a.axis.line],v=function(){var k=r.descriptor.index;return r.descriptor.id===o.descriptor.id||f?k:k+1}(),y=ha(a.axis,o.displaceBy);return Fl({draggable:o,insideDestination:n,destination:a,viewport:l,displacedBy:y,last:Yi,index:v})},Xw=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,l=e.viewport,c=e.afterCritical,u=qw({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:a,viewport:l});if(!u)return null;var h=qo(u.descriptor.id,i),d=Yw({pageBorderBoxCenter:r,viewport:l,destination:u,insideDestination:h,afterCritical:c}),p=Zw({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:h,viewport:l,afterCritical:c});if(!p)return null;var f=ks({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:c}),v=qd({pageBorderBoxCenter:f,draggable:n,viewport:l});return{clientSelection:v,impact:p,scrollJumpRequest:null}},rr=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},eS=function(t,r){var n=rr(t);return n?r[n]:null},tS=function(e){var t=e.state,r=e.type,n=eS(t.impact,t.dimensions.droppables),o=!!n,i=t.dimensions.droppables[t.critical.droppable.id],a=n||i,l=a.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!o)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",h=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,v=p.droppables;return c?Gw({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:h,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Xw({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:h,isOver:a,draggables:f,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function Hn(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function $v(e){var t=vr(e.top,e.bottom),r=vr(e.left,e.right);return function(o){return t(o.y)&&r(o.x)}}function rS(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function nS(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,o=r.page.borderBox.center,i=n.map(function(a){var l=a.axis,c=io(a.axis.line,t.center[l.line],a.page.borderBox.center[l.crossAxisLine]);return{id:a.descriptor.id,distance:Qi(o,c)}}).sort(function(a,l){return l.distance-a.distance});return i[0]?i[0].id:null}function oS(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,o=bs(n).filter(function(i){if(!i.isEnabled)return!1;var a=i.subject.active;if(!a||!rS(t,a))return!1;if($v(a)(t.center))return!0;var l=i.axis,c=a.center[l.crossAxisLine],u=t[l.crossAxisStart],h=t[l.crossAxisEnd],d=vr(a[l.crossAxisStart],a[l.crossAxisEnd]),p=d(u),f=d(h);return!p&&!f?!0:p?u<c:h>c});return o.length?o.length===1?o[0].descriptor.id:nS({pageBorderBox:t,draggable:r,candidates:o}):null}var Fv=function(t,r){return Nr(fa(t,r))},iS=function(e,t){var r=e.frame;return r?Fv(t,r.scroll.diff.value):t};function _v(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function aS(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var lS=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,l=e.afterCritical,c=n.axis,u=ha(n.axis,r.displaceBy),h=u.value,d=t[c.start],p=t[c.end],f=Ss(r,o),v=Pn(f,function(k){var m=k.descriptor.id,g=k.page.borderBox.center[c.line],x=jn(m,l),w=_v({displaced:i,id:m});return x?w?p<=g:d<g-h:w?p<=g+h:d<g}),y=aS({draggable:r,closest:v,inHomeList:Qo(r,n)});return Fl({draggable:r,insideDestination:o,destination:n,viewport:a,last:i,displacedBy:u,index:y})},sS=4,cS=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var l=o.axis,c=ha(o.axis,t.displaceBy),u=c.value,h=r[l.start],d=r[l.end],p=Ss(t,i),f=Pn(p,function(y){var k=y.descriptor.id,m=y.page.borderBox,g=m[l.size],x=g/sS,w=jn(k,a),I=_v({displaced:n.displaced,id:k});return w?I?d>m[l.start]+x&&d<m[l.end]-x:h>m[l.start]-u+x&&h<m[l.end]-u-x:I?d>m[l.start]+u+x&&d<m[l.end]+u-x:h>m[l.start]+x&&h<m[l.end]-x});if(!f)return null;var v={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:o.descriptor.id}}};return v},Vv=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,l=e.afterCritical,c=Fv(r.page.borderBox,t),u=oS({pageBorderBox:c,draggable:r,droppables:o});if(!u)return kw;var h=o[u],d=qo(h.descriptor.id,n),p=iS(h,c);return cS({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:i,destination:h,insideDestination:d,afterCritical:l})||lS({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:h,insideDestination:d,last:i.displaced,viewport:a,afterCritical:l})},Qd=function(e,t){var r;return ne({},e,(r={},r[t.descriptor.id]=t,r))},uS=function(t){var r=t.previousImpact,n=t.impact,o=t.droppables,i=rr(r),a=rr(n);if(!i||i===a)return o;var l=o[i];if(!l.subject.withPlaceholder)return o;var c=Jw(l);return Qd(o,c)},dS=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,o=e.previousImpact,i=e.impact,a=uS({previousImpact:o,impact:i,droppables:n}),l=rr(i);if(!l)return a;var c=n[l];if(Qo(t,c)||c.subject.withPlaceholder)return a;var u=zv(c,t,r);return Qd(a,u)},Di=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=o||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,h=er(u,t.initial.client.selection),d={offset:h,selection:u,borderBoxCenter:wt(t.initial.client.borderBoxCenter,h)},p={selection:wt(d.selection,l.scroll.current),borderBoxCenter:wt(d.borderBoxCenter,l.scroll.current),offset:wt(d.offset,l.scroll.diff.value)},f={client:d,page:p};if(t.phase==="COLLECTING")return ne({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:f});var v=c.draggables[t.critical.draggable.id],y=i||Vv({pageOffset:p.offset,draggable:v,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),k=dS({draggable:v,impact:y,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),m=ne({},t,{current:f,dimensions:{draggables:c.draggables,droppables:k},impact:y,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return m};function pS(e,t){return e.map(function(r){return t[r]})}var Uv=function(e){var t=e.impact,r=e.viewport,n=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,l=pS(a.all,n),c=Ki({afterDragging:l,destination:o,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:a});return ne({},t,{displaced:c})},Wv=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,l=ks({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:a});return qd({pageBorderBoxCenter:l,draggable:r,viewport:i})},Hv=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&$();var o=t.impact,i=n||t.viewport,a=r||t.dimensions,l=a.draggables,c=a.droppables,u=l[t.critical.draggable.id],h=rr(o);h||$();var d=c[h],p=Uv({impact:o,viewport:i,destination:d,draggables:l}),f=Wv({impact:p,draggable:u,droppable:d,draggables:l,viewport:i,afterCritical:t.afterCritical});return Di({impact:p,clientSelection:f,state:t,dimensions:a,viewport:i})},fS=function(e){return{index:e.index,droppableId:e.droppableId}},Gv=function(e){var t=e.draggable,r=e.home,n=e.draggables,o=e.viewport,i=ha(r.axis,t.displaceBy),a=qo(r.descriptor.id,n),l=a.indexOf(t);l===-1&&$();var c=a.slice(l+1),u=c.reduce(function(f,v){return f[v.descriptor.id]=!0,f},{}),h={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:u},d=Ki({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),p={displaced:d,displacedBy:i,at:{type:"REORDER",destination:fS(t.descriptor)}};return{impact:p,afterCritical:h}},hS=function(e,t){return{draggables:e.draggables,droppables:Qd(e.droppables,t)}},gS=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,o=Ml(t.client,r),i=Ol(o,n),a=ne({},t,{placeholder:ne({},t.placeholder,{client:o}),client:o,page:i});return a},mS=function(e){var t=e.frame;return t||$(),t},vS=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,o=n.scroll.diff.value;return t.map(function(i){var a=i.descriptor.droppableId,l=r[a],c=mS(l),u=c.scroll.diff.value,h=wt(o,u),d=gS({draggable:i,offset:h,initialWindowScroll:n.scroll.initial});return d})},yS=function(e){var t=e.state,r=e.published,n=r.modified.map(function(x){var w=t.dimensions.droppables[x.droppableId],I=_d(w,x.scroll);return I}),o=ne({},t.dimensions.droppables,{},jv(n)),i=Tv(vS({additions:r.additions,updatedDroppables:o,viewport:t.viewport})),a=ne({},t.dimensions.draggables,{},i);r.removals.forEach(function(x){delete a[x]});var l={droppables:o,draggables:a},c=rr(t.impact),u=c?l.droppables[c]:null,h=l.draggables[t.critical.draggable.id],d=l.droppables[t.critical.droppable.id],p=Gv({draggable:h,home:d,draggables:a,viewport:t.viewport}),f=p.impact,v=p.afterCritical,y=u&&u.isCombineEnabled?t.impact:f,k=Vv({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:t.viewport,afterCritical:v}),m=ne({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:k,onLiftImpact:f,dimensions:l,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return m;var g=ne({phase:"DROP_PENDING"},m,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return g},xu=function(t){return t.movementMode==="SNAP"},uc=function(t,r,n){var o=hS(t.dimensions,r);return!xu(t)||n?Di({state:t,dimensions:o}):Hv({state:t,dimensions:o})};function dc(e){return e.isDragging&&e.movementMode==="SNAP"?ne({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var nh={phase:"IDLE",completed:null,shouldFlush:!1},xS=function(e,t){if(e===void 0&&(e=nh),t.type==="FLUSH")return ne({},nh,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&$();var r=t.payload,n=r.critical,o=r.clientSelection,i=r.viewport,a=r.dimensions,l=r.movementMode,c=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],h={selection:o,borderBoxCenter:c.client.borderBox.center,offset:ht},d={client:h,page:{selection:wt(h.selection,i.scroll.initial),borderBoxCenter:wt(h.selection,i.scroll.initial),offset:wt(h.selection,i.scroll.diff.value)}},p=bs(a.droppables).every(function(le){return!le.isFixedOnPage}),f=Gv({draggable:c,home:u,draggables:a.draggables,viewport:i}),v=f.impact,y=f.afterCritical,k={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:a,initial:d,current:d,isWindowScrollAllowed:p,impact:v,afterCritical:y,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return k}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&$();var m=ne({phase:"COLLECTING"},e,{phase:"COLLECTING"});return m}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||$(),yS({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Hn(e)||$();var g=t.payload.client;return Cn(g,e.current.client.selection)?e:Di({state:e,clientSelection:g,impact:xu(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return dc(e);Hn(e)||$();var x=t.payload,w=x.id,I=x.newScroll,D=e.dimensions.droppables[w];if(!D)return e;var E=_d(D,I);return uc(e,E,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Hn(e)||$();var C=t.payload,j=C.id,R=C.isEnabled,z=e.dimensions.droppables[j];z||$(),z.isEnabled===R&&$();var _=ne({},z,{isEnabled:R});return uc(e,_,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Hn(e)||$();var J=t.payload,ae=J.id,ie=J.isCombineEnabled,fe=e.dimensions.droppables[ae];fe||$(),fe.isCombineEnabled===ie&&$();var ve=ne({},fe,{isCombineEnabled:ie});return uc(e,ve,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Hn(e)||$(),e.isWindowScrollAllowed||$();var M=t.payload.newScroll;if(Cn(e.viewport.scroll.current,M))return dc(e);var H=Mv(e.viewport,M);return xu(e)?Hv({state:e,viewport:H}):Di({state:e,viewport:H})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Hn(e))return e;var V=t.payload.maxScroll;if(Cn(V,e.viewport.scroll.max))return e;var Y=ne({},e.viewport,{scroll:ne({},e.viewport.scroll,{max:V})});return ne({phase:"DRAGGING"},e,{viewport:Y})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&$();var G=tS({state:e,type:t.type});return G?Di({state:e,impact:G.impact,clientSelection:G.clientSelection,scrollJumpRequest:G.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var xe=t.payload.reason;e.phase!=="COLLECTING"&&$();var he=ne({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:xe});return he}if(t.type==="DROP_ANIMATE"){var oe=t.payload,N=oe.completed,A=oe.dropDuration,L=oe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||$();var U={phase:"DROP_ANIMATING",completed:N,dropDuration:A,newHomeClientOffset:L,dimensions:e.dimensions};return U}if(t.type==="DROP_COMPLETE"){var q=t.payload.completed;return{phase:"IDLE",completed:q,shouldFlush:!1}}return e},bS=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},wS=function(t){return{type:"LIFT",payload:t}},SS=function(t){return{type:"INITIAL_PUBLISH",payload:t}},kS=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},CS=function(){return{type:"COLLECTION_STARTING",payload:null}},IS=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},ES=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},DS=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},qv=function(t){return{type:"MOVE",payload:t}},jS=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},TS=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},NS=function(){return{type:"MOVE_UP",payload:null}},RS=function(){return{type:"MOVE_DOWN",payload:null}},PS=function(){return{type:"MOVE_RIGHT",payload:null}},LS=function(){return{type:"MOVE_LEFT",payload:null}},Yd=function(){return{type:"FLUSH",payload:null}},AS=function(t){return{type:"DROP_ANIMATE",payload:t}},Kd=function(t){return{type:"DROP_COMPLETE",payload:t}},Qv=function(t){return{type:"DROP",payload:t}},MS=function(t){return{type:"DROP_PENDING",payload:t}},Yv=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},OS=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(o){return function(i){if(i.type!=="LIFT"){o(i);return}var a=i.payload,l=a.id,c=a.clientSelection,u=a.movementMode,h=r();h.phase==="DROP_ANIMATING"&&n(Kd({completed:h.completed})),r().phase!=="IDLE"&&$(),n(Yd()),n(bS({draggableId:l,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},p={draggableId:l,scrollOptions:d},f=e.startPublishing(p),v=f.critical,y=f.dimensions,k=f.viewport;n(SS({critical:v,dimensions:y,clientSelection:c,movementMode:u,viewport:k}))}}}},BS=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Jd={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ji={opacity:{drop:0,combining:.7},scale:{drop:.75}},Zd={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Vn=Zd.outOfTheWay+"s "+Jd.outOfTheWay,ji={fluid:"opacity "+Vn,snap:"transform "+Vn+", opacity "+Vn,drop:function(t){var r=t+"s "+Jd.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Vn,placeholder:"height "+Vn+", width "+Vn+", margin "+Vn},oh=function(t){return Cn(t,ht)?null:"translate("+t.x+"px, "+t.y+"px)"},bu={moveTo:oh,drop:function(t,r){var n=oh(t);return n?r?n+" scale("+Ji.scale.drop+")":n:null}},wu=Zd.minDropTime,Kv=Zd.maxDropTime,zS=Kv-wu,ih=1500,$S=.6,FS=function(e){var t=e.current,r=e.destination,n=e.reason,o=Qi(t,r);if(o<=0)return wu;if(o>=ih)return Kv;var i=o/ih,a=wu+zS*i,l=n==="CANCEL"?a*$S:a;return Number(l.toFixed(2))},_S=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,o=e.viewport,i=e.afterCritical,a=n.draggables,l=n.droppables,c=rr(t),u=c?l[c]:null,h=l[r.descriptor.droppableId],d=Wv({impact:t,draggable:r,draggables:a,afterCritical:i,droppable:u||h,viewport:o}),p=er(d,r.client.borderBox.center);return p},VS=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=Uv({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=ne({},n,{displaced:Yi});return{impact:c,didDropInsideDroppable:!0}},US=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(o){if(o.type!=="DROP"){n(o);return}var i=t(),a=o.payload.reason;if(i.phase==="COLLECTING"){r(MS({reason:a}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&$(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||$();var c=i.critical,u=i.dimensions,h=u.draggables[i.critical.draggable.id],d=VS({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=d.impact,f=d.didDropInsideDroppable,v=f?Ud(p):null,y=f?ws(p):null,k={index:c.draggable.index,droppableId:c.droppable.id},m={draggableId:h.descriptor.id,type:h.descriptor.type,source:k,reason:a,mode:i.movementMode,destination:v,combine:y},g=_S({impact:p,draggable:h,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),x={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:p},w=!Cn(i.current.client.offset,g)||!!m.combine;if(!w){r(Kd({completed:x}));return}var I=FS({current:i.current.client.offset,destination:g,reason:a}),D={newHomeClientOffset:g,dropDuration:I,completed:x};r(AS(D))}}}},Jv=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function WS(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function HS(e){var t=e.onWindowScroll;function r(){t(Jv())}var n=qi(r),o=WS(n),i=kn;function a(){return i!==kn}function l(){a()&&$(),i=gr(window,[o])}function c(){a()||$(),n.cancel(),i(),i=kn}return{start:l,stop:c,isActive:a}}var GS=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},qS=function(e){var t=HS({onWindowScroll:function(n){e.dispatch(jS({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&GS(n)&&t.stop(),r(n)}}},QS=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),o=function(a){t||r||(t=!0,e(a),clearTimeout(n))};return o.wasCalled=function(){return t},o},YS=function(){var e=[],t=function(i){var a=Vd(e,function(u){return u.timerId===i});a===-1&&$();var l=e.splice(a,1),c=l[0];c.callback()},r=function(i){var a=setTimeout(function(){return t(a)}),l={timerId:a,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:r,flush:n}},KS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},JS=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},ZS=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,o=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&o},li=function(t,r){r()},$a=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},pc=function(t,r,n,o){if(!t){n(o(r));return}var i=QS(n),a={announce:i};t(r,a),i.wasCalled()||n(o(r))},XS=function(e,t){var r=YS(),n=null,o=function(p,f){n&&$(),li("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var y={draggableId:p,mode:f};v(y)}})},i=function(p,f){n&&$(),li("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v($a(p,f))})},a=function(p,f){n&&$();var v=$a(p,f);n={mode:f,lastCritical:p,lastLocation:v.source,lastCombine:null},r.add(function(){li("onDragStart",function(){return pc(e().onDragStart,v,t,nl.onDragStart)})})},l=function(p,f){var v=Ud(f),y=ws(f);n||$();var k=!ZS(p,n.lastCritical);k&&(n.lastCritical=p);var m=!KS(n.lastLocation,v);m&&(n.lastLocation=v);var g=!JS(n.lastCombine,y);if(g&&(n.lastCombine=y),!(!k&&!m&&!g)){var x=ne({},$a(p,n.mode),{combine:y,destination:v});r.add(function(){li("onDragUpdate",function(){return pc(e().onDragUpdate,x,t,nl.onDragUpdate)})})}},c=function(){n||$(),r.flush()},u=function(p){n||$(),n=null,li("onDragEnd",function(){return pc(e().onDragEnd,p,t,nl.onDragEnd)})},h=function(){if(n){var p=ne({},$a(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(p)}};return{beforeCapture:o,beforeStart:i,start:a,update:l,flush:c,drop:u,abort:h}},ek=function(e,t){var r=XS(e,t);return function(n){return function(o){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var a=i.payload.critical;r.beforeStart(a,i.payload.movementMode),o(i),r.start(a,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),o(i),r.drop(l);return}if(o(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},tk=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&$(),e.dispatch(Kd({completed:n.completed}))}}},rk=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(o){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),o(i),i.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(Yv())}};r=requestAnimationFrame(function(){r=null,t=gr(window,[a])})}}}},nk=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},ok=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},ik=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},ak=function(e){return function(t){return function(r){return function(n){if(ik(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var o=t.getState();o.phase!=="DRAGGING"&&$(),e.start(o);return}r(n),e.scroll(t.getState())}}}},lk=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Qv({reason:n.reason})))}}}},sk=nv,ck=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,o=e.getResponders,i=e.announce,a=e.autoScroller;return rv(xS,sk(Y0(BS(n),nk(t),OS(t),US,tk,rk,lk,ak(a),qS,ok(r),ek(o,i))))},fc=function(){return{additions:{},removals:{},modified:{}}};function uk(e){var t=e.registry,r=e.callbacks,n=fc(),o=null,i=function(){o||(r.collectionStarting(),o=requestAnimationFrame(function(){o=null;var h=n,d=h.additions,p=h.removals,f=h.modified,v=Object.keys(d).map(function(m){return t.draggable.getById(m).getDimension(ht)}).sort(function(m,g){return m.descriptor.index-g.descriptor.index}),y=Object.keys(f).map(function(m){var g=t.droppable.getById(m),x=g.callbacks.getScrollWhileDragging();return{droppableId:m,scroll:x}}),k={additions:v,removals:Object.keys(p),modified:y};n=fc(),r.publish(k)}))},a=function(h){var d=h.descriptor.id;n.additions[d]=h,n.modified[h.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},l=function(h){var d=h.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},c=function(){o&&(cancelAnimationFrame(o),o=null,n=fc())};return{add:a,remove:l,stop:c}}var Zv=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,o=e.width,i=er({x:r,y:t},{x:o,y:n}),a={x:Math.max(0,i.x),y:Math.max(0,i.y)};return a},Xv=function(){var e=document.documentElement;return e||$(),e},ey=function(){var e=Xv(),t=Zv({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},dk=function(){var e=Jv(),t=ey(),r=e.y,n=e.x,o=Xv(),i=o.clientWidth,a=o.clientHeight,l=n+i,c=r+a,u=Nr({top:r,left:n,right:l,bottom:c}),h={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:ht,displacement:ht}}};return h},pk=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,o=dk(),i=o.scroll.current,a=t.droppable,l=n.droppable.getAllByType(a.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(d){return d.getDimension(i)}),u={draggables:Tv(c),droppables:jv(l)},h={dimensions:u,critical:t,viewport:o};return h};function ah(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var fk=function(e,t){var r=null,n=uk({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(f,v){e.droppable.exists(f)||$(),r&&t.updateDroppableIsEnabled({id:f,isEnabled:v})},i=function(f,v){r&&(e.droppable.exists(f)||$(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:v}))},a=function(f,v){r&&(e.droppable.exists(f)||$(),t.updateDroppableScroll({id:f,newScroll:v}))},l=function(f,v){r&&e.droppable.getById(f).callbacks.scroll(v)},c=function(){if(r){n.stop();var f=r.critical.droppable;e.droppable.getAllByType(f.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(f){r||$();var v=r.critical.draggable;f.type==="ADDITION"&&ah(e,v,f.value)&&n.add(f.value),f.type==="REMOVAL"&&ah(e,v,f.value)&&n.remove(f.value)},h=function(f){r&&$();var v=e.draggable.getById(f.draggableId),y=e.droppable.getById(v.descriptor.droppableId),k={draggable:v.descriptor,droppable:y.descriptor},m=e.subscribe(u);return r={critical:k,unsubscribe:m},pk({critical:k,registry:e,scrollOptions:f.scrollOptions})},d={updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:a,startPublishing:h,stopPublishing:c};return d},ty=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},hk=function(e){window.scrollBy(e.x,e.y)},gk=ft(function(e){return bs(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),mk=function(t,r){var n=Pn(gk(r),function(o){return o.frame||$(),$v(o.frame.pageMarginBox)(t)});return n},vk=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var o=n[r];return o.frame?o:null}var i=mk(t,n);return i},In={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},yk=function(e,t){var r=e[t.size]*In.startFromPercentage,n=e[t.size]*In.maxScrollAtPercentage,o={startScrollingFrom:r,maxScrollValueAt:n};return o},ry=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,o=r-t;if(o===0)return 0;var i=n-t,a=i/o;return a},Xd=1,xk=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return In.maxPixelScroll;if(e===t.startScrollingFrom)return Xd;var r=ry({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,o=In.maxPixelScroll*In.ease(n);return Math.ceil(o)},lh=In.durationDampening.accelerateAt,sh=In.durationDampening.stopDampeningAt,bk=function(e,t){var r=t,n=sh,o=Date.now(),i=o-r;if(i>=sh)return e;if(i<lh)return Xd;var a=ry({startOfRange:lh,endOfRange:n,current:i}),l=e*In.ease(a);return Math.ceil(l)},ch=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,o=e.shouldUseTimeDampening,i=xk(t,r);return i===0?0:o?Math.max(bk(i,n),Xd):i},uh=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=yk(t,o),l=r[o.end]<r[o.start];return l?ch({distanceToEdge:r[o.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i}):-1*ch({distanceToEdge:r[o.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i})},wk=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,o=r.height>t.height,i=r.width>t.width;return!i&&!o?n:i&&o?null:{x:i?0:n.x,y:o?0:n.y}},Sk=Ev(function(e){return e===0?0:e}),ny=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y,left:o.x-r.left},l=uh({container:r,distanceToEdges:a,dragStartTime:t,axis:Wd,shouldUseTimeDampening:i}),c=uh({container:r,distanceToEdges:a,dragStartTime:t,axis:Pv,shouldUseTimeDampening:i}),u=Sk({x:c,y:l});if(Cn(u,ht))return null;var h=wk({container:r,subject:n,proposedScroll:u});return h?Cn(h,ht)?null:h:null},kk=Ev(function(e){return e===0?0:e>0?1:-1}),ep=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,o=t.change,i=wt(r,o),a={x:e(i.x,n.x),y:e(i.y,n.y)};return Cn(a,ht)?null:a}}(),oy=function(t){var r=t.max,n=t.current,o=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},a=kk(o),l=ep({max:i,current:n,change:a});return!l||a.x!==0&&l.x===0||a.y!==0&&l.y===0},tp=function(t,r){return oy({current:t.scroll.current,max:t.scroll.max,change:r})},Ck=function(t,r){if(!tp(t,r))return null;var n=t.scroll.max,o=t.scroll.current;return ep({current:o,max:n,change:r})},rp=function(t,r){var n=t.frame;return n?oy({current:n.scroll.current,max:n.scroll.max,change:r}):!1},Ik=function(t,r){var n=t.frame;return!n||!rp(t,r)?null:ep({current:n.scroll.current,max:n.scroll.max,change:r})},Ek=function(e){var t=e.viewport,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=ny({dragStartTime:o,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return a&&tp(t,a)?a:null},Dk=function(e){var t=e.droppable,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=ny({dragStartTime:o,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&rp(t,l)?l:null},dh=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,h=Ek({dragStartTime:r,viewport:u,subject:c,center:a,shouldUseTimeDampening:n});if(h){o(h);return}}var d=vk({center:a,destination:rr(t.impact),droppables:t.dimensions.droppables});if(d){var p=Dk({dragStartTime:r,droppable:d,subject:c,center:a,shouldUseTimeDampening:n});p&&i(d.descriptor.id,p)}},jk=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=qi(t),o=qi(r),i=null,a=function(h){i||$();var d=i,p=d.shouldUseTimeDampening,f=d.dragStartTime;dh({state:h,scrollWindow:n,scrollDroppable:o,dragStartTime:f,shouldUseTimeDampening:p})},l=function(h){i&&$();var d=Date.now(),p=!1,f=function(){p=!0};dh({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),i={dragStartTime:d,shouldUseTimeDampening:p},p&&a(h)},c=function(){i&&(n.cancel(),o.cancel(),i=null)};return{start:l,stop:c,scroll:a}},Tk=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,o=function(u,h){var d=wt(u.current.client.selection,h);t({client:d})},i=function(u,h){if(!rp(u,h))return h;var d=Ik(u,h);if(!d)return r(u.descriptor.id,h),null;var p=er(h,d);r(u.descriptor.id,p);var f=er(h,p);return f},a=function(u,h,d){if(!u||!tp(h,d))return d;var p=Ck(h,d);if(!p)return n(d),null;var f=er(d,p);n(f);var v=er(d,f);return v},l=function(u){var h=u.scrollJumpRequest;if(h){var d=rr(u.impact);d||$();var p=i(u.dimensions.droppables[d],h);if(p){var f=u.viewport,v=a(u.isWindowScrollAllowed,f,p);v&&o(u,v)}}};return l},Nk=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,o=jk({scrollWindow:r,scrollDroppable:t}),i=Tk({move:n,scrollWindow:r,scrollDroppable:t}),a=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&i(u)}},l={scroll:a,start:o.start,stop:o.stop};return l},_o="data-rbd",Vo=function(){var e=_o+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Su=function(){var e=_o+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Rk=function(){var e=_o+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ph={contextId:_o+"-scroll-container-context-id"},Pk=function(t){return function(r){return"["+r+'="'+t+'"]'}},si=function(t,r){return t.map(function(n){var o=n.styles[r];return o?n.selector+" { "+o+" }":""}).join(" ")},Lk="pointer-events: none;",Ak=function(e){var t=Pk(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Vo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Lk,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+ji.outOfTheWay+`;
    `;return{selector:t(Su.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),o={selector:t(Rk.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[n,r,o,i];return{always:si(a,"always"),resting:si(a,"resting"),dragging:si(a,"dragging"),dropAnimating:si(a,"dropAnimating"),userCancel:si(a,"userCancel")}},nr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,hc=function(){var t=document.querySelector("head");return t||$(),t},fh=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function Mk(e,t){var r=Se(function(){return Ak(e)},[e]),n=b.useRef(null),o=b.useRef(null),i=ee(ft(function(d){var p=o.current;p||$(),p.textContent=d}),[]),a=ee(function(d){var p=n.current;p||$(),p.textContent=d},[]);nr(function(){!n.current&&!o.current||$();var d=fh(t),p=fh(t);return n.current=d,o.current=p,d.setAttribute(_o+"-always",e),p.setAttribute(_o+"-dynamic",e),hc().appendChild(d),hc().appendChild(p),a(r.always),i(r.resting),function(){var f=function(y){var k=y.current;k||$(),hc().removeChild(k),y.current=null};f(n),f(o)}},[t,a,i,r.always,r.resting,e]);var l=ee(function(){return i(r.dragging)},[i,r.dragging]),c=ee(function(d){if(d==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),u=ee(function(){o.current&&i(r.resting)},[i,r.resting]),h=Se(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return h}var iy=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Cs(e){return e instanceof iy(e).HTMLElement}function Ok(e,t){var r="["+Vo.contextId+'="'+e+'"]',n=Dv(document.querySelectorAll(r));if(!n.length)return null;var o=Pn(n,function(i){return i.getAttribute(Vo.draggableId)===t});return!o||!Cs(o)?null:o}function Bk(e){var t=b.useRef({}),r=b.useRef(null),n=b.useRef(null),o=b.useRef(!1),i=ee(function(p,f){var v={id:p,focus:f};return t.current[p]=v,function(){var k=t.current,m=k[p];m!==v&&delete k[p]}},[]),a=ee(function(p){var f=Ok(e,p);f&&f!==document.activeElement&&f.focus()},[e]),l=ee(function(p,f){r.current===p&&(r.current=f)},[]),c=ee(function(){n.current||o.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=r.current;p&&a(p)}))},[a]),u=ee(function(p){r.current=null;var f=document.activeElement;f&&f.getAttribute(Vo.draggableId)===p&&(r.current=p)},[]);nr(function(){return o.current=!0,function(){o.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var h=Se(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,u,c,l]);return h}function zk(){var e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){var f=t.indexOf(d);f!==-1&&t.splice(f,1)}}function n(d){t.length&&t.forEach(function(p){return p(d)})}function o(d){return e.draggables[d]||null}function i(d){var p=o(d);return p||$(),p}var a={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,f){var v=e.draggables[f.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var f=p.descriptor.id,v=o(f);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[f],n({type:"REMOVAL",value:p}))},getById:i,findById:o,exists:function(p){return!!o(p)},getAllByType:function(p){return $l(e.draggables).filter(function(f){return f.descriptor.type===p})}};function l(d){return e.droppables[d]||null}function c(d){var p=l(d);return p||$(),p}var u={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var f=l(p.descriptor.id);f&&p.uniqueId===f.uniqueId&&delete e.droppables[p.descriptor.id]},getById:c,findById:l,exists:function(p){return!!l(p)},getAllByType:function(p){return $l(e.droppables).filter(function(f){return f.descriptor.type===p})}};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:u,subscribe:r,clean:h}}function $k(){var e=Se(zk,[]);return b.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var np=Ne.createContext(null),_l=function(){var e=document.body;return e||$(),e},Fk={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},_k=function(t){return"rbd-announcement-"+t};function Vk(e){var t=Se(function(){return _k(e)},[e]),r=b.useRef(null);b.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),ne(i.style,Fk),_l().appendChild(i),function(){setTimeout(function(){var c=_l();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=ee(function(o){var i=r.current;if(i){i.textContent=o;return}},[]);return n}var Uk=0,Wk={separator:"::"};function op(e,t){return t===void 0&&(t=Wk),Se(function(){return""+e+t.separator+Uk++},[t.separator,e])}function Hk(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function Gk(e){var t=e.contextId,r=e.text,n=op("hidden-text",{separator:"-"}),o=Se(function(){return Hk({contextId:t,uniqueId:n})},[n,t]);return b.useEffect(function(){var a=document.createElement("div");return a.id=o,a.textContent=r,a.style.display="none",_l().appendChild(a),function(){var c=_l();c.contains(a)&&c.removeChild(a)}},[o,r]),o}var Is=Ne.createContext(null);function ay(e){var t=b.useRef(e);return b.useEffect(function(){t.current=e}),t}function qk(){var e=null;function t(){return!!e}function r(a){return a===e}function n(a){e&&$();var l={abandon:a};return e=l,l}function o(){e||$(),e=null}function i(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:r,claim:n,release:o,tryAbandon:i}}var Qk=9,Yk=13,ip=27,ly=32,Kk=33,Jk=34,Zk=35,Xk=36,e2=37,t2=38,r2=39,n2=40,Fa,o2=(Fa={},Fa[Yk]=!0,Fa[Qk]=!0,Fa),sy=function(e){o2[e.keyCode]&&e.preventDefault()},Es=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Pn(t,function(n){return"on"+n in document});return r||e}(),cy=0,hh=5;function i2(e,t){return Math.abs(t.x-e.x)>=hh||Math.abs(t.y-e.y)>=hh}var gh={type:"IDLE"};function a2(e){var t=e.cancel,r=e.completed,n=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(a){var l=a.button,c=a.clientX,u=a.clientY;if(l===cy){var h={x:c,y:u},d=n();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(h);return}d.type!=="PENDING"&&$();var p=d.point;if(i2(p,h)){a.preventDefault();var f=d.actions.fluidLift(h);o({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(a){var l=n();if(l.type!=="DRAGGING"){t();return}a.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(a){n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:function(a){var l=n();if(l.type==="PENDING"){t();return}if(a.keyCode===ip){a.preventDefault(),t();return}sy(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(a){var l=n();if(l.type==="IDLE"&&$(),l.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:Es,fn:t}]}function l2(e){var t=b.useRef(gh),r=b.useRef(kn),n=Se(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===cy&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var p=e.findClosestDraggableId(d);if(p){var f=e.tryGetLock(p,a,{sourceEvent:d});if(f){d.preventDefault();var v={x:d.clientX,y:d.clientY};r.current(),u(f,v)}}}}}},[e]),o=Se(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var p=e.findClosestDraggableId(d);if(p){var f=e.findOptionsForDraggable(p);f&&(f.shouldRespectForcePress||e.canGetLock(p)&&d.preventDefault())}}}}},[e]),i=ee(function(){var d={passive:!1,capture:!0};r.current=gr(window,[o,n],d)},[o,n]),a=ee(function(){var h=t.current;h.type!=="IDLE"&&(t.current=gh,r.current(),i())},[i]),l=ee(function(){var h=t.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),c=ee(function(){var d={capture:!0,passive:!1},p=a2({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});r.current=gr(window,p,d)},[l,a]),u=ee(function(d,p){t.current.type!=="IDLE"&&$(),t.current={type:"PENDING",point:p,actions:d},c()},[c]);nr(function(){return i(),function(){r.current()}},[i])}var ho;function s2(){}var c2=(ho={},ho[Jk]=!0,ho[Kk]=!0,ho[Xk]=!0,ho[Zk]=!0,ho);function u2(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===ip){i.preventDefault(),r();return}if(i.keyCode===ly){i.preventDefault(),n();return}if(i.keyCode===n2){i.preventDefault(),e.moveDown();return}if(i.keyCode===t2){i.preventDefault(),e.moveUp();return}if(i.keyCode===r2){i.preventDefault(),e.moveRight();return}if(i.keyCode===e2){i.preventDefault(),e.moveLeft();return}if(c2[i.keyCode]){i.preventDefault();return}sy(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Es,fn:r}]}function d2(e){var t=b.useRef(s2),r=Se(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==ly)return;var a=e.findClosestDraggableId(i);if(!a)return;var l=e.tryGetLock(a,h,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,u=l.snapLift();t.current();function h(){c||$(),c=!1,t.current(),n()}t.current=gr(window,u2(u,h),{capture:!0,passive:!1})}}},[e]),n=ee(function(){var i={passive:!1,capture:!0};t.current=gr(window,[r],i)},[r]);nr(function(){return n(),function(){t.current()}},[n])}var gc={type:"IDLE"},p2=120,f2=.15;function h2(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(o){o.preventDefault()}},{eventName:"keydown",fn:function(o){if(r().type!=="DRAGGING"){t();return}o.keyCode===ip&&o.preventDefault(),t()}},{eventName:Es,fn:t}]}function g2(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;var l=i.touches[0],c=l.clientX,u=l.clientY,h={x:c,y:u};i.preventDefault(),a.actions.move(h)}},{eventName:"touchend",fn:function(i){var a=n();if(a.type!=="DRAGGING"){t();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var a=n();a.type==="IDLE"&&$();var l=i.touches[0];if(l){var c=l.force>=f2;if(c){var u=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){u&&t();return}if(u){if(a.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:Es,fn:t}]}function m2(e){var t=b.useRef(gc),r=b.useRef(kn),n=ee(function(){return t.current},[]),o=ee(function(f){t.current=f},[]),i=Se(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var v=e.findClosestDraggableId(f);if(v){var y=e.tryGetLock(v,l,{sourceEvent:f});if(y){var k=f.touches[0],m=k.clientX,g=k.clientY,x={x:m,y:g};r.current(),d(y,x)}}}}}},[e]),a=ee(function(){var f={capture:!0,passive:!1};r.current=gr(window,[i],f)},[i]),l=ee(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),o(gc),r.current(),a())},[a,o]),c=ee(function(){var p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),u=ee(function(){var f={capture:!0,passive:!1},v={cancel:c,completed:l,getPhase:n},y=gr(window,g2(v),f),k=gr(window,h2(v),f);r.current=function(){y(),k()}},[c,n,l]),h=ee(function(){var f=n();f.type!=="PENDING"&&$();var v=f.actions.fluidLift(f.point);o({type:"DRAGGING",actions:v,hasMoved:!1})},[n,o]),d=ee(function(f,v){n().type!=="IDLE"&&$();var y=setTimeout(h,p2);o({type:"PENDING",point:v,actions:f,longPressTimerId:y}),u()},[u,n,o,h]);nr(function(){return a(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),o(gc))}},[n,a,o]),nr(function(){var f=gr(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var v2={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function uy(e,t){if(t==null)return!1;var r=!!v2[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:uy(e,t.parentElement)}function y2(e,t){var r=t.target;return Cs(r)?uy(e,r):!1}var x2=function(e){return Nr(e.getBoundingClientRect()).center};function b2(e){return e instanceof iy(e).Element}var w2=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Pn(t,function(n){return n in Element.prototype});return r||e}();function dy(e,t){return e==null?null:e[w2](t)?e:dy(e.parentElement,t)}function S2(e,t){return e.closest?e.closest(t):dy(e,t)}function k2(e){return"["+Vo.contextId+'="'+e+'"]'}function C2(e,t){var r=t.target;if(!b2(r))return null;var n=k2(e),o=S2(r,n);return!o||!Cs(o)?null:o}function I2(e,t){var r=C2(e,t);return r?r.getAttribute(Vo.draggableId):null}function E2(e,t){var r="["+Su.contextId+'="'+e+'"]',n=Dv(document.querySelectorAll(r)),o=Pn(n,function(i){return i.getAttribute(Su.id)===t});return!o||!Cs(o)?null:o}function D2(e){e.preventDefault()}function _a(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function py(e){var t=e.lockAPI,r=e.store,n=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(o);return!(!i||!i.options.isEnabled||!ty(r.getState(),o))}function j2(e){var t=e.lockAPI,r=e.contextId,n=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent,c=py({lockAPI:t,store:n,registry:o,draggableId:i});if(!c)return null;var u=o.draggable.getById(i),h=E2(r,u.descriptor.id);if(!h||l&&!u.options.canDragInteractiveElements&&y2(h,l))return null;var d=t.claim(a||kn),p="PRE_DRAG";function f(){return u.options.shouldRespectForcePress}function v(){return t.isActive(d)}function y(D,E){_a({expected:D,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(E())}var k=y.bind(null,"DRAGGING");function m(D){function E(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(E(),p!=="PRE_DRAG"&&$()),n.dispatch(wS(D.liftActionArgs)),p="DRAGGING";function C(j,R){if(R===void 0&&(R={shouldBlockNextClick:!1}),D.cleanup(),R.shouldBlockNextClick){var z=gr(window,[{eventName:"click",fn:D2,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(z)}E(),n.dispatch(Qv({reason:j}))}return ne({isActive:function(){return _a({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(R){return C("DROP",R)},cancel:function(R){return C("CANCEL",R)}},D.actions)}function g(D){var E=qi(function(j){k(function(){return qv({client:j})})}),C=m({liftActionArgs:{id:i,clientSelection:D,movementMode:"FLUID"},cleanup:function(){return E.cancel()},actions:{move:E}});return ne({},C,{move:E})}function x(){var D={moveUp:function(){return k(NS)},moveRight:function(){return k(PS)},moveDown:function(){return k(RS)},moveLeft:function(){return k(LS)}};return m({liftActionArgs:{id:i,clientSelection:x2(h),movementMode:"SNAP"},cleanup:kn,actions:D})}function w(){var D=_a({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0});D&&t.release()}var I={isActive:function(){return _a({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:g,snapLift:x,abort:w};return I}var T2=[l2,d2,m2];function N2(e){var t=e.contextId,r=e.store,n=e.registry,o=e.customSensors,i=e.enableDefaultSensors,a=[].concat(i?T2:[],o||[]),l=b.useState(function(){return qk()})[0],c=ee(function(g,x){g.isDragging&&!x.isDragging&&l.tryAbandon()},[l]);nr(function(){var g=r.getState(),x=r.subscribe(function(){var w=r.getState();c(g,w),g=w});return x},[l,r,c]),nr(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=ee(function(m){return py({lockAPI:l,registry:n,store:r,draggableId:m})},[l,n,r]),h=ee(function(m,g,x){return j2({lockAPI:l,registry:n,contextId:t,store:r,draggableId:m,forceSensorStop:g,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null})},[t,l,n,r]),d=ee(function(m){return I2(t,m)},[t]),p=ee(function(m){var g=n.draggable.findById(m);return g?g.options:null},[n.draggable]),f=ee(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Yd()))},[l,r]),v=ee(l.isClaimed,[l]),y=Se(function(){return{canGetLock:u,tryGetLock:h,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:v}},[u,h,d,p,f,v]),k=0;k<a.length;k++)a[k](y)}var R2=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function ci(e){return e.current||$(),e.current}function P2(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,o=e.nonce,i=e.dragHandleUsageInstructions,a=b.useRef(null),l=ay(e),c=ee(function(){return R2(l.current)},[l]),u=Vk(t),h=Gk({contextId:t,text:i}),d=Mk(t,o),p=ee(function(j){ci(a).dispatch(j)},[]),f=Se(function(){return zf({publishWhileDragging:kS,updateDroppableScroll:IS,updateDroppableIsEnabled:ES,updateDroppableIsCombineEnabled:DS,collectionStarting:CS},p)},[p]),v=$k(),y=Se(function(){return fk(v,f)},[v,f]),k=Se(function(){return Nk(ne({scrollWindow:hk,scrollDroppable:y.scrollDroppable},zf({move:qv},p)))},[y.scrollDroppable,p]),m=Bk(t),g=Se(function(){return ck({announce:u,autoScroller:k,dimensionMarshal:y,focusMarshal:m,getResponders:c,styleMarshal:d})},[u,k,y,m,c,d]);a.current=g;var x=ee(function(){var j=ci(a),R=j.getState();R.phase!=="IDLE"&&j.dispatch(Yd())},[]),w=ee(function(){var j=ci(a).getState();return j.isDragging||j.phase==="DROP_ANIMATING"},[]),I=Se(function(){return{isDragging:w,tryAbort:x}},[w,x]);r(I);var D=ee(function(j){return ty(ci(a).getState(),j)},[]),E=ee(function(){return Hn(ci(a).getState())},[]),C=Se(function(){return{marshal:y,focus:m,contextId:t,canLift:D,isMovementAllowed:E,dragHandleUsageInstructionsId:h,registry:v}},[t,y,h,m,D,E,v]);return N2({contextId:t,store:g,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(function(){return x},[x]),Ne.createElement(Is.Provider,{value:C},Ne.createElement(eb,{context:np,store:g},e.children))}var L2=0;function A2(){return Se(function(){return""+L2++},[])}function M2(e){var t=A2(),r=e.dragHandleUsageInstructions||nl.dragHandleUsageInstructions;return Ne.createElement(dw,null,function(n){return Ne.createElement(P2,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var fy=function(t){return function(r){return t===r}},O2=fy("scroll"),B2=fy("auto"),mh=function(t,r){return r(t.overflowX)||r(t.overflowY)},z2=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return mh(n,O2)||mh(n,B2)},$2=function(){return!1},F2=function e(t){return t==null?null:t===document.body?$2()?t:null:t===document.documentElement?null:z2(t)?t:e(t.parentElement)},ku=function(e){return{x:e.scrollLeft,y:e.scrollTop}},_2=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},V2=function(e){var t=F2(e),r=_2(e);return{closestScrollable:t,isFixedOnPage:r}},U2=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,l=e.page,c=e.closest,u=function(){if(!c)return null;var f=c.scrollSize,v=c.client,y=Zv({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:v,scrollSize:f,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:y,diff:{value:ht,displacement:ht}}}}(),h=i==="vertical"?Wd:Pv,d=Fo({page:l,withPlaceholder:null,axis:h,frame:u}),p={descriptor:t,isCombineEnabled:n,isFixedOnPage:o,axis:h,isEnabled:r,client:a,page:l,frame:u,subject:d};return p},W2=function(t,r){var n=Sv(t);if(!r||t!==r)return n;var o=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,a=o+r.scrollHeight,l=i+r.scrollWidth,c={top:o,right:l,bottom:a,left:i},u=$d(c,n.border),h=Fd({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return h},H2=function(e){var t=e.ref,r=e.descriptor,n=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,h=W2(t,u),d=Ol(h,o),p=function(){if(!u)return null;var v=Sv(u),y={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:Ol(v,o),scroll:ku(u),scrollSize:y,shouldClipSubject:c}}(),f=U2({descriptor:r,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:h,page:d,closest:p});return f},G2={passive:!1},q2={passive:!0},vh=function(e){return e.shouldPublishImmediately?G2:q2};function Vl(e){var t=b.useContext(e);return t||$(),t}var Va=function(t){return t&&t.env.closestScrollable||null};function Q2(e){var t=b.useRef(null),r=Vl(Is),n=op("droppable"),o=r.registry,i=r.marshal,a=ay(e),l=Se(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=b.useRef(l),u=Se(function(){return ft(function(w,I){t.current||$();var D={x:w,y:I};i.updateDroppableScroll(l.id,D)})},[l.id,i]),h=ee(function(){var w=t.current;return!w||!w.env.closestScrollable?ht:ku(w.env.closestScrollable)},[]),d=ee(function(){var w=h();u(w.x,w.y)},[h,u]),p=Se(function(){return qi(d)},[d]),f=ee(function(){var w=t.current,I=Va(w);w&&I||$();var D=w.scrollOptions;if(D.shouldPublishImmediately){d();return}p()},[p,d]),v=ee(function(w,I){t.current&&$();var D=a.current,E=D.getDroppableRef();E||$();var C=V2(E),j={ref:E,descriptor:l,env:C,scrollOptions:I};t.current=j;var R=H2({ref:E,descriptor:l,env:C,windowScroll:w,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),z=C.closestScrollable;return z&&(z.setAttribute(ph.contextId,r.contextId),z.addEventListener("scroll",f,vh(j.scrollOptions))),R},[r.contextId,l,f,a]),y=ee(function(){var w=t.current,I=Va(w);return w&&I||$(),ku(I)},[]),k=ee(function(){var w=t.current;w||$();var I=Va(w);t.current=null,I&&(p.cancel(),I.removeAttribute(ph.contextId),I.removeEventListener("scroll",f,vh(w.scrollOptions)))},[f,p]),m=ee(function(w){var I=t.current;I||$();var D=Va(I);D||$(),D.scrollTop+=w.y,D.scrollLeft+=w.x},[]),g=Se(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:y,dragStopped:k,scroll:m}},[k,v,y,m]),x=Se(function(){return{uniqueId:n,descriptor:l,callbacks:g}},[g,l,n]);nr(function(){return c.current=x.descriptor,o.droppable.register(x),function(){t.current&&k(),o.droppable.unregister(x)}},[g,l,k,x,i,o.droppable]),nr(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),nr(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function mc(){}var yh={width:0,height:0,margin:vw},Y2=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,o=t.animate;return r||o==="close"?yh:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},K2=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,o=t.animate,i=Y2({isAnimatingOpenOnMount:r,placeholder:n,animate:o});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?ji.placeholder:null}};function J2(e){var t=b.useRef(null),r=ee(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,o=e.onTransitionEnd,i=e.onClose,a=e.contextId,l=b.useState(e.animate==="open"),c=l[0],u=l[1];b.useEffect(function(){return c?n!=="open"?(r(),u(!1),mc):t.current?mc:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):mc},[n,c,r]);var h=ee(function(p){p.propertyName==="height"&&(o(),n==="close"&&i())},[n,i,o]),d=K2({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Ne.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":a,onTransitionEnd:h,ref:e.innerRef})}var Z2=Ne.memo(J2),ap=Ne.createContext(null),X2=function(e){tv(t,e);function t(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(o,i){return o.shouldAnimate?o.on?{isVisible:!0,data:o.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!o.on,data:o.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var o={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(o)},t}(Ne.PureComponent),xh={dragging:5e3,dropAnimating:4500},eC=function(t,r){return r?ji.drop(r.duration):t?ji.snap:ji.fluid},tC=function(t,r){return t?r?Ji.opacity.drop:Ji.opacity.combining:null},rC=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function nC(e){var t=e.dimension,r=t.client,n=e.offset,o=e.combineWith,i=e.dropping,a=!!o,l=rC(e),c=!!i,u=c?bu.drop(n,a):bu.moveTo(n),h={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:eC(l,i),transform:u,opacity:tC(a,c),zIndex:c?xh.dropAnimating:xh.dragging,pointerEvents:"none"};return h}function oC(e){return{transform:bu.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function iC(e){return e.type==="DRAGGING"?nC(e):oC(e)}function aC(e,t,r){r===void 0&&(r=ht);var n=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=wv(o,n),a=Ol(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:c,client:i,page:a};return u}function lC(e){var t=op("draggable"),r=e.descriptor,n=e.registry,o=e.getDraggableRef,i=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,c=Se(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:a,isEnabled:l}},[i,l,a]),u=ee(function(f){var v=o();return v||$(),aC(r,v,f)},[r,o]),h=Se(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),d=b.useRef(h),p=b.useRef(!0);nr(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),nr(function(){if(p.current){p.current=!1;return}var f=d.current;d.current=h,n.draggable.update(h,f)},[h,n.draggable])}function sC(e){e.preventDefault()}function cC(e){var t=b.useRef(null),r=ee(function(j){t.current=j},[]),n=ee(function(){return t.current},[]),o=Vl(Is),i=o.contextId,a=o.dragHandleUsageInstructionsId,l=o.registry,c=Vl(ap),u=c.type,h=c.droppableId,d=Se(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:h}},[e.draggableId,e.index,u,h]),p=e.children,f=e.draggableId,v=e.isEnabled,y=e.shouldRespectForcePress,k=e.canDragInteractiveElements,m=e.isClone,g=e.mapped,x=e.dropAnimationFinished;if(!m){var w=Se(function(){return{descriptor:d,registry:l,getDraggableRef:n,canDragInteractiveElements:k,shouldRespectForcePress:y,isEnabled:v}},[d,l,n,k,y,v]);lC(w)}var I=Se(function(){return v?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:sC}:null},[i,a,f,v]),D=ee(function(j){g.type==="DRAGGING"&&g.dropping&&j.propertyName==="transform"&&x()},[x,g]),E=Se(function(){var j=iC(g),R=g.type==="DRAGGING"&&g.dropping?D:null,z={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":f,style:j,onTransitionEnd:R},dragHandleProps:I};return z},[i,I,f,g,D,r]),C=Se(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return p(E,g.snapshot,C)}var hy=function(e,t){return e===t},gy=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},uC=function(t){return t.combine?t.combine.draggableId:null},dC=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function pC(){var e=ft(function(o,i){return{x:o,y:i}}),t=ft(function(o,i,a,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:o,draggingOver:a,combineWith:l,combineTargetFor:null}}),r=ft(function(o,i,a,l,c,u,h){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:o,dimension:a,forceShouldAnimate:h,snapshot:t(i,l,c,u,null)}}}),n=function(i,a){if(i.isDragging){if(i.critical.draggable.id!==a.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[a.draggableId],u=rr(i.impact),h=dC(i.impact),d=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,a.isClone,u,h,d)}if(i.phase==="DROP_ANIMATING"){var p=i.completed;if(p.result.draggableId!==a.draggableId)return null;var f=a.isClone,v=i.dimensions.draggables[a.draggableId],y=p.result,k=y.mode,m=gy(y),g=uC(y),x=i.dropDuration,w={duration:x,curve:Jd.drop,moveTo:i.newHomeClientOffset,opacity:g?Ji.opacity.drop:null,scale:g?Ji.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:w,draggingOver:m,combineWith:g,mode:k,forceShouldAnimate:null,snapshot:t(k,f,m,g,w)}}}return null};return n}function my(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var fC={mapped:{type:"SECONDARY",offset:ht,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:my(null)}};function hC(){var e=ft(function(a,l){return{x:a,y:l}}),t=ft(my),r=ft(function(a,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(ht,l,!0):null},o=function(l,c,u,h){var d=u.displaced.visible[l],p=!!(h.inVirtualList&&h.effected[l]),f=ws(u),v=f&&f.draggableId===l?c:null;if(!d){if(!p)return n(v);if(u.displaced.invisible[l])return null;var y=Go(h.displacedBy.point),k=e(y.x,y.y);return r(k,v,!0)}if(p)return n(v);var m=u.displacedBy.point,g=e(m.x,m.y);return r(g,v,d.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:o(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:o(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var gC=function(){var t=pC(),r=hC(),n=function(i,a){return t(i,a)||r(i,a)||fC};return n},mC={dropAnimationFinished:Yv},vC=xv(gC,mC,null,{context:np,pure:!0,areStatePropsEqual:hy})(cC);function vy(e){var t=Vl(ap),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Ne.createElement(vC,e)}function Ua(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Ne.createElement(vy,ne({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function yC(e){var t=b.useContext(Is);t||$();var r=t.contextId,n=t.isMovementAllowed,o=b.useRef(null),i=b.useRef(null),a=e.children,l=e.droppableId,c=e.type,u=e.mode,h=e.direction,d=e.ignoreContainerClipping,p=e.isDropDisabled,f=e.isCombineEnabled,v=e.snapshot,y=e.useClone,k=e.updateViewportMaxScroll,m=e.getContainerForClone,g=ee(function(){return o.current},[]),x=ee(function(z){o.current=z},[]);ee(function(){return i.current},[]);var w=ee(function(z){i.current=z},[]),I=ee(function(){n()&&k({maxScroll:ey()})},[n,k]);Q2({droppableId:l,type:c,mode:u,direction:h,isDropDisabled:p,isCombineEnabled:f,ignoreContainerClipping:d,getDroppableRef:g});var D=Ne.createElement(X2,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(z){var _=z.onClose,J=z.data,ae=z.animate;return Ne.createElement(Z2,{placeholder:J,onClose:_,innerRef:w,animate:ae,contextId:r,onTransitionEnd:I})}),E=Se(function(){return{innerRef:x,placeholder:D,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,D,x]),C=y?y.dragging.draggableId:null,j=Se(function(){return{droppableId:l,type:c,isUsingCloneFor:C}},[l,C,c]);function R(){if(!y)return null;var z=y.dragging,_=y.render,J=Ne.createElement(vy,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(ae,ie){return _(ae,ie,z)});return Y1.createPortal(J,m())}return Ne.createElement(ap.Provider,{value:j},a(E,v),R())}var vc=function(t,r){return t===r.droppable.type},bh=function(t,r){return r.draggables[t.draggable.id]},xC=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=ne({},t,{shouldAnimatePlaceholder:!1}),n=ft(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),o=ft(function(a,l,c,u,h,d){var p=h.descriptor.id,f=h.descriptor.droppableId===a;if(f){var v=d?{render:d,dragging:n(h.descriptor)}:null,y={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:v}}if(!l)return r;if(!u)return t;var k={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:k,useClone:null}}),i=function(l,c){var u=c.droppableId,h=c.type,d=!c.isDropDisabled,p=c.renderClone;if(l.isDragging){var f=l.critical;if(!vc(h,f))return r;var v=bh(f,l.dimensions),y=rr(l.impact)===u;return o(u,d,y,y,v,p)}if(l.phase==="DROP_ANIMATING"){var k=l.completed;if(!vc(h,k.critical))return r;var m=bh(k.critical,l.dimensions);return o(u,d,gy(k.result)===u,rr(k.impact)===u,m,p)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var g=l.completed;if(!vc(h,g.critical))return r;var x=rr(g.impact)===u,w=!!(g.impact.at&&g.impact.at.type==="COMBINE"),I=g.critical.droppable.id===u;return x?w?t:r:I?t:r}return r};return i},bC={updateViewportMaxScroll:TS};function wC(){return document.body||$(),document.body}var SC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:wC},gi=xv(xC,bC,null,{context:np,pure:!0,areStatePropsEqual:hy})(yC);gi.defaultProps=SC;const kC=({onClose:e,onExport:t,onImport:r,onReset:n,boardName:o,selectedBoardId:i})=>s.jsx("div",{className:"modal-overlay",onClick:e,children:s.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[s.jsx("span",{className:"modal-close",onClick:e,style:{float:"right",fontSize:"1.5em",cursor:"pointer"},children:""}),s.jsx("h3",{children:"More Options"}),s.jsxs("div",{className:"modal-actions",children:[s.jsxs("button",{className:"settings-button",onClick:t,disabled:!i,children:["Export Dashboard configuration for ",o]}),s.jsxs("label",{htmlFor:"import-file-input",className:"settings-button",children:["Import a configuration file for ",o,s.jsx("input",{type:"file",id:"import-file-input",accept:".json",onChange:r,style:{display:"none"}})]}),s.jsxs("button",{className:"button-danger",onClick:n,disabled:!i,children:["Reset the layout for the ",o]})]})]})}),CC=[{name:"blue",hex:"#3388ff",label:"Blue"},{name:"red",hex:"#ff6b6b",label:"Red"},{name:"green",hex:"#51cf66",label:"Green"},{name:"orange",hex:"#ffa94d",label:"Orange"},{name:"yellow",hex:"#ffd43b",label:"Yellow"},{name:"grey",hex:"#868e96",label:"Grey"},{name:"black",hex:"#212529",label:"Black"}],IC=({selectedColor:e,onChange:t})=>s.jsx("div",{className:"color-picker-flex",style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"8px"},children:CC.map(r=>s.jsx("div",{title:r.label,onClick:()=>t(r.name),style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:r.hex,cursor:"pointer",border:e===r.name?"3px solid #000":"1px solid rgba(0,0,0,0.1)",boxShadow:e===r.name?"0 0 0 2px #fff inset":"none",transition:"transform 0.1s"},onMouseEnter:n=>n.currentTarget.style.transform="scale(1.1)",onMouseLeave:n=>n.currentTarget.style.transform="scale(1.0)"},r.name))}),EC=({config:e,onClose:t,boardName:r})=>{const[n,o]=b.useState(!1),i=JSON.stringify(e),a=btoa(unescape(encodeURIComponent(i))),l=`${window.location.protocol}//${window.location.host}${window.location.pathname}?config=${encodeURIComponent(a)}`,c=()=>{navigator.clipboard.writeText(l).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})};return s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[s.jsx("h3",{children:"Share Configuration"}),s.jsx("p",{children:"Copy the link below to share this configuration with others:"}),s.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[s.jsx("input",{type:"text",readOnly:!0,value:l,style:{flex:1,padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},onClick:u=>u.target.select()}),s.jsx("button",{onClick:c,className:"action-button",children:n?"Copied!":"Copy"})]}),s.jsxs("div",{style:{marginTop:"15px",padding:"10px",background:"#fff3cd",border:"1px solid #ffeeba",borderRadius:"4px",color:"#856404",fontSize:"0.9em"},children:[s.jsx("strong",{children:"Note:"})," The recipient of this link must have a Trello account and access to the board ",s.jsx("strong",{children:r||"specified"})," to be able to display it. Features requiring extended write permissions will have to be granted by the recipients of this link."]}),s.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:s.jsx("button",{className:"button-secondary",onClick:t,children:"Close"})})]})})},wh=({user:e,initialTab:t="dashboard",onClose:r,onSave:n,onLogout:o,importedConfig:i=null,onClearImportConfig:a=()=>{},viewMode:l="default",onManageTasks:c,onGoToStats:u})=>{const[h,d]=b.useState([]),[p,f]=b.useState(""),[v,y]=b.useState([]),[k,m]=b.useState([]),[g,x]=b.useState([]),[w,I]=b.useState({}),[D,E]=b.useState(1),[C,j]=b.useState("minutes"),[R,z]=b.useState(!0),[_,J]=b.useState(!0),[ae,ie]=b.useState(!1),[fe,ve]=b.useState(!1),[M,H]=b.useState(!1),[V,Y]=b.useState("store"),[G,xe]=b.useState(!1),[he,oe]=b.useState(!1),[N,A]=b.useState(!1),[L,U]=b.useState(null),[q,le]=b.useState({value:5,unit:"minutes"}),[Ce,Ze]=b.useState([]),[be,me]=b.useState(!1),[Be,ye]=b.useState(""),[Tt,Z]=b.useState(null),[de,te]=b.useState("home"),[mt,ce]=b.useState(!1),[je,we]=b.useState([]),[Ge,Qt]=b.useState(!1),[Mr,br]=b.useState(""),[Ds,Me]=b.useState(!1),[sr,zt]=b.useState(!1),[lt,Yt]=b.useState(t==="tasks"?"dashboard":t),[Or,Br]=b.useState(l==="tasks"?"tasks":"board");b.useEffect(()=>{Br(l==="tasks"?"tasks":"board")},[l]);const[Ln,Wr]=b.useState(!1),[$t,wr]=b.useState(null),[Sr,Ct]=b.useState(!1);b.useEffect(()=>{i?wr(i):e!=null&&e.token&&Yn.checkTokenScopes(e.token).then(S=>{const T=S.includes("write");Qt(T),T||(xe(!1),oe(!1))})},[e,i]);const[Nt,Ft]=b.useState(!1),[Hr,an]=b.useState(!1),[Yo,Ko]=b.useState(!0),[An,ln]=b.useState([]),[Mn,uo]=b.useState(10);b.useEffect(()=>{Or==="tasks"&&h.length>0&&Ce.length===0&&e&&e.token&&We("/members/me/organizations?fields=id,displayName,name",e.token).then(S=>{const T=new Map;S.forEach(O=>T.set(O.id,O)),h&&h.length>0&&h.forEach(O=>{O.idOrganization&&O.organization&&(T.has(O.idOrganization)||T.set(O.idOrganization,{id:O.idOrganization,displayName:O.organization.displayName||O.organization.name,name:O.organization.name}))});const F=Array.from(T.values()).sort((O,P)=>(O.displayName||O.name).localeCompare(P.displayName||P.name));Ze(F),(L===null||Array.isArray(L)&&L.length===0)&&U(F.map(O=>O.id))}).catch(S=>console.warn("Failed to fetch orgs for settings",S))},[Or,e,h]);const[On,Bn]=b.useState([]),[po,ga]=b.useState(!1),js=Ne.useRef(null),W=Ne.useRef(null),K=Ne.useRef(null);b.useEffect(()=>{W0(async()=>{const{loadGoogleMaps:S}=await Promise.resolve().then(()=>t0);return{loadGoogleMaps:S}},void 0).then(({loadGoogleMaps:S})=>{S().then(T=>{W.current||(W.current=new T.places.AutocompleteService,K.current=new T.Geocoder)}).catch(T=>console.warn("Google Maps not loaded for Settings:",T))})},[]);const X=S=>{const T=S.target.value;if(ye(T),!T||T.length<3){Bn([]);return}W.current&&(ga(!0),W.current.getPlacePredictions({input:T},(F,O)=>{console.log("[GoogleMaps] Autocomplete status:",O),console.log("[GoogleMaps] Autocomplete predictions:",F),ga(!1),O===window.google.maps.places.PlacesServiceStatus.OK&&F?Bn(F):(console.warn("[GoogleMaps] Autocomplete failed or empty:",O),Bn([]))}))},ue=S=>{ye(S.description),Bn([]),K.current&&K.current.geocode({placeId:S.place_id},(T,F)=>{if(F==="OK"&&T[0]){const O=T[0].geometry.location;Z({lat:O.lat(),lon:O.lng(),display_name:S.description})}})},Te=()=>{if(!$t)return;const S=$t;S.boardId&&(!h.find(F=>F.id===S.boardId)&&S.boardName,f(S.boardId),$e(S.boardId)),S.blocks&&x(S.blocks),S.listColors&&I(S.listColors),S.markerRules&&we(S.markerRules),S.refreshValue&&E(S.refreshValue),S.refreshUnit&&j(S.refreshUnit),S.showClock!==void 0&&z(S.showClock),S.ignoreTemplateCards!==void 0&&J(S.ignoreTemplateCards),S.ignoreCompletedCards!==void 0&&ie(S.ignoreCompletedCards),S.ignoreNoDescCards!==void 0&&ve(S.ignoreNoDescCards),S.enableMapView!==void 0&&H(S.enableMapView),S.mapGeocodeMode&&Y(S.mapGeocodeMode),S.mapGeocodeMode&&Y(S.mapGeocodeMode),S.enableCardMove!==void 0&&oe(S.enableCardMove),S.enableStreetView!==void 0&&Ft(S.enableStreetView),S.updateTrelloCoordinates!==void 0&&xe(S.updateTrelloCoordinates),S.enableTaskView!==void 0&&A(S.enableTaskView),S.taskViewWorkspaces!==void 0&&U(S.taskViewWorkspaces),S.taskViewRefreshInterval!==void 0&&le(S.taskViewRefreshInterval),wr(null),a()},ze=()=>{wr(null),a()};b.useEffect(()=>{Yt(t),t==="map"&&(e!=null&&e.token)&&ot()},[t,e]);const ot=async()=>{if(!(e!=null&&e.token))return;const S=await Yn.checkTokenScopes(e.token),T=S.includes("write");Qt(T),console.log("Token scopes:",S,"Can write:",T),T||(xe(!1),oe(!1))},Rt=async S=>{var T,F,O,P;if(!(!S||!e)){zt(!0),br("");try{await $e(S);const Ie=JSON.parse(localStorage.getItem("trelloUserData")||"{}"),pe=(F=(T=Ie[e.id])==null?void 0:T.dashboardLayout)==null?void 0:F[S];if(pe)x(pe);else{const ba=`TRELLO_DASHBOARD_LAYOUT_${S}`,lp=localStorage.getItem(ba);x(lp?JSON.parse(lp):[])}const Kt=((O=Tl(e.id))==null?void 0:O[S])||{};I(Kt);const cr=localStorage.getItem(Ee.REFRESH_INTERVAL+S);if(cr){const ba=JSON.parse(cr);E(ba.value),j(ba.unit)}else E(1),j("minutes");const qr=localStorage.getItem(Ee.CLOCK_SETTING+S);z(qr!=="false");const $n=localStorage.getItem(Ee.IGNORE_TEMPLATE_CARDS+S);J($n!=="false");const Xe=localStorage.getItem(Ee.IGNORE_COMPLETED_CARDS+S);ie(Xe==="true");const Jt=localStorage.getItem("IGNORE_NO_DESC_CARDS_"+S);ve(Jt==="true");const ur=`TRELLO_MARKER_RULES_${S}`,Fn=localStorage.getItem(ur);we(Fn?JSON.parse(Fn):[]);const et=(P=Ie[e.id])==null?void 0:P.settings;et&&(et.enableTaskView!==void 0&&A(et.enableTaskView),et.taskViewWorkspaces!==void 0&&U(et.taskViewWorkspaces),et.taskViewRefreshInterval!==void 0&&le(et.taskViewRefreshInterval));const Rs=localStorage.getItem("updateTrelloCoordinates_"+S);xe(Rs==="true");const by=localStorage.getItem("enableCardMove_"+S);oe(by==="true"),me(localStorage.getItem(`enableHomeLocation_${S}`)==="true"),ye(localStorage.getItem(`homeAddress_${S}`)||"");const ya=localStorage.getItem(`homeCoordinates_${S}`);Z(ya?JSON.parse(ya):null),te(localStorage.getItem(`homeIcon_${S}`)||"home"),Z(ya?JSON.parse(ya):null),te(localStorage.getItem(`homeIcon_${S}`)||"home");const wy=localStorage.getItem("enableStreetView_"+S);Ft(wy==="true");const xa=(et==null?void 0:et.statistics)||{};an(!!xa.enabled),Ko(xa.includeArchived!==void 0?xa.includeArchived:!0),ln(xa.includedLists||[]),et!=null&&et.slideshowInterval?uo(et.slideshowInterval):uo(10)}catch(Ie){console.warn("Error loading board settings",Ie),br("Failed to load settings for this board.")}finally{zt(!1)}}};b.useEffect(()=>{(async()=>{var T;if(e)try{const F=await We("/members/me/boards?fields=id,name,url,idOrganization&organization=true&organization_fields=displayName,name",e.token);d(F);const P=(T=JSON.parse(localStorage.getItem("trelloUserData")||"{}")[e.id])==null?void 0:T.settings;if(P!=null&&P.boardId){const Ie=P.boardId;f(Ie),await Rt(Ie),P.enableMapView!==void 0&&H(P.enableMapView),P.mapGeocodeMode&&Y(P.mapGeocodeMode),P.enableTaskView!==void 0&&A(P.enableTaskView),P.taskViewWorkspaces!==void 0&&U(P.taskViewWorkspaces),P.taskViewRefreshInterval!==void 0&&le(P.taskViewRefreshInterval)}}catch(F){console.warn("Error loading settings",F)}})()},[e]);const $e=async S=>{zt(!0),br("");try{const T=await We(`/boards/${S}/lists?cards=open&card_fields=name&card_limit=1&fields=id,name`,e.token);y(T);const F=await We(`/boards/${S}/labels`,e.token);m(F)}catch{br("Failed to load board lists.")}finally{zt(!1)}},re=async S=>{const T=S.target.value;f(T),T?await Rt(T):(x([]),I({}),we([]),y([]))},qe=()=>{x([...g,{id:`block-${Date.now()}`,name:"New Block",listIds:[],includeOnMap:!1,mapIcon:"map-marker",ignoreFirstCard:!1,displayFirstCardDescription:!1}])},st=S=>{window.confirm("Delete this block? Assigned lists will be unassigned.")&&x(g.filter(T=>T.id!==S))},ct=(S,T)=>{x(g.map(F=>F.id===S?{...F,name:T}:F))},rt=(S,T,F)=>{x(g.map(O=>O.id===S?{...O,[T]:F}:O))},se=S=>{const{source:T,destination:F,draggableId:O,type:P}=S;if(!F)return;if(P==="RULE"){const Xe=Array.from(je),[Jt]=Xe.splice(T.index,1);Xe.splice(F.index,0,Jt),we(Xe);return}if(P==="BLOCK"){const Xe=Array.from(g),[Jt]=Xe.splice(T.index,1);Xe.splice(F.index,0,Jt),x(Xe);return}const Ie=O,pe=T.droppableId,Kt=F.droppableId,cr=(Xe,Jt)=>{const ur=g.find(et=>et.id===Xe),Fn=ur.listIds.filter(et=>et!==Jt);return{...ur,listIds:Fn}},qr=(Xe,Jt,ur)=>{const Fn=g.find(Rs=>Rs.id===Xe),et=Array.from(Fn.listIds);return et.splice(ur,0,Jt),{...Fn,listIds:et}};if(pe===Kt&&pe!=="unassigned"){const Xe=g.find(ur=>ur.id===pe),Jt=Array.from(Xe.listIds);Jt.splice(T.index,1),Jt.splice(F.index,0,Ie),x(g.map(ur=>ur.id===pe?{...ur,listIds:Jt}:ur));return}let $n=[...g];pe!=="unassigned"&&($n=$n.map(Xe=>Xe.id===pe?cr(pe,Ie):Xe)),Kt!=="unassigned"&&($n=$n.map(Xe=>Xe.id===Kt?qr(Kt,Ie,F.index):Xe)),x($n)},vt=()=>we([...je,{id:`rule-${Date.now()}`,labelId:"",overrideType:"color",overrideValue:"red"}]),ut=(S,T,F)=>we(je.map(O=>O.id===S?{...O,[T]:F}:O)),zr=S=>we(je.filter(T=>T.id!==S)),zn=()=>{if(Mn<10){alert("Slideshow interval must be at least 10 seconds.");return}if(C==="seconds"&&parseInt(D)<15){br("Refresh interval must be at least 15 seconds."),window.scrollTo(0,0);return}if(!p&&!N)return alert("You must either enable the tasks view, or choose a Trello board to configure as a dashboard to use Trellops.");const S=h.find(T=>T.id===p);try{if(p){Om(e.id,p,g),Z1(e.id,p,w),localStorage.setItem(Ee.REFRESH_INTERVAL+p,JSON.stringify({value:D,unit:C})),localStorage.setItem(Ee.CLOCK_SETTING+p,R?"true":"false"),localStorage.setItem(Ee.IGNORE_TEMPLATE_CARDS+p,_?"true":"false"),localStorage.setItem(Ee.IGNORE_COMPLETED_CARDS+p,ae?"true":"false"),localStorage.setItem(Ee.IGNORE_NO_DESC_CARDS+p,fe?"true":"false"),localStorage.setItem(`TRELLO_MARKER_RULES_${p}`,JSON.stringify(je.filter(pe=>pe.labelId))),localStorage.setItem(`enableHomeLocation_${p}`,be),localStorage.setItem(`homeAddress_${p}`,Be),localStorage.setItem(`homeCoordinates_${p}`,JSON.stringify(Tt)),localStorage.setItem(`homeIcon_${p}`,de);const P=G&&Ge;localStorage.setItem("updateTrelloCoordinates_"+p,P?"true":"false");const Ie=he&&Ge;if(localStorage.setItem("enableCardMove_"+p,Ie?"true":"false"),localStorage.setItem("enableStreetView_"+p,Nt?"true":"false"),P){const pe=`MAP_GEOCODING_CACHE_${p}`;localStorage.getItem(pe)&&(localStorage.removeItem(pe),console.log("Cache cleared due to Trello Update enablement."))}}const T=g.flatMap(P=>P.listIds.map(Ie=>v.find(pe=>pe.id===Ie))).filter(Boolean),F={boardId:p||null,boardName:S?S.name:p?"Unknown Board":null,selectedLists:T,enableMapView:M,mapGeocodeMode:V,enableCardMove:he&&Ge,enableStreetView:Nt,enableTaskView:N,taskViewWorkspaces:L,taskViewRefreshInterval:q,slideshowInterval:parseInt(Mn)||10,statistics:{enabled:Hr,showArchived:Yo,includedLists:An}},O=JSON.parse(localStorage.getItem("trelloUserData")||"{}");O[e.id]={...O[e.id],settings:F},localStorage.setItem("trelloUserData",JSON.stringify(O)),n(F)}catch(T){console.error(T),br("Failed to save settings.")}},Ts=()=>{try{const S={...e.settings,enableTaskView:N,taskViewWorkspaces:L,taskViewRefreshInterval:q},T=JSON.parse(localStorage.getItem("trelloUserData")||"{}"),F=T[e.id]||{};T[e.id]={...F,settings:{...F.settings||{},enableTaskView:N,taskViewWorkspaces:L,taskViewRefreshInterval:q}},localStorage.setItem("trelloUserData",JSON.stringify(T)),n({...e.settings||{},enableTaskView:N,taskViewWorkspaces:L,taskViewRefreshInterval:q}),c?l==="tasks"?(window.history.pushState({},"","/tasks"),window.dispatchEvent(new Event("popstate"))):r():l==="tasks"?(window.history.pushState({},"","/tasks"),window.dispatchEvent(new Event("popstate"))):r()}catch(S){console.error("Failed to save task settings",S),alert("Failed to save task settings")}},ma=()=>{window.confirm("Clear all settings?")&&(x([]),I({}),we([]))},va=()=>{var T;if(!p)return null;const S=(T=h.find(F=>F.id===p))==null?void 0:T.name;return{boardId:p,boardName:S,blocks:g,listColors:w,markerRules:je,refreshValue:D,refreshUnit:C,showClock:R,ignoreTemplateCards:_,ignoreCompletedCards:ae,ignoreNoDescCards:fe,enableMapView:M,mapGeocodeMode:V,enableCardMove:he,enableStreetView:Nt,enableTaskView:N,taskViewWorkspaces:L,taskViewRefreshInterval:q}},Gr=()=>{const S=va();if(!S)return;const T=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),F=URL.createObjectURL(T),O=document.createElement("a");O.href=F,O.download=`trellops-config-${p}.json`,O.click(),URL.revokeObjectURL(F)},Ns=S=>{const T=S.target.files[0];if(!T)return;const F=new FileReader;F.onload=O=>{try{const P=JSON.parse(O.target.result);if(P.boardId&&P.boardId!==p){if(!window.confirm(`This config is for board ${P.boardId}, but you are on ${p}. Import anyway?`))return;h.find(pe=>pe.id===P.boardId)?(f(P.boardId),$e(P.boardId)):(console.warn("Imported config for unknown board:",P.boardId),f(P.boardId),$e(P.boardId))}P.blocks&&x(P.blocks),P.listColors&&I(P.listColors),P.markerRules&&we(P.markerRules),P.refreshValue&&E(P.refreshValue),P.refreshUnit&&j(P.refreshUnit),P.showClock!==void 0&&z(P.showClock),P.ignoreTemplateCards!==void 0&&J(P.ignoreTemplateCards),P.ignoreCompletedCards!==void 0&&ie(P.ignoreCompletedCards),P.ignoreNoDescCards!==void 0&&ve(P.ignoreNoDescCards),P.enableMapView!==void 0&&H(P.enableMapView),P.mapGeocodeMode&&Y(P.mapGeocodeMode),P.enableCardMove!==void 0&&oe(P.enableCardMove),P.enableStreetView!==void 0&&Ft(P.enableStreetView),P.enableTaskView!==void 0&&A(P.enableTaskView),P.taskViewWorkspaces!==void 0&&U(P.taskViewWorkspaces),P.taskViewRefreshInterval!==void 0&&le(P.taskViewRefreshInterval),alert("Configuration imported! Click Save to persist changes.")}catch(P){console.error(P),alert("Failed to parse configuration file.")}},F.readAsText(T)},yy=new Set(g.flatMap(S=>S.listIds)),xy=v.filter(S=>!yy.has(S.id)),_t=h.find(S=>S.id===p),yt=({checked:S,onChange:T,id:F})=>s.jsxs("label",{className:"switch",htmlFor:F,style:{pointerEvents:"none"},children:[s.jsx("input",{type:"checkbox",checked:S,onChange:T,id:F}),s.jsx("span",{className:"slider round"})]});return s.jsxs("div",{className:"settings-container",style:{maxWidth:"80%",width:"80%"},children:[l==="default"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:"Dashboard Settings"}),s.jsxs("div",{className:"admin-section",style:{marginBottom:"20px"},children:[s.jsx("h3",{children:"Choose your Trello Board"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px"},children:"Boards are pulled directly from your Trello account, across all workspaces."}),s.jsxs("select",{value:p,onChange:re,className:"board-select",children:[s.jsx("option",{value:"",children:"-- Choose a Board --"}),(()=>{const S={},T=[];h.forEach(O=>{if(O.organization){const P=O.organization.displayName||O.organization.name;S[P]||(S[P]=[]),S[P].push(O)}else T.push(O)});const F=Object.keys(S).sort((O,P)=>O.localeCompare(P));return s.jsxs(s.Fragment,{children:[F.map(O=>s.jsx("optgroup",{label:O,children:S[O].sort((P,Ie)=>P.name.localeCompare(Ie.name)).map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))},O)),T.length>0&&s.jsx("optgroup",{label:"Personal Boards",children:T.sort((O,P)=>O.name.localeCompare(P.name)).map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))})]})})()]})]}),s.jsxs("div",{className:"settings-tabs",children:[s.jsx("button",{className:`tab-button ${lt==="dashboard"?"active":""}`,onClick:()=>Yt("dashboard"),children:"Dashboard View Settings"}),s.jsx("button",{className:`tab-button ${lt==="map"?"active":""}`,onClick:()=>{Yt("map"),ot()},children:"Map View Settings"}),s.jsx("button",{className:`tab-button ${lt==="statistics"?"active":""}`,onClick:()=>Yt("statistics"),children:"Statistics Settings"}),s.jsx("button",{className:`tab-button ${lt==="other"?"active":""}`,onClick:()=>Yt("other"),children:"Other Board settings"})]})]}),Mr&&s.jsx("div",{className:"error-banner",style:{background:"#ffebee",color:"#c62828",padding:"10px",marginBottom:"15px",borderRadius:"4px",border:"1px solid #ffcdd2",marginTop:"10px"},children:Mr}),$t&&s.jsxs("div",{className:"info-banner",style:{background:"#e3f2fd",color:"#0d47a1",padding:"15px",marginBottom:"15px",borderRadius:"4px",border:"1px solid #90caf9",marginTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Configuration Loaded:"})," Shared settings available for board ",s.jsx("strong",{children:$t.boardName||$t.boardId}),".",s.jsx("div",{style:{fontSize:"0.9em",marginTop:"4px"},children:"Unsaved changes will be lost if you apply this configuration."})]}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{onClick:Te,style:{background:"#1976d2",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Apply"}),s.jsx("button",{onClick:ze,style:{background:"transparent",color:"#0d47a1",border:"1px solid #0d47a1",padding:"6px 12px",borderRadius:"4px",cursor:"pointer"},children:"Dismiss"})]})]}),s.jsxs(M2,{onDragEnd:se,children:[l==="default"&&s.jsx("div",{style:{display:"flex",borderBottom:"1px solid #ddd",marginBottom:"20px"},children:lt==="dashboard"&&s.jsx("div",{className:"tab-content",children:_t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"admin-section",id:"section-2",children:[s.jsx("h3",{children:"1. Manage your Trellops blocks"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px"},children:"A block is a group of tiles representing each Trello list (or column). You will be able to assign one or multiple tiles to each block. Blocks can be shown or hidden on demand on the dashboard."}),s.jsx(gi,{droppableId:"blocks-list",type:"BLOCK",children:S=>s.jsxs("div",{ref:S.innerRef,...S.droppableProps,children:[g.map((T,F)=>s.jsx(Ua,{draggableId:T.id,index:F,children:O=>s.jsxs("div",{ref:O.innerRef,...O.draggableProps,style:{display:"flex",gap:"10px",marginBottom:"8px",alignItems:"center",background:"#fff",padding:"8px",border:"1px solid #eee",borderRadius:"4px",...O.draggableProps.style},children:[s.jsx("div",{...O.dragHandleProps,className:"drag-handle",style:{color:"#ccc",marginRight:"5px"},children:"::"}),s.jsx("input",{type:"text",value:T.name,onChange:P=>ct(T.id,P.target.value),className:"block-name-input"}),s.jsx("button",{onClick:()=>st(T.id),style:{color:"red",marginLeft:"auto",background:"none",border:"none",fontSize:"1.2rem",cursor:"pointer",fontWeight:"bold"},title:"Remove Block",children:"X"})]})},T.id)),S.placeholder]})}),s.jsx("button",{className:"add-block-button",onClick:qe,style:{marginTop:"10px"},children:"+ Add Block"})]}),s.jsxs("div",{className:"admin-section",id:"section-3",children:[s.jsx("h3",{children:"2. Assign tiles to your blocks"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px"},children:"Tiles show the total count of cards in each Trello list, automatically updating as the cards are created or moved. Choose from the Unassigned pool on the left, the lists you want to create as a tile in the respective block on the right. Then customise each tile position and colour."}),s.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"flex-start",marginTop:"15px"},children:[s.jsxs("div",{style:{flex:1,background:"#f8f9fa",padding:"10px",borderRadius:"6px",border:"1px solid #dee2e6"},children:[s.jsx("h4",{children:"Available Lists"}),s.jsx(gi,{droppableId:"unassigned",type:"LIST",children:S=>s.jsxs("div",{ref:S.innerRef,...S.droppableProps,style:{minHeight:"100px"},children:[xy.map((T,F)=>s.jsx(Ua,{draggableId:T.id,index:F,children:O=>s.jsx("div",{ref:O.innerRef,...O.draggableProps,...O.dragHandleProps,style:{padding:"8px",margin:"4px 0",background:"white",border:"1px solid #ddd",borderRadius:"4px",...O.draggableProps.style},children:T.name})},T.id)),S.placeholder]})})]}),s.jsx("div",{style:{flex:2,display:"flex",flexDirection:"column",gap:"15px"},children:g.map(S=>s.jsxs("div",{style:{background:"#e7f5ff",padding:"10px",borderRadius:"6px",border:"1px solid #a5d8ff"},children:[s.jsx("h4",{style:{margin:0,marginBottom:"10px"},children:S.name}),s.jsx("div",{style:{background:"rgba(255,255,255,0.5)",padding:"8px",borderRadius:"4px",marginBottom:"10px",fontSize:"0.85em"},children:s.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>rt(S.id,"ignoreFirstCard",!S.ignoreFirstCard),children:[s.jsx(yt,{checked:S.ignoreFirstCard,onChange:T=>rt(S.id,"ignoreFirstCard",T.target.checked)}),s.jsx("span",{children:"Do not count the first card in the total"})]}),S.ignoreFirstCard&&s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>rt(S.id,"displayFirstCardDescription",!S.displayFirstCardDescription),children:[s.jsx(yt,{checked:S.displayFirstCardDescription,onChange:T=>rt(S.id,"displayFirstCardDescription",T.target.checked)}),s.jsx("span",{children:"Display the first card as tile description"})]})]})}),s.jsx(gi,{droppableId:S.id,type:"LIST",children:T=>s.jsxs("div",{ref:T.innerRef,...T.droppableProps,style:{minHeight:"50px"},children:[S.listIds.map((F,O)=>{const P=v.find(pe=>pe.id===F);if(!P)return null;const Ie=w[F]||"#0079bf";return s.jsx(Ua,{draggableId:F,index:O,children:pe=>s.jsxs("div",{ref:pe.innerRef,...pe.draggableProps,...pe.dragHandleProps,style:{padding:"8px",margin:"4px 0",background:"white",borderLeft:`5px solid ${Ie}`,borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",...pe.draggableProps.style},children:[s.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.name}),S.ignoreFirstCard&&S.displayFirstCardDescription&&P.cards&&P.cards.length>0&&s.jsxs("span",{style:{width:"20%",textAlign:"right",fontSize:"0.85em",color:"#666",fontStyle:"italic",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flexShrink:0},children:["[",P.cards[0].name,"]"]}),s.jsx("input",{type:"color",value:Ie,onChange:Kt=>I({...w,[F]:Kt.target.value}),style:{width:"30px",height:"30px",padding:0,border:"none",background:"none",cursor:"pointer",flexShrink:0},title:"Tile Colour"})]})},F)}),T.placeholder]})})]},S.id))})]})]})]}):s.jsx("div",{style:{marginTop:"20px",fontStyle:"italic",color:"#666"},children:"Select a board to configure blocks"})})}),lt==="map"&&s.jsx("div",{className:"tab-content",children:_t?s.jsxs("div",{className:"admin-section",id:"section-5",children:[s.jsxs("h3",{children:["Map View Settings for ",_t.name]}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"Map settings are saved per-board. Choose whether Map View is enabled and how geocoding should behave for cards on this board."}),s.jsxs("div",{className:"settings-row",style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>H(!M),children:[s.jsx(yt,{checked:M,onChange:S=>H(S.target.checked)}),s.jsx("span",{children:"Enable Map View"})]}),M&&s.jsxs("div",{style:{marginTop:"15px"},children:[s.jsxs("div",{style:{marginBottom:"15px",background:"#f8f9fa",padding:"10px",borderRadius:"4px",border:"1px solid #eee"},children:[s.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"8px"},children:"Geocoding behavior:"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px",opacity:.7},children:[s.jsx(yt,{checked:!0,onChange:()=>{}}),s.jsx("span",{style:{marginLeft:"8px"},children:'Read the coordinates from the Trello card "Location" field to display the card location'})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px",cursor:"pointer"},onClick:()=>{const S=V==="disabled"?"store":"disabled";Y(S),S==="disabled"&&xe(!1)},children:[s.jsx(yt,{checked:V!=="disabled",onChange:S=>{const T=S.target.checked?"store":"disabled";Y(T),T==="disabled"&&xe(!1)}}),s.jsxs("span",{style:{marginLeft:"8px"},children:["If no coordinates are present in the card, parse the card description to decode the coordinates for the card. (experimental)",s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.85em",color:"#666",fontStyle:"italic"},children:"Note: this will use Google Maps Geocoding API, and will store the coordinates locally on your browser cache"}),s.jsx("span",{style:{fontSize:"0.85em",color:"#666",fontStyle:"italic",display:"block",marginTop:"4px"},children:"Note: Cards without a description will be skipped."})]})]}),s.jsxs("div",{style:{marginLeft:"25px",marginBottom:"15px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",opacity:V==="disabled"?.5:1,pointerEvents:V==="disabled"?"none":"auto",cursor:V==="disabled"?"default":"pointer"},onClick:()=>xe(!G),children:[s.jsx(yt,{checked:G,onChange:S=>xe(S.target.checked)}),s.jsxs("span",{style:{marginLeft:"8px"},children:["Update the Trello card coordinates using the decoded address from Google Maps (beta).",s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.85em",color:"#666",fontStyle:"italic"},children:"It is recommended to only have one dashboard enabled with this feature for each Trello board"})]})]}),G&&!Ge&&s.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#e3f2fd",border:"1px solid #90caf9",borderRadius:"4px",color:"#0d47a1",fontSize:"0.9em"},children:[s.jsx("strong",{children:"Permission Required:"}),' To update card coordinates, you must grant Trello "Write" access.',s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.9em",marginTop:"5px",display:"block"},children:"The location cache on your computer will be reset for the cards to be decoded again."}),s.jsx("button",{onClick:()=>Yn.login("read,write"),style:{display:"block",marginTop:"8px",padding:"5px 10px",background:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Authorize Write Access (Re-Login)"})]}),G&&Ge&&s.jsxs("div",{style:{marginTop:"5px",color:"green",fontSize:"0.9em",display:"flex",alignItems:"center"},children:[s.jsx("span",{style:{marginRight:"5px"},children:""})," Write permissions successfully granted."]})]})]}),s.jsx("h4",{children:"Block Map Options"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"Choose which blocks appear on the map and customize their markers."}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px",marginBottom:"20px"},children:g.map(S=>s.jsxs("div",{style:{background:"#f8f9fa",padding:"10px",borderRadius:"6px",border:"1px solid #dee2e6"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h4",{style:{margin:0},children:S.name}),s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>rt(S.id,"includeOnMap",!S.includeOnMap),children:[s.jsx(yt,{checked:S.includeOnMap,onChange:T=>rt(S.id,"includeOnMap",T.target.checked)}),s.jsx("span",{children:"Show on map"})]})]}),S.includeOnMap&&s.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid rgba(0,0,0,0.1)"},children:[s.jsx("label",{style:{fontSize:"0.85em",fontWeight:"bold",display:"block",marginBottom:"5px"},children:"Icon:"}),s.jsx("div",{style:{width:"100%"},children:s.jsx(ic,{selectedIcon:S.mapIcon,onChange:T=>rt(S.id,"mapIcon",T)})})]})]},S.id))}),s.jsxs("div",{className:"admin-section",style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"15px"},children:[s.jsx("h3",{children:"Marker Variants"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"Choose alternative display options for cards based on their Trello label value. You can choose to display a marker with a different colour or icon. In case of conflicts, the rule higher in the list will be applied."}),s.jsx(gi,{droppableId:"marker-rules",type:"RULE",children:S=>s.jsxs("div",{ref:S.innerRef,...S.droppableProps,className:"rules-list",children:[je.map((T,F)=>s.jsx(Ua,{draggableId:T.id,index:F,children:O=>s.jsxs("div",{ref:O.innerRef,...O.draggableProps,className:"rule-item",style:{display:"flex",gap:"10px",alignItems:"center",background:"#fff",padding:"10px",marginBottom:"5px",border:"1px solid #eee",flexWrap:"wrap",...O.draggableProps.style},children:[s.jsx("div",{...O.dragHandleProps,className:"drag-handle",style:{color:"#ccc",marginRight:"5px"},children:"::"}),s.jsxs("select",{value:T.labelId,onChange:P=>ut(T.id,"labelId",P.target.value),children:[s.jsx("option",{value:"",children:"-- Label --"}),k.map(P=>s.jsx("option",{value:P.id,children:P.name||P.color},P.id))]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsxs("label",{children:[s.jsx("input",{type:"radio",checked:T.overrideType==="color",onChange:()=>ut(T.id,"overrideType","color")})," Color"]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",checked:T.overrideType==="icon",onChange:()=>ut(T.id,"overrideType","icon")})," Icon"]})]}),s.jsx("div",{style:{flex:1,minWidth:"200px"},children:T.overrideType==="color"?s.jsx(IC,{selectedColor:T.overrideValue,onChange:P=>ut(T.id,"overrideValue",P)}):s.jsx("div",{style:{width:"100%"},children:s.jsx(ic,{selectedIcon:T.overrideValue,onChange:P=>ut(T.id,"overrideValue",P)})})}),s.jsx("button",{onClick:()=>zr(T.id),style:{color:"red",marginLeft:"auto"},children:"X"})]})},T.id)),S.placeholder]})}),s.jsx("button",{onClick:vt,style:{marginTop:"10px"},children:"+ Add Rule"})]}),s.jsx("div",{className:"admin-section",style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"15px"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",cursor:"pointer"},onClick:()=>Ft(!Nt),children:[s.jsx(yt,{checked:Nt,onChange:S=>Ft(S.target.checked)}),s.jsxs("span",{style:{marginLeft:"10px"},children:[s.jsx("strong",{children:"Show street view"}),s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.9em",color:"#666"},children:"Enable to add a link to a Google Street View of the address that will open in a new window"})]})]})}),s.jsxs("div",{className:"admin-section",style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"15px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",cursor:"pointer"},onClick:()=>oe(!he),children:[s.jsx(yt,{checked:he,onChange:S=>{S.target.checked,oe(S.target.checked)}}),s.jsxs("span",{style:{marginLeft:"10px"},children:[s.jsx("strong",{children:"Enable card move from the map view"}),s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.9em",color:"#666"},children:'Display a dropdown allowing to move a card to another list from the visible block directly from a marker on the map. This requires "write" access to your Trello board for Trellops to move the cards on your behalf'})]})]}),he&&!Ge&&s.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"#e3f2fd",border:"1px solid #90caf9",borderRadius:"4px",color:"#0d47a1",fontSize:"0.9em"},children:[s.jsx("strong",{children:"Permission Required:"}),' To move cards, you must grant Trello "Write" access.',s.jsx("br",{}),s.jsx("button",{onClick:()=>Yn.login("read,write"),style:{display:"block",marginTop:"8px",padding:"5px 10px",background:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Authorize Write Access (Re-Login)"})]}),he&&Ge&&s.jsxs("div",{style:{marginTop:"5px",color:"green",fontSize:"0.9em",display:"flex",alignItems:"center"},children:[s.jsx("span",{style:{marginRight:"5px"},children:""})," Write permissions successfully granted."]})]}),s.jsxs("div",{className:"admin-section",style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"15px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px",cursor:"pointer"},onClick:()=>me(!be),children:[s.jsx(yt,{checked:be,onChange:S=>me(S.target.checked)}),s.jsxs("span",{style:{marginLeft:"10px"},children:[s.jsx("strong",{children:"Set home location"}),s.jsx("br",{}),s.jsx("span",{style:{fontSize:"0.9em",color:"#666"},children:"Set a home address that will be permanently displayed on the map for this board."})]})]}),be&&s.jsxs("div",{style:{marginLeft:"50px",marginTop:"10px"},children:[s.jsxs("div",{style:{marginBottom:"10px"},ref:js,children:[s.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",fontSize:"0.9em"},children:"Home Address"}),s.jsxs("div",{style:{position:"relative"},children:[s.jsx("input",{type:"text",value:Be,onChange:X,placeholder:"Start typing your address...",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"}}),po&&s.jsx("div",{style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",color:"#888",fontSize:"0.8em"},children:"Searching..."}),On.length>0&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,background:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",maxHeight:"200px",overflowY:"auto"},children:On.map((S,T)=>s.jsx("div",{onClick:()=>ue(S),style:{padding:"8px 12px",cursor:"pointer",borderBottom:T<On.length-1?"1px solid #eee":"none",fontSize:"0.9em",color:"black"},onMouseEnter:F=>F.target.style.background="#f5f5f5",onMouseLeave:F=>F.target.style.background="white",children:S.description},T))})]}),Tt&&!po&&On.length===0&&s.jsxs("div",{style:{fontSize:"0.85em",color:"green",marginTop:"5px"},children:["Resolved: ",Tt.display_name]})]}),s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px",fontSize:"0.9em"},children:"Marker Icon"}),s.jsx(ic,{selectedIcon:de,onChange:te,color:"#444"})]})]})]}),s.jsxs("div",{className:"admin-section",style:{marginTop:"20px",borderTop:"1px solid #eee",paddingTop:"15px"},children:[s.jsx("h3",{children:"Reset coordinates cache"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"Use this button to remove all card coordinates on your local computer. This is to be used for troubleshooting purposes and will trigger a re-fetch using Nominatim"}),s.jsx("button",{className:"button-secondary",style:{borderColor:"#d32f2f",color:"#d32f2f"},onClick:()=>{if(window.confirm("Are you sure you want to clear the local geocoding cache? This will force addresses to be re-fetched from Nominatim."))try{const S=`MAP_GEOCODING_CACHE_${_t.id}`;localStorage.removeItem(S),alert("Cache cleared successfully.")}catch{alert("Failed to clear cache")}},children:"Reset Location Cache"})]})]})]}):s.jsx("div",{style:{marginTop:"20px",fontStyle:"italic",color:"#666"},children:"Select a board to configure map settings"})}),lt==="statistics"&&s.jsx("div",{className:"tab-content",children:_t?s.jsxs("div",{className:"admin-section",id:"section-stats",children:[s.jsxs("h3",{children:["Statistics View Settings for ",_t.name]}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"Configure the historical data analysis view."}),s.jsxs("div",{className:"settings-row",style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>an(!Hr),children:[s.jsx(yt,{checked:Hr,onChange:S=>an(S.target.checked)}),s.jsx("span",{children:"Enable Statistics View"})]}),Hr&&s.jsxs("div",{style:{marginTop:"15px",marginLeft:"20px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginBottom:"15px"},onClick:()=>Ko(!Yo),children:[s.jsx(yt,{checked:Yo,onChange:S=>Ko(S.target.checked)}),s.jsx("span",{children:"Show output for Archived cards"})]}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"8px"},children:"Lists to include in reports:"}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-5px"},children:'Uncheck to exclude specific lists (e.g. "Done" or "Backlog") from statistics.'}),s.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",border:"1px solid #ddd",padding:"10px",borderRadius:"4px",background:"white"},children:(()=>{const S=bd(e.id,p)||jl,T={},F=new Set;S.forEach(P=>{const Ie=v.filter(pe=>P.listIds.includes(pe.id));Ie.length>0&&(T[P.name]=Ie,Ie.forEach(pe=>F.add(pe.id)))});const O=v.filter(P=>!F.has(P.id));return O.length>0&&(T["Other Lists"]=O),Object.keys(T).length===0?s.jsx("div",{style:{fontStyle:"italic",color:"#888"},children:"No lists found."}):Object.entries(T).map(([P,Ie])=>s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("div",{style:{fontWeight:"bold",fontSize:"0.9em",color:"#444",marginBottom:"5px",borderBottom:"1px solid #eee"},children:P}),Ie.map(pe=>s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px",marginLeft:"10px"},children:[s.jsx("input",{type:"checkbox",id:`stat-list-${pe.id}`,checked:An.length===0||An.includes(pe.id),onChange:Kt=>{if(Kt.target.checked)ln(cr=>[...cr,pe.id]);else if(An.length===0){const cr=v.map(qr=>qr.id).filter(qr=>qr!==pe.id);ln(cr)}else ln(cr=>cr.filter(qr=>qr!==pe.id))},style:{marginRight:"8px"}}),s.jsx("label",{htmlFor:`stat-list-${pe.id}`,style:{cursor:"pointer"},children:pe.name})]},pe.id))]},P))})()}),s.jsx("button",{className:"button-link",style:{fontSize:"0.8em",padding:"5px 0",background:"none",border:"none",color:"#0079bf",cursor:"pointer",textDecoration:"underline"},onClick:()=>ln([]),children:"Select All (Clear Filter)"})]})]})]}):s.jsx("div",{style:{marginTop:"20px",fontStyle:"italic",color:"#666"},children:"Select a board to configure settings"})}),lt==="other"&&s.jsxs("div",{className:"tab-content",children:[_t?s.jsxs("div",{className:"admin-section",id:"section-4",children:[s.jsxs("h3",{children:["Other Settings for ",_t.name]}),s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:"These settings are saved separately for each Trello board. Auto-refresh must be at least 15 seconds; recommended 30 seconds for live displays. The digital clock appears in the top-left corner of the screen and follows the local computer time format. Template Cards in Trello can be excluded from the count (recommended); completed cards can also be excluded."}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[s.jsxs("div",{children:[s.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"5px"},children:"Refresh Interval"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("input",{type:"number",min:C==="seconds"?15:1,value:D,onChange:S=>E(S.target.value),style:{width:"60px",padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}}),s.jsxs("select",{value:C,onChange:S=>j(S.target.value),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[s.jsx("option",{value:"seconds",children:"Seconds"}),s.jsx("option",{value:"minutes",children:"Minutes"}),s.jsx("option",{value:"hours",children:"Hours"})]})]}),s.jsx("p",{style:{fontSize:"0.8em",color:"#666",marginTop:"5px"},children:"How often the data is retrieved from Trello."})]}),s.jsxs("div",{children:[s.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"5px"},children:"Slideshow Interval (Seconds)"}),s.jsx("input",{type:"number",min:"10",value:Mn,onChange:S=>{uo(S.target.value)},style:{width:"60px",padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}}),Mn<10&&s.jsx("span",{style:{color:"red",marginLeft:"10px",fontSize:"0.9em"},children:"Minimum 10 seconds required"}),s.jsx("p",{style:{fontSize:"0.8em",color:"#666",marginTop:"5px"},children:"Slideshow mode will cycle between the Dashboard and Map views at regular intervals, minimum 10 seconds. Start the slideshow using the arrows next to the Dashboard or Map button in the footer."})]}),s.jsxs("div",{children:[s.jsx("label",{style:{fontWeight:"bold",display:"block",marginBottom:"5px"},children:"Features"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>z(!R),children:[s.jsx(yt,{checked:R,onChange:S=>z(S.target.checked)}),s.jsx("span",{children:"Show Clock"}),R&&s.jsx("span",{style:{marginLeft:"15px",color:"#555",fontFamily:"monospace",background:"#f0f0f0",padding:"2px 6px",borderRadius:"4px",border:"1px solid #ddd"},children:new Date().toLocaleTimeString()})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>J(!_),children:[s.jsx(yt,{checked:_,onChange:S=>J(S.target.checked)}),s.jsx("span",{children:"Ignore Template Cards"})]}),s.jsxs("div",{className:"setting-item-row",onClick:()=>ve(!fe),style:{cursor:"pointer",display:"flex",alignItems:"flex-start"},children:[s.jsx("div",{style:{marginTop:"2px"},children:s.jsx(yt,{id:"ignoreNoDescCards",checked:fe,onChange:S=>ve(S.target.checked)})}),s.jsxs("div",{style:{marginLeft:"10px"},children:[s.jsx("label",{htmlFor:"ignoreNoDescCards",style:{cursor:"pointer"},children:"Ignore Cards without Description"}),s.jsx("span",{style:{display:"block",fontSize:"0.85em",color:"#666",fontWeight:"normal",marginTop:"2px"},children:"If enabled, cards with empty descriptions will not be counted in dashboard or placed on the map. (First card description usage is unaffected)."})]})]}),s.jsxs("div",{className:"setting-item-row",onClick:()=>ie(!ae),style:{cursor:"pointer"},children:[s.jsx(yt,{id:"ignoreCompletedCards",checked:ae,onChange:S=>ie(S.target.checked)}),s.jsx("label",{htmlFor:"ignoreCompletedCards",style:{marginLeft:"10px",cursor:"pointer"},children:"Ignore Completed Cards (Due Complete)"})]})]})]})]})]}):s.jsx("div",{style:{marginTop:"20px",fontStyle:"italic",color:"#666"},children:"Select a board to configure settings"}),s.jsxs("div",{className:"danger-zone",style:{marginTop:"40px",paddingTop:"10px"},children:[s.jsx("style",{children:`
                                .danger-header:hover { background-color: #fff0f0; }
                             `}),s.jsxs("div",{className:"danger-header",onClick:()=>Ct(!Sr),style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px"},children:[s.jsx("h4",{style:{color:"black",margin:0},children:" Global settings reset"}),s.jsx("span",{style:{fontSize:"1.2em",color:"#d32f2f"},children:Sr?"":""})]}),Sr&&s.jsxs("div",{style:{backgroundColor:"#fff0f0",padding:"15px",borderRadius:"4px",border:"1px solid #ffcdcd",marginTop:"10px"},children:[s.jsxs("p",{style:{fontSize:"0.9em",color:"#8b0000",marginBottom:"10px"},children:["Resetting your settings will remove any locally stored information including dashboard and map configuration for ",s.jsx("strong",{children:"ALL boards"}),", as well as decoded geolocations."]}),s.jsx("p",{style:{fontSize:"0.9em",color:"#8b0000",marginBottom:"15px"},children:"Your Trello account will NOT be affected, nor will your Trellops subscriptions."}),s.jsxs("div",{style:{marginBottom:"15px"},children:[s.jsx("strong",{style:{display:"block",marginBottom:"5px",color:"#8b0000",fontSize:"0.85em"},children:"The reset will erase all the information stored below; it is recommended that you back up each configuration first."}),s.jsx("ul",{style:{margin:"5px 0 10px 20px",fontSize:"0.85em",color:"#8b0000"},children:(()=>{const T=JSON.parse(localStorage.getItem("trelloUserData")||"{}")[e==null?void 0:e.id]||{},F=Object.keys(T.dashboardLayout||{}),O=Object.keys(T.listColors||{}),P=new Set([...F,...O]);return P.size===0?s.jsx("li",{children:"No cached configurations found."}):Array.from(P).map(Ie=>{var Kt;const pe=((Kt=h.find(cr=>cr.id===Ie))==null?void 0:Kt.name)||Ie;return s.jsxs("li",{children:[pe," ",s.jsxs("span",{style:{color:"#b71c1c",fontSize:"0.8em"},children:["(",Ie,")"]})]},Ie)})})()})]}),s.jsx("button",{onClick:()=>{if(confirm(`ARE YOU SURE you want to DELETE ALL LOCAL SETTINGS?

This cannot be undone.`)){const S=JSON.parse(localStorage.getItem("trelloUserData")||"{}");e!=null&&e.id&&delete S[e.id],localStorage.setItem("trelloUserData",JSON.stringify(S));const T=[];for(let F=0;F<localStorage.length;F++){const O=localStorage.key(F);O&&(O.startsWith("TRELLO_")||O.startsWith("MAP_GEOCODING_CACHE_")||O.startsWith("updateTrelloCoordinates_")||O.startsWith("enableCardMove_")||O.startsWith("enableStreetView_")||O.startsWith("refreshInterval_"))&&T.push(O)}T.forEach(F=>localStorage.removeItem(F)),alert("All local cache has been reset. The application will reload."),window.location.reload()}},style:{backgroundColor:"#d32f2f",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Reset My Trellops Stored Cache"})]})]})]}),l==="default"&&s.jsxs("div",{className:"actions-container",style:{display:"flex",alignItems:"center",gap:"10px"},children:[s.jsx("button",{className:"save-layout-button",onClick:zn,children:"Save Settings"}),s.jsx("button",{className:"button-secondary",onClick:r,children:"Cancel"}),lt!=="tasks"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"button-secondary",onClick:()=>Wr(!0),children:"Share Configuration"}),s.jsx("button",{className:"button-secondary",onClick:()=>Me(!0),children:"More..."})]})]})]}),l==="default"&&s.jsx("div",{style:{marginTop:"30px",borderTop:"1px solid #eee",paddingTop:"20px"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Looking for Task View settings?"}),s.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"0.9em",color:"#666"},children:"Use the dedicated page to configure your global task dashboard."})]}),s.jsx("a",{href:"/tasks/settings",onClick:S=>{window.history.pushState({},"","/tasks/settings"),c?c():window.dispatchEvent(new Event("popstate"))},className:"button-secondary",style:{textDecoration:"none",display:"inline-block"},children:"Manage Tasks View"})]})}),l==="tasks"&&s.jsxs("div",{className:"admin-section",id:"section-tasks",style:{marginTop:"0",borderTop:"none"},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0"},children:s.jsxs("h2",{style:{margin:0},children:[e.fullName||e.displayName||e.username," Tasks View Settings"]})}),s.jsxs("div",{style:{paddingTop:"10px"},children:[s.jsx("p",{style:{fontSize:"0.9em",color:"#666",marginTop:"-10px",marginBottom:"15px"},children:`This is a separate feature, independent from the dashboard and map views. Enable a "Bird's Eye View" dashboard to see all your assigned tasks (checklists) and cards across ALL your workspaces and boards in one place.`}),s.jsxs("div",{className:"settings-row",style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>A(!N),children:[s.jsx(yt,{checked:N,onChange:S=>A(S.target.checked)}),s.jsx("span",{children:"Enable Tasks View"})]}),N&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{marginTop:"10px",fontSize:"0.9em",color:"green",display:"flex",alignItems:"center",marginBottom:"20px"},children:[s.jsx("span",{style:{marginRight:"5px"},children:""}),' A "Tasks View" button will appear in the main navigation footer.']}),s.jsxs("div",{className:"setting-group",style:{marginBottom:"20px"},children:[s.jsx("label",{className:"setting-label",children:"Workspaces to Include"}),s.jsx("div",{style:{fontSize:"0.85em",color:"#666",marginBottom:"5px"},children:"Select which workspaces to show tasks from. At least one workspace must be selected."}),s.jsx("div",{style:{maxHeight:"150px",overflowY:"auto",border:"1px solid #ddd",padding:"10px",borderRadius:"4px"},children:Ce.length===0?s.jsx("div",{style:{fontStyle:"italic",color:"#888"},children:"Loading workspaces..."}):Ce.map(S=>s.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[s.jsx("input",{type:"checkbox",id:`ws-${S.id}`,checked:L&&L.includes(S.id),onChange:T=>{T.target.checked?U([...L||[],S.id]):L.length>1?U(L.filter(F=>F!==S.id)):alert("At least one workspace must be selected.")},style:{marginRight:"8px"}}),s.jsx("label",{htmlFor:`ws-${S.id}`,style:{cursor:"pointer"},children:S.displayName})]},S.id))})]}),s.jsxs("div",{className:"setting-group",style:{marginBottom:"20px"},children:[s.jsx("label",{className:"setting-label",children:"Auto-Refresh Interval"}),s.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[s.jsx("input",{type:"number",min:"1",value:q.value,onChange:S=>le({...q,value:parseInt(S.target.value)||1}),style:{width:"60px",padding:"5px",borderRadius:"4px",border:"1px solid #ccc"}}),s.jsxs("select",{value:q.unit,onChange:S=>le({...q,unit:S.target.value}),style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc"},children:[s.jsx("option",{value:"minutes",children:"Minutes"}),s.jsx("option",{value:"hours",children:"Hours"})]})]}),s.jsx("div",{style:{fontSize:"0.85em",color:"#666",marginTop:"5px"},children:"Minimum 1 minute."})]})]}),s.jsxs("div",{className:"actions-container",style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"20px"},children:[s.jsx("button",{className:"button-secondary",onClick:Ts,children:"Save Tasks Settings"}),s.jsx("button",{className:"button-secondary",onClick:r,children:"Cancel"})]})]})]}),s.jsxs("div",{style:{textAlign:"center",marginTop:"30px",marginBottom:"10px",fontSize:"0.85em",color:"#aaa",fontWeight:"bold"},children:["v4.5.","VWXB"," - Jan 09, 2026"]}),Ln&&s.jsx(EC,{config:va(),onClose:()=>Wr(!1),boardName:_t==null?void 0:_t.name}),Ds&&s.jsx(kC,{onClose:()=>Me(!1),onReset:ma,onExport:Gr,onImport:Ns,selectedBoardId:p,boardName:_t==null?void 0:_t.name})]})},DC=({user:e,settings:t,onClose:r,onShowSettings:n,onLogout:o,onShowMap:i,onMainView:a})=>{const[l,c]=b.useState(!0),[u,h]=b.useState({orgs:[],boards:[],cards:[]}),[d,p]=b.useState(""),[f,v]=b.useState(null),[y,k]=b.useState(!1),[m,g]=b.useState(!1),[x,w]=b.useState(null),[I,D]=b.useState(null),[E,C]=b.useState(!0),[j,R]=b.useState(!0),[z,_]=b.useState(!1),[J,ae]=b.useState("board"),{theme:ie,toggleTheme:fe}=so(),ve=(t==null?void 0:t.taskViewWorkspaces)||[],M=(t==null?void 0:t.taskViewRefreshInterval)||{value:5,unit:"minutes"},H=b.useRef(null),V=b.useRef(null);b.useEffect(()=>{Y()},[e]),b.useEffect(()=>{H.current&&clearInterval(H.current),V.current&&clearInterval(V.current);const N=M.unit==="hours"?M.value*60:M.value,A=Math.max(60,N*60);return v(A),V.current=setInterval(()=>{v(L=>L<=1?A:L-1)},1e3),H.current=setInterval(()=>{Y(!0),v(A)},A*1e3),()=>{H.current&&clearInterval(H.current),V.current&&clearInterval(V.current)}},[M.value,M.unit]);const Y=async(N=!1)=>{N||c(!0);try{const A=await K1(e.token);h(A)}catch(A){console.error(A),N||p("Failed to load tasks. Please try again.")}finally{N||c(!1)}},G=b.useMemo(()=>{if(!u.cards.length)return[];let N=[];const A=new Map(u.orgs.map(U=>[U.id,U])),L=new Map(u.boards.map(U=>[U.id,U]));return u.cards.forEach(U=>{const q=L.get(U.idBoard),le=q==null?void 0:q.idOrganization,Ce=A.get(le);let Ze=(Ce==null?void 0:Ce.displayName)||(Ce==null?void 0:Ce.name)||"External Workspaces",be=(Ce==null?void 0:Ce.id)||"external_combined";if(Ze==="External Workspaces"&&(be="external_combined"),ve.length>0&&be!=="external_combined"&&!ve.includes(le))return;const me={cardId:U.id,cardName:U.name,cardUrl:U.url,boardId:U.idBoard,boardName:(q==null?void 0:q.name)||"Unknown Board",orgId:be,orgName:Ze,isCompleted:U.dueComplete||!1,due:U.due,labels:U.labels||[]},Be=[];U.checklists&&U.checklists.length>0&&U.checklists.forEach(Tt=>{Tt.checkItems.forEach(Z=>{(Z.idMember&&Z.idMember===e.id||Z.idMembers&&Z.idMembers.includes(e.id))&&Be.push({id:Z.id,name:Z.name,state:Z.state,due:Z.due})})});const ye=U.idMembers&&U.idMembers.includes(e.id);(ye||Be.length>0)&&N.push({...me,type:"card",isMember:ye,checkItems:Be})}),N},[u,e.id,ve]),xe=b.useMemo(()=>{let N=G;if(!E&&!j)return[];N=N.filter(L=>{const U=L.checkItems.length>0,q=L.isMember;return E&&j?U||q:E?U:j?q:!1}),x&&x.size>0&&(N=N.filter(L=>x.has(L.orgId))),I&&I.size>0&&(N=N.filter(L=>I.has(L.boardId))),z||(N=N.filter(L=>{const U=L.isCompleted,q=L.checkItems.length===0||L.checkItems.every(le=>le.state==="complete");return!(U&&q)}));const A=L=>L||"";return N.sort((L,U)=>{if(J==="due")return L.due?U.due?new Date(L.due)-new Date(U.due):-1:1;const q=L.orgId==="external_combined",le=U.orgId==="external_combined";if(q&&!le)return 1;if(!q&&le)return-1;const Ce=A(L.orgName).localeCompare(A(U.orgName));return Ce!==0?Ce:A(L.boardName).localeCompare(A(U.boardName))||A(L.cardName).localeCompare(A(U.cardName))}),N},[G,E,j,z,x,I,J]),he=b.useMemo(()=>{const N={};return xe.forEach(A=>{N[A.orgId]||(N[A.orgId]={name:A.orgName,boards:{}}),N[A.orgId].boards[A.boardId]||(N[A.orgId].boards[A.boardId]={name:A.boardName,tasks:[]}),N[A.orgId].boards[A.boardId].tasks.push(A)}),N},[xe]),oe=(N,A)=>(N.name||"").localeCompare(A.name||"");return l?s.jsx("div",{className:"container",style:{textAlign:"center",marginTop:50},children:"Loading Tasks..."}):d?s.jsx("div",{className:"container error",children:d}):s.jsxs("div",{className:"map-container",children:[s.jsxs("div",{className:"map-header",children:[s.jsx("div",{className:"map-header-title-area",children:s.jsxs("h1",{children:["Tasks for ",e.fullName||e.username]})}),s.jsxs("div",{className:"map-header-actions",style:{flexGrow:1,justifyContent:"flex-end",display:"flex",alignItems:"center",gap:"5px"},children:[s.jsxs("div",{className:"header-filters",style:{display:"flex",gap:"5px",alignItems:"center",flexWrap:"nowrap",overflow:"hidden",flexShrink:1},children:[s.jsx(Sh,{label:"WS",options:Array.from(new Set(G.map(N=>N.orgId))).map(N=>{var A;return{id:N,name:((A=G.find(L=>L.orgId===N))==null?void 0:A.orgName)||"Unknown"}}).sort(oe),selectedIds:x,onChange:N=>{w(N),D(null)},className:"time-filter-select"}),s.jsx(Sh,{label:"Boards",options:Array.from(new Set(G.filter(N=>x===null||x.has(N.orgId)).map(N=>N.boardId))).map(N=>{var A;return{id:N,name:((A=G.find(L=>L.boardId===N))==null?void 0:A.boardName)||"Unknown"}}).sort(oe),selectedIds:I,onChange:D,className:"time-filter-select"}),s.jsxs("select",{value:J,onChange:N=>ae(N.target.value),className:"time-filter-select",style:{borderRadius:"4px",border:"1px solid var(--border-color)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[s.jsx("option",{value:"board",children:"Sort: Board"}),s.jsx("option",{value:"due",children:"Sort: Due"})]}),s.jsxs("div",{className:"desktop-only",style:{display:"flex",gap:"10px",alignItems:"center",fontSize:"0.9em"},children:[s.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",whiteSpace:"nowrap"},children:[s.jsx("input",{type:"checkbox",checked:E,onChange:N=>C(N.target.checked),style:{marginRight:"4px"}})," Me"]}),s.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",whiteSpace:"nowrap"},children:[s.jsx("input",{type:"checkbox",checked:j,onChange:N=>R(N.target.checked),style:{marginRight:"4px"}})," Mem"]}),s.jsxs("label",{style:{cursor:"pointer",display:"flex",alignItems:"center",whiteSpace:"nowrap"},children:[s.jsx("input",{type:"checkbox",checked:z,onChange:N=>_(N.target.checked),style:{marginRight:"4px"}})," Done"]})]})]}),s.jsx("button",{className:"theme-toggle-button",onClick:()=>fe(),style:{flexShrink:0},children:ie==="dark"?"":""}),s.jsx("div",{className:"mobile-only",style:{marginLeft:"5px"},children:s.jsx(Rd,{children:s.jsxs("div",{className:"hamburger-section",children:[s.jsx("strong",{children:"Actions"}),s.jsx("button",{className:"menu-link",onClick:()=>a?a():r(),children:"Dashboard View"}),s.jsx("button",{className:"menu-link",onClick:n,children:"Settings"}),s.jsx("button",{className:"menu-link",onClick:o,children:"Logout"}),s.jsxs("div",{style:{marginTop:"10px",borderTop:"1px solid #eee",paddingTop:"10px"},children:[s.jsx("strong",{children:"Filters"}),s.jsxs("label",{style:{display:"flex",padding:"5px 0"},children:[s.jsx("input",{type:"checkbox",checked:E,onChange:N=>C(N.target.checked),style:{marginRight:"8px"}})," Assigned to Me"]}),s.jsxs("label",{style:{display:"flex",padding:"5px 0"},children:[s.jsx("input",{type:"checkbox",checked:j,onChange:N=>R(N.target.checked),style:{marginRight:"8px"}})," Member"]}),s.jsxs("label",{style:{display:"flex",padding:"5px 0"},children:[s.jsx("input",{type:"checkbox",checked:z,onChange:N=>_(N.target.checked),style:{marginRight:"8px"}})," Show Completed"]})]})]})})})]})]}),s.jsx("div",{className:"task-content",style:{flex:1,overflowY:"auto",padding:"20px",paddingBottom:"80px",background:"var(--bg-canvas)",position:"relative",zIndex:1},children:Object.keys(he).length===0?s.jsx("div",{style:{textAlign:"center",color:"#888",marginTop:"50px"},children:"No tasks found matching filters."}):Object.entries(he).map(([N,A])=>s.jsxs("div",{className:"workspace-section",style:{marginBottom:"40px"},children:[s.jsx("h2",{style:{borderBottom:"2px solid var(--border-color, #ccc)",paddingBottom:"10px",marginBottom:"20px",color:"var(--text-primary)"},children:A.name}),s.jsx("div",{className:"boards-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",alignItems:"start"},children:Object.entries(A.boards).map(([L,U])=>s.jsxs("div",{className:"board-card",style:{background:"var(--bg-secondary)",borderRadius:"8px",padding:"15px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",maxHeight:"600px"},children:[s.jsxs("h3",{style:{marginTop:0,fontSize:"1.1em",marginBottom:"15px",color:"var(--text-primary)",borderBottom:"1px solid var(--border-color, #eee)",paddingBottom:"8px"},children:[U.name," ",s.jsxs("span",{style:{fontSize:"0.8em",fontWeight:"normal",color:"var(--text-secondary)"},children:["(",U.tasks.length,")"]})]}),s.jsx("div",{className:"tasks-list-vertical",style:{display:"flex",flexDirection:"column",gap:"15px",overflowY:"auto",paddingRight:"5px"},children:U.tasks.map(q=>s.jsxs("div",{className:"task-card",style:{background:"var(--bg-primary)",padding:"12px",borderRadius:"6px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",borderLeft:q.checkItems&&q.checkItems.length>0?"4px solid #0079bf":"4px solid #ff9f1a",color:"var(--text-primary)",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{marginBottom:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[s.jsx("a",{href:q.cardUrl,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"var(--text-primary)",fontWeight:"600",fontSize:"1em",lineHeight:"1.3",wordBreak:"break-word"},children:q.cardName}),q.isMember&&s.jsx("span",{title:"Member",style:{fontSize:"0.9em",marginLeft:"5px",opacity:.7},children:""})]}),q.labels&&q.labels.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginTop:"8px"},children:q.labels.map(le=>s.jsx("span",{style:{fontSize:"0.7em",padding:"2px 6px",borderRadius:"3px",backgroundColor:le.color?jC(le.color):"#ccc",color:le.color?"#fff":"#000",fontWeight:"500"},children:le.name},le.id))}),q.due&&s.jsxs("div",{style:{fontSize:"0.85em",marginTop:"8px",color:new Date(q.due)<new Date&&!q.isCompleted?"#eb5a46":"#5ba4cf",display:"flex",alignItems:"center"},children:[s.jsx("span",{style:{marginRight:"4px"},children:""}),new Date(q.due).toLocaleDateString()," ",new Date(q.due).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ",q.isCompleted&&s.jsx("span",{style:{marginLeft:"5px",color:"green"},children:" Done"})]})]}),q.checkItems&&q.checkItems.length>0&&s.jsxs("div",{style:{marginTop:"auto",paddingTop:"10px",borderTop:"1px solid var(--border-color, #eee)"},children:[s.jsx("div",{style:{fontSize:"0.75em",color:"var(--text-secondary)",marginBottom:"5px",textTransform:"uppercase",fontWeight:"bold"},children:"Your Tasks:"}),q.checkItems.map(le=>s.jsxs("div",{style:{display:"flex",alignItems:"flex-start",padding:"4px 0",paddingLeft:"10px",borderLeft:"2px solid #ddd",fontSize:"0.9em",marginBottom:"4px"},children:[s.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"3px",border:"1px solid #ccc",marginRight:"8px",marginTop:"2px",display:"flex",alignItems:"center",justifyContent:"center",background:le.state==="complete"?"#5ba4cf":"transparent",flexShrink:0},children:le.state==="complete"&&s.jsx("span",{style:{color:"white",fontSize:"11px"},children:""})}),s.jsx("span",{style:{color:le.state==="complete"?"#888":"var(--text-primary)",textDecoration:le.state==="complete"?"line-through":"none",lineHeight:"1.4"},children:le.name})]},le.id))]})]},q.type==="card"?`card-${q.cardId}`:q.id))})]},L))})]},N))}),s.jsxs("div",{className:"map-footer",children:[s.jsx("div",{className:"map-footer-left"}),s.jsxs("div",{className:"map-footer-right",style:{display:"flex",gap:"15px",alignItems:"center"},children:[s.jsxs("button",{className:"button-secondary",onClick:()=>{v(60),Y(!0)},children:["Refresh ",Nl(f)]}),s.jsxs("div",{className:"desktop-only",style:{display:"flex",gap:"15px",alignItems:"center"},children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{display:"flex"},children:[s.jsx("button",{className:"button-secondary",onClick:()=>a?a():r(),children:"Dashboard View"}),s.jsx("button",{className:"button-secondary dropdown-arrow",style:{marginLeft:"-1px",padding:"0 5px",borderLeft:"none"},onClick:()=>k(!y),children:""})]}),y&&s.jsx("div",{className:"context-menu",style:{position:"absolute",bottom:"100%",left:0,background:"var(--bg-primary)",border:"1px solid #ccc",borderRadius:"4px",padding:"5px",minWidth:"150px"},children:s.jsx("div",{className:"menu-item",onClick:()=>{window.open("/dashboard","_blank"),k(!1)},children:"Open in New Tab"})})]}),s.jsx("button",{className:"button-secondary",onClick:n,children:"Settings"}),s.jsx("button",{className:"button-secondary",onClick:o,children:"Logout"})]})]})]})]})},jC=e=>({green:"#61bd4f",yellow:"#f2d600",orange:"#ff9f1a",red:"#eb5a46",purple:"#c377e0",blue:"#0079bf",sky:"#00c2e0",lime:"#51e898",pink:"#ff78cb",black:"#344563",none:"#b3bac5"})[e]||"#b3bac5",Sh=({label:e,options:t,selectedIds:r,onChange:n,className:o})=>{const{theme:i}=so(),[a,l]=b.useState(!1),c=b.useRef(null),u=r==null;b.useEffect(()=>{const d=p=>{c.current&&!c.current.contains(p.target)&&l(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const h=d=>{if(u){const p=new Set(t.filter(f=>f.id!==d).map(f=>f.id));n(p)}else{const p=new Set(r);p.has(d)?p.delete(d):p.add(d),n(p)}};return s.jsxs("div",{style:{position:"relative",display:"inline-block"},ref:c,className:o,children:[s.jsxs("button",{className:"settings-button",onClick:()=>l(!a),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",fontSize:"0.9em",backgroundColor:i==="dark"?"var(--bg-secondary)":"#ffffff",color:"var(--text-primary)",border:"1px solid var(--border-color)",maxWidth:"100%",justifyContent:"space-between"},children:[s.jsx("span",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e}),!u&&r.size>0&&s.jsx("span",{style:{background:"var(--accent-color)",color:"white",borderRadius:"10px",padding:"0 6px",fontSize:"0.8em",marginLeft:"4px"},children:r.size}),s.jsx("span",{style:{fontSize:"0.8em",marginLeft:"4px"},children:""})]}),a&&s.jsxs("div",{style:{position:"absolute",top:"100%",left:0,marginTop:"5px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",boxShadow:"0 4px 12px var(--shadow-color)",zIndex:1e3,minWidth:"200px",display:"flex",flexDirection:"column",maxHeight:"400px"},children:[s.jsxs("div",{style:{padding:"8px",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85em",fontWeight:"bold",color:"var(--text-primary)"},children:[s.jsx("span",{children:e}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{onClick:()=>n(null),style:{background:"transparent",border:"none",color:"var(--accent-color)",cursor:"pointer",textDecoration:"underline"},children:"All"}),s.jsx("button",{onClick:()=>n(new Set),style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",textDecoration:"underline"},children:"None"})]})]}),s.jsx("div",{style:{overflowY:"auto",padding:"8px",flex:1},children:t.map(d=>{const p=u||r.has(d.id);return s.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"4px 0",cursor:"pointer",color:"var(--text-primary)",fontSize:"0.9em"},children:[s.jsx("input",{type:"checkbox",checked:p,onChange:()=>h(d.id),style:{marginRight:"8px"}}),s.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:d.name})]},d.id)})})]})]})},TC=({user:e,settings:t,onShowSettings:r,onGoToDashboard:n,onLogout:o})=>{const[i,a]=b.useState([]),[l,c]=b.useState(!0),[u,h]=b.useState(""),{theme:d,toggleTheme:p}=so(),[f,v]=b.useState("this_week"),[y,k]=b.useState({start:null,end:null}),[m,g]=b.useState(!1),[x,w]=b.useState(null),[I,D]=b.useState("OR"),[E,C]=b.useState("day"),[j,R]=b.useState([]),z=t==null?void 0:t.enableMapView,_=t==null?void 0:t.boardId,J=t==null?void 0:t.boardName,ae=b.useRef(null),ie=b.useRef(null),fe=b.useRef(null),ve=b.useRef(null);b.useEffect(()=>{if(!_)return;c(!0),(async()=>{try{const A=await We(`/boards/${_}/labels`,e.token);R(A);const U=(await We(`/boards/${_}/cards?fields=id,name,labels,idList,due,dueComplete,dateLastActivity,desc,pos,coordinates&pluginData=true`,e.token)).map(be=>{let me=null;if(be.coordinates){const{latitude:Be,longitude:ye}=be.coordinates;Be&&ye&&(me={lat:Be,lng:ye})}return{...be,coordinates:me}}),le=((t==null?void 0:t.statistics)||{}).includedLists||[],Ce=new Set(le);let Ze=U;le.length>0&&(Ze=Ze.filter(be=>Ce.has(be.idList))),a(Ze)}catch(A){h(A.message)}finally{c(!1)}})()},[_,e.token,t==null?void 0:t.statistics]);const M=N=>new Date(1e3*parseInt(N.substring(0,8),16)),H=(N,A)=>{if(A==="all")return!0;if(A==="custom")return y.start?N>=new Date(y.start)&&(!y.end||N<=new Date(y.end)):!0;const L=Dr[A];if(!L)return!0;if(L.type==="relative"){const U=new Date;return U.setMinutes(U.getMinutes()-L.minutes),N>=U}return L.type==="calendar"?N>=L.start&&(!L.end||N<=L.end):!0},V=N=>{if(N==="custom"&&y.start)return{start:new Date(y.start),end:y.end?new Date(y.end):new Date};if(N==="all")return null;const A=Dr[N];if(!A)return null;if(A.type==="relative"){const L=new Date;return L.setMinutes(L.getMinutes()-A.minutes),{start:L,end:new Date}}return A.type==="calendar"?{start:A.start,end:A.end||new Date}:null},Y=(N,A)=>{const L=new Date(N);return A==="hour"?L.toLocaleString("default",{month:"short",day:"numeric",hour:"numeric",hour12:!0}):A==="cumulative_hour"?L.toLocaleString("default",{hour:"numeric",hour12:!0}):A==="month"?L.toLocaleString("default",{month:"short",year:"numeric"}):L.toLocaleDateString()},G=N=>{if(!x||x.size===0)return!0;if(!N.labels||N.labels.length===0)return!1;const A=new Set(N.labels.map(L=>L.id));if(I==="AND"){for(let L of x)if(!A.has(L))return!1;return!0}else{for(let L of x)if(A.has(L))return!0;return!1}};let xe="";if(f==="custom")xe=`${new Date(y.start).toLocaleDateString()} - ${y.end?new Date(y.end).toLocaleDateString():"Now"}`;else{const N=Dr[f];xe=N?N.label:f}let he="";x&&x.size>0&&(he=` - Labels: ${j.filter(A=>x.has(A.id)).map(A=>A.name||A.color).join(", ")}`,he.length>50&&(he=` - Labels: ${x.size} selected`)),b.useEffect(()=>{if(l||i.length===0||(fe.current&&fe.current.destroy(),ve.current&&ve.current.destroy(),!window.Chart))return;if(window.ChartDataLabels)try{window.Chart.register(window.ChartDataLabels)}catch{}const N=i.filter(G),A=V(f),L=new Map;if(A&&(E==="hour"||E==="day"||E==="cumulative_hour")){let Z=new Date(A.start);const de=new Date(A.end);if(Z<de)for(;Z<=de;){const te=Y(Z,E);let mt=Z.getTime();E==="cumulative_hour"&&(mt=Z.getHours()),L.has(te)||L.set(te,{created:0,completed:0,sortDate:mt}),E==="hour"||E==="cumulative_hour"?Z.setHours(Z.getHours()+1):Z.setDate(Z.getDate()+1)}if(E==="cumulative_hour")for(let te=0;te<24;te++){const mt=new Date;mt.setHours(te,0,0,0);const ce=Y(mt,"cumulative_hour");L.has(ce)||L.set(ce,{created:0,completed:0,sortDate:te})}}N.filter(Z=>H(M(Z.id),f)).forEach(Z=>{const de=M(Z.id),te=Y(de,E);let mt=de.getTime();E==="cumulative_hour"&&(mt=de.getHours()),L.has(te)||L.set(te,{created:0,completed:0,sortDate:mt}),L.get(te).created++}),N.filter(Z=>!Z.dueComplete||!Z.due?!1:H(new Date(Z.due),f)).forEach(Z=>{const de=new Date(Z.due),te=Y(de,E);let mt=de.getTime();E==="cumulative_hour"&&(mt=de.getHours()),L.has(te)||L.set(te,{created:0,completed:0,sortDate:mt}),L.get(te).completed++});const le=Array.from(L.keys()).sort((Z,de)=>L.get(Z).sortDate-L.get(de).sortDate),Ce=L&&Array.from(L.values()).reduce((Z,de)=>Z+de.created,0),Ze=L&&Array.from(L.values()).reduce((Z,de)=>Z+de.completed,0),be=ae.current.getContext("2d");fe.current=new window.Chart(be,{type:"line",data:{labels:le,datasets:[{label:`Created (${Ce})`,data:le.map(Z=>L.get(Z).created),borderColor:"#0079bf",backgroundColor:"#0079bf",tension:.1},{label:`Completed (${Ze})`,data:le.map(Z=>L.get(Z).completed),borderColor:"#61bd4f",backgroundColor:"#61bd4f",tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},title:{display:!0,text:`${Ce} cards created / ${Ze} Completed - ${xe}${he}`,font:{size:16}},datalabels:{display:!1}},scales:{x:{title:{display:!0,text:E.includes("hour")?"Hour":"Date"}},y:{title:{display:!0,text:"Count"},beginAtZero:!0}}}});const Be=i.filter(Z=>H(M(Z.id),f)).filter(G),ye={};Be.forEach(Z=>{if(!Z.labels||Z.labels.length===0){const de="No Label";ye[de]=(ye[de]||0)+1}else{const de=Z.labels.map(te=>te.name||te.color).sort().join(" + ");ye[de]=(ye[de]||0)+1}});const Tt=ie.current.getContext("2d");ve.current=new window.Chart(Tt,{type:"pie",data:{labels:Object.keys(ye),datasets:[{data:Object.values(ye),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8e5ea2","#3cba9f","#e8c3b9","#c45850"]}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:50},plugins:{legend:{display:!1},datalabels:{color:"#000",anchor:"end",align:"end",offset:10,backgroundColor:"rgba(255,255,255,0.8)",borderRadius:4,padding:4,formatter:(Z,de)=>[de.chart.data.labels[de.dataIndex],`(${Z})`],font:{weight:"bold",size:11}}}}})},[i,f,E,x,I,y]);const oe=(N,A)=>{if(!window.html2canvas){alert("Export library not loaded.");return}const L=N?document.getElementById(N):document.querySelector(".dashboard-grid");window.html2canvas(L).then(U=>{const q=document.createElement("a");q.download=`${J}-stats-${A||"all"}.png`,q.href=U.toDataURL(),q.click()})};return s.jsxs("div",{className:"statistics-view",style:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",backgroundColor:"var(--bg-primary)"},children:[s.jsxs("div",{className:"map-header",children:[s.jsxs("div",{className:"header-title-area",style:{display:"flex",alignItems:"center"},children:[s.jsx(wd,{boardId:_}),s.jsxs("h1",{style:{marginLeft:"20px"},children:[J," - Statistics"]})]}),s.jsxs("div",{className:"header-actions",style:{display:"flex",alignItems:"center"},children:[s.jsx(fu,{labels:j,selectedLabelIds:x,onChange:w,labelLogic:I,onLabelLogicChange:D}),s.jsxs("select",{className:"time-filter-select",value:f,onChange:N=>{const A=N.target.value;v(A),g(A==="custom")},style:{marginLeft:"10px"},children:[s.jsx("option",{value:"this_week",children:"Created: This Week"}),Object.keys(Dr).filter(N=>N!=="all").map(N=>s.jsx("option",{value:N,children:Dr[N].label},N)),s.jsx("option",{value:"custom",children:"Custom Range"})]}),f==="custom"&&s.jsxs("div",{style:{display:"inline-flex",gap:"5px",marginLeft:"10px",alignItems:"center"},children:[s.jsx("input",{type:"date",value:y.start||"",onChange:N=>k({...y,start:N.target.value})}),s.jsx("span",{children:"to"}),s.jsx("input",{type:"date",value:y.end||"",onChange:N=>k({...y,end:N.target.value})})]}),s.jsx("button",{className:"theme-toggle-button",onClick:()=>p(),style:{marginLeft:"15px",padding:"6px",fontSize:"1.2em",background:"none",border:"none",cursor:"pointer"},children:d==="dark"?"":""})]})]}),s.jsx("div",{className:"container",style:{flex:1,paddingBottom:"80px"},children:l?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",fontSize:"1.2em",color:"#666"},children:"Generating stats..."}):s.jsxs("div",{id:"stats-export-area",className:"dashboard-grid",style:{marginTop:"20px",display:"flex",flexDirection:"column",gap:"30px",padding:"0 20px"},children:[s.jsxs("div",{className:"form-card",id:"card-line-chart",style:{width:"100%",minHeight:"400px",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[s.jsx("h3",{children:"Cards Created / Completed"}),s.jsxs("div",{style:{display:"flex",gap:"5px"},children:[s.jsxs("select",{value:E,onChange:N=>C(N.target.value),style:{padding:"2px",fontSize:"0.9em"},children:[s.jsx("option",{value:"day",children:"By Day"}),s.jsx("option",{value:"hour",children:"By Hour"}),s.jsx("option",{value:"cumulative_hour",children:"Per Hour (Cumulative)"}),s.jsx("option",{value:"month",children:"By Month"})]}),s.jsx("button",{onClick:()=>oe("card-line-chart","timeline"),style:{fontSize:"0.8em",padding:"2px 5px"},children:"Export"})]})]}),s.jsx("div",{style:{flex:1,position:"relative"},children:s.jsx("canvas",{ref:ae})})]}),s.jsxs("div",{className:"form-card",id:"card-pie-chart",style:{width:"100%",minHeight:"500px",display:"flex",flexDirection:"column"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[s.jsxs("h3",{children:["Labels Breakdown - ",xe]}),s.jsx("button",{onClick:()=>oe("card-pie-chart","labels"),style:{fontSize:"0.8em",padding:"2px 5px"},children:"Export"})]}),s.jsx("div",{style:{flex:1,position:"relative"},children:s.jsx("canvas",{ref:ie})})]})]})}),s.jsxs("div",{className:"footer-action-bar",children:[s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{className:"button-secondary",onClick:n,children:"Dashboard View"}),s.jsx("button",{className:"button-secondary",disabled:!z,onClick:()=>window.location.href="/map",children:"Map View"})]}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{className:"button-secondary",onClick:r,children:"Settings"}),s.jsx("button",{className:"button-secondary",onClick:o,children:"Log Out"})]})]})]})},NC=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(null),[o,i]=b.useState("landing"),[a,l]=b.useState(!0),[c,u]=b.useState(""),[h,d]=b.useState("dashboard"),[p,f]=b.useState(null),[v,y]=b.useState(null),[k,m]=b.useState(!1),[g,x]=b.useState(null);b.useEffect(()=>{const R=new URLSearchParams(window.location.search).get("config");if(R)try{atob(R),localStorage.setItem("PENDING_SHARE_CONFIG",R),window.history.replaceState({},document.title,window.location.pathname)}catch{console.error("Invalid config param in URL")}const z=window.location.pathname;z==="/map"?i("map"):z==="/tasks"?i("tasks"):z==="/tasks/settings"?i("tasks-settings"):z==="/stats"?i("stats"):z==="/settings"&&i("settings");const _=Yn.getTokenFromUrl();if(_)D(_);else{const J=J1();if(J){const ie=(JSON.parse(localStorage.getItem(Ee.USER_DATA))||{})[J];ie&&ie.token?D(ie.token):(z!=="/map"&&i("landing"),l(!1))}else z!=="/map"&&i("landing"),l(!1)}},[]),b.useEffect(()=>{o==="dashboard"&&localStorage.getItem("openSettingsOnLoad")==="true"&&(localStorage.removeItem("openSettingsOnLoad"),y("dashboard"),i("settings"))},[o]),b.useEffect(()=>{let j;if(k){const R=((r==null?void 0:r.slideshowInterval)||10)*1e3;j=setInterval(()=>{x(z=>z==="dashboard"?"map":"dashboard")},R)}return()=>clearInterval(j)},[k,r]);const w=()=>{m(!0),x(o==="map"?"map":"dashboard")},I=()=>{m(!1),x(null)},D=async j=>{l(!0),u("");try{const R=await We("/members/me",j),z={id:R.id,username:R.username,fullName:R.fullName,token:j};Ii(R.id,"token",j),Ii(R.id,"username",R.username),oc(R.id),t(z);const _=is(R.id,"settings"),J=window.location.pathname,ae=_&&_.enableTaskView,ie=_&&_.boardId;J==="/tasks"||J==="/tasks/settings"?J==="/tasks"&&!ae?(console.log("Task View disabled, redirecting to /tasks/settings"),i("tasks-settings"),window.history.replaceState({},"","/tasks/settings")):i(J==="/tasks/settings"?"tasks-settings":"tasks"):J==="/map"?ie?(_&&n(_),i("map")):(console.log("No board configured, redirecting to /settings"),i("settings"),window.history.replaceState({},"","/settings")):J==="/settings"?(_&&n(_),i("settings")):J==="/stats"?ie?(_&&n(_),i("stats")):(i("settings"),window.history.replaceState({},"","/settings")):ie?(n(_),i("dashboard"),J!=="/dashboard"&&window.history.replaceState({},"","/dashboard")):(i("settings"),window.history.replaceState({},"","/settings")),_&&n(_);const fe=localStorage.getItem("PENDING_SHARE_CONFIG");if(fe)try{const ve=decodeURIComponent(escape(atob(fe))),M=JSON.parse(ve);f(M),i("settings"),y("dashboard"),localStorage.removeItem("PENDING_SHARE_CONFIG"),console.log("Loaded pending shared configuration")}catch(ve){console.error("Failed to load pending config",ve)}}catch(R){console.error("Login validation failed:",R),u("Failed to validate Trello session. Please log in again."),oc(null),i("landing")}finally{l(!1)}},E=()=>{e&&Ii(e.id,"token",null),oc(null),t(null),n(null),i("landing"),y(null),Yn.logout()},C=j=>{if(j&&n(j),o==="tasks-settings"&&j&&j.enableTaskView){i("tasks"),window.history.pushState({},"","/tasks");return}v==="map"&&(j!=null&&j.boardId)?(i("map"),window.history.pushState({},"","/map")):v==="tasks"&&(j!=null&&j.enableTaskView)?(i("tasks"),window.history.pushState({},"","/tasks")):j!=null&&j.boardId?(i("dashboard"),window.history.pushState({},"","/dashboard")):(i("settings"),window.history.pushState({},"","/settings"))};return a?s.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"50px"},children:"Initializing Trellops..."}):c?s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"error",style:{textAlign:"center",marginTop:"50px"},children:c}),s.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:s.jsx("button",{className:"settings-button",onClick:()=>{u(""),i("landing")},children:"Go to Login"})})]}):o==="map"?s.jsx(Xm,{user:e,settings:r,onClose:()=>{i("dashboard"),window.history.pushState({},"","/dashboard")},onShowSettings:()=>{y("map"),d("map"),i("settings"),window.history.pushState({},"","/settings")},onLogout:E,onShowTasks:()=>{y("map"),i("tasks"),window.history.pushState({},"","/tasks")},onShowDashboard:()=>{i("dashboard"),window.history.pushState({},"","/dashboard")},slideshowContent:k?g:null,onStartSlideshow:w,onStopSlideshow:k?I:null}):o==="tasks"?s.jsx(DC,{user:e,settings:r,onClose:()=>{i("dashboard"),window.history.pushState({},"","/dashboard")},onMainView:()=>{i("dashboard"),window.history.pushState({},"","/dashboard")},onShowSettings:()=>{y("tasks"),d("tasks"),i("tasks-settings"),window.history.pushState({},"","/tasks/settings")},onShowMap:()=>{y("tasks"),i("map"),window.history.pushState({},"","/map")},onLogout:E,onGoToStats:()=>{y("settings"),i("stats")}}):o==="stats"&&e?s.jsx(TC,{user:e,settings:r,onShowSettings:()=>{y("stats"),i("settings"),d("statistics")},onGoToDashboard:()=>i("dashboard"),onLogout:E}):o==="landing"?s.jsx(xf,{}):o==="dashboard"?s.jsx(ev,{user:e,settings:r,onShowSettings:()=>{y("dashboard"),d("dashboard"),i("settings"),window.history.pushState({},"","/settings")},onLogout:E,onShowTasks:()=>{y("dashboard"),i("tasks"),window.history.pushState({},"","/tasks")},onShowMap:()=>{y("dashboard"),i("map"),window.history.pushState({},"","/map")},slideshowContent:k?g:null,onStartSlideshow:w,onStopSlideshow:k?I:null}):o==="settings"?s.jsx(wh,{user:e,initialTab:h,onSave:C,onClose:()=>{r!=null&&r.boardId?v==="map"?(i("map"),window.history.pushState({},"","/map")):(i("dashboard"),window.history.pushState({},"","/dashboard")):window.location.href="/"},onLogout:E,importedConfig:p,onClearImportConfig:()=>f(null),viewMode:"default",onManageTasks:()=>{i("tasks-settings"),window.history.pushState({},"","/tasks/settings")},onGoToStats:()=>{y("settings"),i("stats"),window.history.pushState({},"","/stats")}}):o==="tasks-settings"?s.jsx(wh,{user:e,initialTab:"tasks",onSave:C,onClose:()=>{r!=null&&r.enableTaskView?(i("tasks"),window.history.pushState({},"","/tasks")):r!=null&&r.boardId?(i("dashboard"),window.history.pushState({},"","/dashboard")):window.location.href="/"},onLogout:E,viewMode:"tasks"}):s.jsx(xf,{})},RC=()=>{const[e,t]=b.useState(!1);return b.useEffect(()=>{window.location.hostname!=="trellops.xyz"&&t(!0)},[]),e?s.jsx("div",{style:{width:"100%",backgroundColor:"#003366",color:"#ffffff",textAlign:"center",padding:"4px 0",fontSize:"12px",fontWeight:"bold",letterSpacing:"1px",zIndex:9999,position:"relative"},children:"PREVIEW ENVIRONMENT"}):null};yc.createRoot(document.getElementById("root")).render(s.jsx(Ne.StrictMode,{children:s.jsxs(X1,{children:[s.jsx(RC,{}),s.jsx(NC,{})]})}));
